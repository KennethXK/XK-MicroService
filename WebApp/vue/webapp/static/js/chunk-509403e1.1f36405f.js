(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-509403e1"],{"00fd":function(t,e,n){var r=n("9e69"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;function l(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(l){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}t.exports=l},"0676":function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"0dd0":function(t,e,n){},"11b0":function(t,e){function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1d92":function(t,e,n){var r=n("e0ef");function i(t){return r(2,t)}t.exports=i},"21a6":function(t,e,n){(function(n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){l(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,e,n){var a=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):i(l.href)?r(t,e,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(i(t))r(t,n,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var h=s.URL||s.webkitURL,p=h.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))}).call(this,n("c8ba"))},2236:function(t,e,n){var r=n("5a43");function i(t){if(Array.isArray(t))return r(t)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},2655:function(t,e){function n(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then}t.exports=n,t.exports.default=n},"278c":function(t,e,n){var r=n("c135"),i=n("9b42"),o=n("6613"),s=n("c240");function a(t,e){return r(t)||i(t,e)||o(t,e)||s()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},"28a0":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},"29f3":function(t,e){var n=Object.prototype,r=n.toString;function i(t){return r.call(t)}t.exports=i},"2b3e":function(t,e,n){var r=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},"2e39":function(t,e,n){"use strict";function r(t,e){var n=e.length,r=t.length;if(r>n)return!1;if(r===n)return t===e;t:for(var i=0,o=0;i<r;i++){var s=t.charCodeAt(i);while(o<n)if(e.charCodeAt(o++)===s)continue t;return!1}return!0}t.exports=r},"2ef0":function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,d="__lodash_placeholder__",f=1,m=2,g=4,v=1,_=2,y=1,b=2,w=4,x=8,k=16,C=32,S=64,T=128,E=256,O=512,M=30,N="...",A=800,D=16,L=1,I=2,R=3,P=1/0,B=9007199254740991,j=17976931348623157e292,F=NaN,z=4294967295,H=z-1,$=z>>>1,W=[["ary",T],["bind",y],["bindKey",b],["curry",x],["curryRight",k],["flip",O],["partial",C],["partialRight",S],["rearg",E]],V="[object Arguments]",U="[object Array]",q="[object AsyncFunction]",K="[object Boolean]",G="[object Date]",X="[object DOMException]",Y="[object Error]",J="[object Function]",Q="[object GeneratorFunction]",Z="[object Map]",tt="[object Number]",et="[object Null]",nt="[object Object]",rt="[object Promise]",it="[object Proxy]",ot="[object RegExp]",st="[object Set]",at="[object String]",lt="[object Symbol]",ut="[object Undefined]",ct="[object WeakMap]",ht="[object WeakSet]",pt="[object ArrayBuffer]",dt="[object DataView]",ft="[object Float32Array]",mt="[object Float64Array]",gt="[object Int8Array]",vt="[object Int16Array]",_t="[object Int32Array]",yt="[object Uint8Array]",bt="[object Uint8ClampedArray]",wt="[object Uint16Array]",xt="[object Uint32Array]",kt=/\b__p \+= '';/g,Ct=/\b(__p \+=) '' \+/g,St=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,Ot=RegExp(Tt.source),Mt=RegExp(Et.source),Nt=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp(Pt.source),jt=/^\s+/,Ft=/\s/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ht=/\{\n\/\* \[wrapped with (.+)\] \*/,$t=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vt=/[()=,{}\[\]\/\s]/,Ut=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,Xt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,te=/($^)/,ee=/['\n\r\u2028\u2029\\]/g,ne="\\ud800-\\udfff",re="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",oe="\\u20d0-\\u20ff",se=re+ie+oe,ae="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",ue="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",he="\\u2000-\\u206f",pe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",me=ue+ce+he+pe,ge="['’]",ve="["+ne+"]",_e="["+me+"]",ye="["+se+"]",be="\\d+",we="["+ae+"]",xe="["+le+"]",ke="[^"+ne+me+be+ae+le+de+"]",Ce="\\ud83c[\\udffb-\\udfff]",Se="(?:"+ye+"|"+Ce+")",Te="[^"+ne+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="["+de+"]",Ne="\\u200d",Ae="(?:"+xe+"|"+ke+")",De="(?:"+Me+"|"+ke+")",Le="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Ie="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",Re=Se+"?",Pe="["+fe+"]?",Be="(?:"+Ne+"(?:"+[Te,Ee,Oe].join("|")+")"+Pe+Re+")*",je="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ze=Pe+Re+Be,He="(?:"+[we,Ee,Oe].join("|")+")"+ze,$e="(?:"+[Te+ye+"?",ye,Ee,Oe,ve].join("|")+")",We=RegExp(ge,"g"),Ve=RegExp(ye,"g"),Ue=RegExp(Ce+"(?="+Ce+")|"+$e+ze,"g"),qe=RegExp([Me+"?"+xe+"+"+Le+"(?="+[_e,Me,"$"].join("|")+")",De+"+"+Ie+"(?="+[_e,Me+Ae,"$"].join("|")+")",Me+"?"+Ae+"+"+Le,Me+"+"+Ie,Fe,je,be,He].join("|"),"g"),Ke=RegExp("["+Ne+ne+se+fe+"]"),Ge=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ye=-1,Je={};Je[ft]=Je[mt]=Je[gt]=Je[vt]=Je[_t]=Je[yt]=Je[bt]=Je[wt]=Je[xt]=!0,Je[V]=Je[U]=Je[pt]=Je[K]=Je[dt]=Je[G]=Je[Y]=Je[J]=Je[Z]=Je[tt]=Je[nt]=Je[ot]=Je[st]=Je[at]=Je[ct]=!1;var Qe={};Qe[V]=Qe[U]=Qe[pt]=Qe[dt]=Qe[K]=Qe[G]=Qe[ft]=Qe[mt]=Qe[gt]=Qe[vt]=Qe[_t]=Qe[Z]=Qe[tt]=Qe[nt]=Qe[ot]=Qe[st]=Qe[at]=Qe[lt]=Qe[yt]=Qe[bt]=Qe[wt]=Qe[xt]=!0,Qe[Y]=Qe[J]=Qe[ct]=!1;var Ze={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,on=parseInt,sn="object"==typeof t&&t&&t.Object===Object&&t,an="object"==typeof self&&self&&self.Object===Object&&self,ln=sn||an||Function("return this")(),un=e&&!e.nodeType&&e,cn=un&&"object"==typeof r&&r&&!r.nodeType&&r,hn=cn&&cn.exports===un,pn=hn&&sn.process,dn=function(){try{var t=cn&&cn.require&&cn.require("util").types;return t||pn&&pn.binding&&pn.binding("util")}catch(e){}}(),fn=dn&&dn.isArrayBuffer,mn=dn&&dn.isDate,gn=dn&&dn.isMap,vn=dn&&dn.isRegExp,_n=dn&&dn.isSet,yn=dn&&dn.isTypedArray;function bn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function wn(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var s=t[i];e(r,s,n(s),t)}return r}function xn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function kn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Cn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function Sn(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Tn(t,e){var n=null==t?0:t.length;return!!n&&jn(t,e,0)>-1}function En(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}function On(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function Mn(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function Nn(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function An(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function Dn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var Ln=$n("length");function In(t){return t.split("")}function Rn(t){return t.match(Wt)||[]}function Pn(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Bn(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function jn(t,e,n){return e===e?fr(t,e,n):Bn(t,zn,n)}function Fn(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}function zn(t){return t!==t}function Hn(t,e){var n=null==t?0:t.length;return n?qn(t,e)/n:F}function $n(t){return function(e){return null==e?o:e[t]}}function Wn(t){return function(e){return null==t?o:t[e]}}function Vn(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Un(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function qn(t,e){var n,r=-1,i=t.length;while(++r<i){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function Kn(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function Gn(t,e){return On(e,(function(e){return[e,t[e]]}))}function Xn(t){return t?t.slice(0,_r(t)+1).replace(jt,""):t}function Yn(t){return function(e){return t(e)}}function Jn(t,e){return On(e,(function(e){return t[e]}))}function Qn(t,e){return t.has(e)}function Zn(t,e){var n=-1,r=t.length;while(++n<r&&jn(e,t[n],0)>-1);return n}function tr(t,e){var n=t.length;while(n--&&jn(e,t[n],0)>-1);return n}function er(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var nr=Wn(Ze),rr=Wn(tn);function ir(t){return"\\"+nn[t]}function or(t,e){return null==t?o:t[e]}function sr(t){return Ke.test(t)}function ar(t){return Ge.test(t)}function lr(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function ur(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cr(t,e){return function(n){return t(e(n))}}function hr(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var s=t[n];s!==e&&s!==d||(t[n]=d,o[i++]=n)}return o}function pr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fr(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function mr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function gr(t){return sr(t)?br(t):Ln(t)}function vr(t){return sr(t)?wr(t):In(t)}function _r(t){var e=t.length;while(e--&&Ft.test(t.charAt(e)));return e}var yr=Wn(en);function br(t){var e=Ue.lastIndex=0;while(Ue.test(t))++e;return e}function wr(t){return t.match(Ue)||[]}function xr(t){return t.match(qe)||[]}var kr=function t(e){e=null==e?ln:Cr.defaults(ln.Object(),e,Cr.pick(ln,Xe));var n=e.Array,r=e.Date,i=e.Error,Ft=e.Function,Wt=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,se=n.prototype,ae=Ft.prototype,le=ne.prototype,ue=e["__core-js_shared__"],ce=ae.toString,he=le.hasOwnProperty,pe=0,de=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fe=le.toString,me=ce.call(ne),ge=ln._,ve=re("^"+ce.call(he).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=hn?e.Buffer:o,ye=e.Symbol,be=e.Uint8Array,we=_e?_e.allocUnsafe:o,xe=cr(ne.getPrototypeOf,ne),ke=ne.create,Ce=le.propertyIsEnumerable,Se=se.splice,Te=ye?ye.isConcatSpreadable:o,Ee=ye?ye.iterator:o,Oe=ye?ye.toStringTag:o,Me=function(){try{var t=Ks(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ne=e.clearTimeout!==ln.clearTimeout&&e.clearTimeout,Ae=r&&r.now!==ln.Date.now&&r.now,De=e.setTimeout!==ln.setTimeout&&e.setTimeout,Le=Wt.ceil,Ie=Wt.floor,Re=ne.getOwnPropertySymbols,Pe=_e?_e.isBuffer:o,Be=e.isFinite,je=se.join,Fe=cr(ne.keys,ne),ze=Wt.max,He=Wt.min,$e=r.now,Ue=e.parseInt,qe=Wt.random,Ke=se.reverse,Ge=Ks(e,"DataView"),Ze=Ks(e,"Map"),tn=Ks(e,"Promise"),en=Ks(e,"Set"),nn=Ks(e,"WeakMap"),sn=Ks(ne,"create"),an=nn&&new nn,un={},cn=Da(Ge),pn=Da(Ze),dn=Da(tn),Ln=Da(en),In=Da(nn),Wn=ye?ye.prototype:o,fr=Wn?Wn.valueOf:o,br=Wn?Wn.toString:o;function wr(t){if(Sc(t)&&!lc(t)&&!(t instanceof Er)){if(t instanceof Tr)return t;if(he.call(t,"__wrapped__"))return Ia(t)}return new Tr(t)}var kr=function(){function t(){}return function(e){if(!Cc(e))return{};if(ke)return ke(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Sr(){}function Tr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Er(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Or(){var t=new Er(this.__wrapped__);return t.__actions__=is(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=is(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=is(this.__views__),t}function Mr(){if(this.__filtered__){var t=new Er(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Nr(){var t=this.__wrapped__.value(),e=this.__dir__,n=lc(t),r=e<0,i=n?t.length:0,o=Qs(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,p=0,d=He(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Fo(t,this.__actions__);var f=[];t:while(l--&&p<d){u+=e;var m=-1,g=t[u];while(++m<h){var v=c[m],_=v.iteratee,y=v.type,b=_(g);if(y==I)g=b;else if(!b){if(y==L)continue t;break t}}f[p++]=g}return f}function Ar(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dr(){this.__data__=sn?sn(null):{},this.size=0}function Lr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ir(t){var e=this.__data__;if(sn){var n=e[t];return n===h?o:n}return he.call(e,t)?e[t]:o}function Rr(t){var e=this.__data__;return sn?e[t]!==o:he.call(e,t)}function Pr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sn&&e===o?h:e,this}function Br(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function jr(){this.__data__=[],this.size=0}function Fr(t){var e=this.__data__,n=ci(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Se.call(e,n,1),--this.size,!0}function zr(t){var e=this.__data__,n=ci(e,t);return n<0?o:e[n][1]}function Hr(t){return ci(this.__data__,t)>-1}function $r(t,e){var n=this.__data__,r=ci(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Wr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Vr(){this.size=0,this.__data__={hash:new Ar,map:new(Ze||Br),string:new Ar}}function Ur(t){var e=Us(this,t)["delete"](t);return this.size-=e?1:0,e}function qr(t){return Us(this,t).get(t)}function Kr(t){return Us(this,t).has(t)}function Gr(t,e){var n=Us(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Xr(t){var e=-1,n=null==t?0:t.length;this.__data__=new Wr;while(++e<n)this.add(t[e])}function Yr(t){return this.__data__.set(t,h),this}function Jr(t){return this.__data__.has(t)}function Qr(t){var e=this.__data__=new Br(t);this.size=e.size}function Zr(){this.__data__=new Br,this.size=0}function ti(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function ei(t){return this.__data__.get(t)}function ni(t){return this.__data__.has(t)}function ri(t,e){var n=this.__data__;if(n instanceof Br){var r=n.__data__;if(!Ze||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wr(r)}return n.set(t,e),this.size=n.size,this}function ii(t,e){var n=lc(t),r=!n&&ac(t),i=!n&&!r&&dc(t),o=!n&&!r&&!i&&zc(t),s=n||r||i||o,a=s?Kn(t.length,ie):[],l=a.length;for(var u in t)!e&&!he.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||sa(u,l))||a.push(u);return a}function oi(t){var e=t.length;return e?t[_o(0,e-1)]:o}function si(t,e){return Ma(is(t),gi(e,0,t.length))}function ai(t){return Ma(is(t))}function li(t,e,n){(n!==o&&!ic(t[e],n)||n===o&&!(e in t))&&fi(t,e,n)}function ui(t,e,n){var r=t[e];he.call(t,e)&&ic(r,n)&&(n!==o||e in t)||fi(t,e,n)}function ci(t,e){var n=t.length;while(n--)if(ic(t[n][0],e))return n;return-1}function hi(t,e,n,r){return xi(t,(function(t,i,o){e(r,t,n(t),o)})),r}function pi(t,e){return t&&os(e,xh(e),t)}function di(t,e){return t&&os(e,kh(e),t)}function fi(t,e,n){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function mi(t,e){var r=-1,i=e.length,s=n(i),a=null==t;while(++r<i)s[r]=a?o:gh(t,e[r]);return s}function gi(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function vi(t,e,n,r,i,s){var a,l=e&f,u=e&m,c=e&g;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!Cc(t))return t;var h=lc(t);if(h){if(a=ea(t),!l)return is(t,a)}else{var p=Js(t),d=p==J||p==Q;if(dc(t))return Go(t,l);if(p==nt||p==V||d&&!i){if(a=u||d?{}:na(t),!l)return u?as(t,di(a,t)):ss(t,pi(a,t))}else{if(!Qe[p])return i?t:{};a=ra(t,p,l)}}s||(s=new Qr);var v=s.get(t);if(v)return v;s.set(t,a),Bc(t)?t.forEach((function(r){a.add(vi(r,e,n,r,t,s))})):Tc(t)&&t.forEach((function(r,i){a.set(i,vi(r,e,n,i,t,s))}));var _=c?u?zs:Fs:u?kh:xh,y=h?o:_(t);return xn(y||t,(function(r,i){y&&(i=r,r=t[i]),ui(a,i,vi(r,e,n,i,t,s))})),a}function _i(t){var e=xh(t);return function(n){return yi(n,t,e)}}function yi(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function bi(t,e,n){if("function"!=typeof t)throw new oe(u);return Sa((function(){t.apply(o,n)}),e)}function wi(t,e,n,r){var i=-1,o=Tn,s=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=On(e,Yn(n))),r?(o=En,s=!1):e.length>=a&&(o=Qn,s=!1,e=new Xr(e));t:while(++i<l){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,s&&p===p){var d=c;while(d--)if(e[d]===p)continue t;u.push(h)}else o(e,p,r)||u.push(h)}return u}wr.templateSettings={escape:Nt,evaluate:At,interpolate:Dt,variable:"",imports:{_:wr}},wr.prototype=Sr.prototype,wr.prototype.constructor=wr,Tr.prototype=kr(Sr.prototype),Tr.prototype.constructor=Tr,Er.prototype=kr(Sr.prototype),Er.prototype.constructor=Er,Ar.prototype.clear=Dr,Ar.prototype["delete"]=Lr,Ar.prototype.get=Ir,Ar.prototype.has=Rr,Ar.prototype.set=Pr,Br.prototype.clear=jr,Br.prototype["delete"]=Fr,Br.prototype.get=zr,Br.prototype.has=Hr,Br.prototype.set=$r,Wr.prototype.clear=Vr,Wr.prototype["delete"]=Ur,Wr.prototype.get=qr,Wr.prototype.has=Kr,Wr.prototype.set=Gr,Xr.prototype.add=Xr.prototype.push=Yr,Xr.prototype.has=Jr,Qr.prototype.clear=Zr,Qr.prototype["delete"]=ti,Qr.prototype.get=ei,Qr.prototype.has=ni,Qr.prototype.set=ri;var xi=cs(Ai),ki=cs(Di,!0);function Ci(t,e){var n=!0;return xi(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function Si(t,e,n){var r=-1,i=t.length;while(++r<i){var s=t[r],a=e(s);if(null!=a&&(l===o?a===a&&!Fc(a):n(a,l)))var l=a,u=s}return u}function Ti(t,e,n,r){var i=t.length;n=Gc(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:Gc(r),r<0&&(r+=i),r=n>r?0:Xc(r);while(n<r)t[n++]=e;return t}function Ei(t,e){var n=[];return xi(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Oi(t,e,n,r,i){var o=-1,s=t.length;n||(n=oa),i||(i=[]);while(++o<s){var a=t[o];e>0&&n(a)?e>1?Oi(a,e-1,n,r,i):Mn(i,a):r||(i[i.length]=a)}return i}var Mi=hs(),Ni=hs(!0);function Ai(t,e){return t&&Mi(t,e,xh)}function Di(t,e){return t&&Ni(t,e,xh)}function Li(t,e){return Sn(e,(function(e){return wc(t[e])}))}function Ii(t,e){e=Vo(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Aa(e[n++])];return n&&n==r?t:o}function Ri(t,e,n){var r=e(t);return lc(t)?r:Mn(r,n(t))}function Pi(t){return null==t?t===o?ut:et:Oe&&Oe in ne(t)?Gs(t):ya(t)}function Bi(t,e){return t>e}function ji(t,e){return null!=t&&he.call(t,e)}function Fi(t,e){return null!=t&&e in ne(t)}function zi(t,e,n){return t>=He(e,n)&&t<ze(e,n)}function Hi(t,e,r){var i=r?En:Tn,s=t[0].length,a=t.length,l=a,u=n(a),c=1/0,h=[];while(l--){var p=t[l];l&&e&&(p=On(p,Yn(e))),c=He(p.length,c),u[l]=!r&&(e||s>=120&&p.length>=120)?new Xr(l&&p):o}p=t[0];var d=-1,f=u[0];t:while(++d<s&&h.length<c){var m=p[d],g=e?e(m):m;if(m=r||0!==m?m:0,!(f?Qn(f,g):i(h,g,r))){l=a;while(--l){var v=u[l];if(!(v?Qn(v,g):i(t[l],g,r)))continue t}f&&f.push(g),h.push(m)}}return h}function $i(t,e,n,r){return Ai(t,(function(t,i,o){e(r,n(t),i,o)})),r}function Wi(t,e,n){e=Vo(e,t),t=wa(t,e);var r=null==t?t:t[Aa(ol(e))];return null==r?o:bn(r,t,n)}function Vi(t){return Sc(t)&&Pi(t)==V}function Ui(t){return Sc(t)&&Pi(t)==pt}function qi(t){return Sc(t)&&Pi(t)==G}function Ki(t,e,n,r,i){return t===e||(null==t||null==e||!Sc(t)&&!Sc(e)?t!==t&&e!==e:Gi(t,e,n,r,Ki,i))}function Gi(t,e,n,r,i,o){var s=lc(t),a=lc(e),l=s?U:Js(t),u=a?U:Js(e);l=l==V?nt:l,u=u==V?nt:u;var c=l==nt,h=u==nt,p=l==u;if(p&&dc(t)){if(!dc(e))return!1;s=!0,c=!1}if(p&&!c)return o||(o=new Qr),s||zc(t)?Rs(t,e,n,r,i,o):Ps(t,e,l,n,r,i,o);if(!(n&v)){var d=c&&he.call(t,"__wrapped__"),f=h&&he.call(e,"__wrapped__");if(d||f){var m=d?t.value():t,g=f?e.value():e;return o||(o=new Qr),i(m,g,n,r,o)}}return!!p&&(o||(o=new Qr),Bs(t,e,n,r,i,o))}function Xi(t){return Sc(t)&&Js(t)==Z}function Yi(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;t=ne(t);while(i--){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++i<s){l=n[i];var u=l[0],c=t[u],h=l[1];if(a&&l[2]){if(c===o&&!(u in t))return!1}else{var p=new Qr;if(r)var d=r(c,h,u,t,e,p);if(!(d===o?Ki(h,c,v|_,r,p):d))return!1}}return!0}function Ji(t){if(!Cc(t)||ha(t))return!1;var e=wc(t)?ve:Yt;return e.test(Da(t))}function Qi(t){return Sc(t)&&Pi(t)==ot}function Zi(t){return Sc(t)&&Js(t)==st}function to(t){return Sc(t)&&kc(t.length)&&!!Je[Pi(t)]}function eo(t){return"function"==typeof t?t:null==t?Np:"object"==typeof t?lc(t)?ao(t[0],t[1]):so(t):Wp(t)}function no(t){if(!da(t))return Fe(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ro(t){if(!Cc(t))return _a(t);var e=da(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function io(t,e){return t<e}function oo(t,e){var r=-1,i=cc(t)?n(t.length):[];return xi(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function so(t){var e=qs(t);return 1==e.length&&e[0][2]?ma(e[0][0],e[0][1]):function(n){return n===t||Yi(n,t,e)}}function ao(t,e){return la(t)&&fa(e)?ma(Aa(t),e):function(n){var r=gh(n,t);return r===o&&r===e?_h(n,t):Ki(e,r,v|_)}}function lo(t,e,n,r,i){t!==e&&Mi(e,(function(s,a){if(i||(i=new Qr),Cc(s))uo(t,e,a,n,lo,r,i);else{var l=r?r(ka(t,a),s,a+"",t,e,i):o;l===o&&(l=s),li(t,a,l)}}),kh)}function uo(t,e,n,r,i,s,a){var l=ka(t,n),u=ka(e,n),c=a.get(u);if(c)li(t,n,c);else{var h=s?s(l,u,n+"",t,e,a):o,p=h===o;if(p){var d=lc(u),f=!d&&dc(u),m=!d&&!f&&zc(u);h=u,d||f||m?lc(l)?h=l:hc(l)?h=is(l):f?(p=!1,h=Go(u,!0)):m?(p=!1,h=Zo(u,!0)):h=[]:Ic(u)||ac(u)?(h=l,ac(l)?h=Jc(l):Cc(l)&&!wc(l)||(h=na(u))):p=!1}p&&(a.set(u,h),i(h,u,r,s,a),a["delete"](u)),li(t,n,h)}}function co(t,e){var n=t.length;if(n)return e+=e<0?n:0,sa(e,n)?t[e]:o}function ho(t,e,n){e=e.length?On(e,(function(t){return lc(t)?function(e){return Ii(e,1===t.length?t[0]:t)}:t})):[Np];var r=-1;e=On(e,Yn(Vs()));var i=oo(t,(function(t,n,i){var o=On(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return Un(i,(function(t,e){return es(t,e,n)}))}function po(t,e){return fo(t,e,(function(e,n){return _h(t,n)}))}function fo(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var s=e[r],a=Ii(t,s);n(a,s)&&Co(o,Vo(s,t),a)}return o}function mo(t){return function(e){return Ii(e,t)}}function go(t,e,n,r){var i=r?Fn:jn,o=-1,s=e.length,a=t;t===e&&(e=is(e)),n&&(a=On(t,Yn(n)));while(++o<s){var l=0,u=e[o],c=n?n(u):u;while((l=i(a,c,l,r))>-1)a!==t&&Se.call(a,l,1),Se.call(t,l,1)}return t}function vo(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;sa(i)?Se.call(t,i,1):Po(t,i)}}return t}function _o(t,e){return t+Ie(qe()*(e-t+1))}function yo(t,e,r,i){var o=-1,s=ze(Le((e-t)/(r||1)),0),a=n(s);while(s--)a[i?s:++o]=t,t+=r;return a}function bo(t,e){var n="";if(!t||e<1||e>B)return n;do{e%2&&(n+=t),e=Ie(e/2),e&&(t+=t)}while(e);return n}function wo(t,e){return Ta(ba(t,e,Np),t+"")}function xo(t){return oi(Hh(t))}function ko(t,e){var n=Hh(t);return Ma(n,gi(e,0,n.length))}function Co(t,e,n,r){if(!Cc(t))return t;e=Vo(e,t);var i=-1,s=e.length,a=s-1,l=t;while(null!=l&&++i<s){var u=Aa(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var h=l[u];c=r?r(h,u,l):o,c===o&&(c=Cc(h)?h:sa(e[i+1])?[]:{})}ui(l,u,c),l=l[u]}return t}var So=an?function(t,e){return an.set(t,e),t}:Np,To=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:Tp(e),writable:!0})}:Np;function Eo(t){return Ma(Hh(t))}function Oo(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;var s=n(o);while(++i<o)s[i]=t[i+e];return s}function Mo(t,e){var n;return xi(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function No(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=$){while(r<i){var o=r+i>>>1,s=t[o];null!==s&&!Fc(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Ao(t,e,Np,n)}function Ao(t,e,n,r){var i=0,s=null==t?0:t.length;if(0===s)return 0;e=n(e);var a=e!==e,l=null===e,u=Fc(e),c=e===o;while(i<s){var h=Ie((i+s)/2),p=n(t[h]),d=p!==o,f=null===p,m=p===p,g=Fc(p);if(a)var v=r||m;else v=c?m&&(r||d):l?m&&d&&(r||!f):u?m&&d&&!f&&(r||!g):!f&&!g&&(r?p<=e:p<e);v?i=h+1:s=h}return He(s,H)}function Do(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var s=t[n],a=e?e(s):s;if(!n||!ic(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Lo(t){return"number"==typeof t?t:Fc(t)?F:+t}function Io(t){if("string"==typeof t)return t;if(lc(t))return On(t,Io)+"";if(Fc(t))return br?br.call(t):"";var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Ro(t,e,n){var r=-1,i=Tn,o=t.length,s=!0,l=[],u=l;if(n)s=!1,i=En;else if(o>=a){var c=e?null:Ms(t);if(c)return pr(c);s=!1,i=Qn,u=new Xr}else u=e?[]:l;t:while(++r<o){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,s&&p===p){var d=u.length;while(d--)if(u[d]===p)continue t;e&&u.push(p),l.push(h)}else i(u,p,n)||(u!==l&&u.push(p),l.push(h))}return l}function Po(t,e){return e=Vo(e,t),t=wa(t,e),null==t||delete t[Aa(ol(e))]}function Bo(t,e,n,r){return Co(t,e,n(Ii(t,e)),r)}function jo(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?Oo(t,r?0:o,r?o+1:i):Oo(t,r?o+1:0,r?i:o)}function Fo(t,e){var n=t;return n instanceof Er&&(n=n.value()),Nn(e,(function(t,e){return e.func.apply(e.thisArg,Mn([t],e.args))}),n)}function zo(t,e,r){var i=t.length;if(i<2)return i?Ro(t[0]):[];var o=-1,s=n(i);while(++o<i){var a=t[o],l=-1;while(++l<i)l!=o&&(s[o]=wi(s[o]||a,t[l],e,r))}return Ro(Oi(s,1),e,r)}function Ho(t,e,n){var r=-1,i=t.length,s=e.length,a={};while(++r<i){var l=r<s?e[r]:o;n(a,t[r],l)}return a}function $o(t){return hc(t)?t:[]}function Wo(t){return"function"==typeof t?t:Np}function Vo(t,e){return lc(t)?t:la(t,e)?[t]:Na(Zc(t))}var Uo=wo;function qo(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Oo(t,e,n)}var Ko=Ne||function(t){return ln.clearTimeout(t)};function Go(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function Xo(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Yo(t,e){var n=e?Xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Jo(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}function Qo(t){return fr?ne(fr.call(t)):{}}function Zo(t,e){var n=e?Xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ts(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,s=Fc(t),a=e!==o,l=null===e,u=e===e,c=Fc(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!u)return-1}return 0}function es(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;while(++r<s){var l=ts(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}function ns(t,e,r,i){var o=-1,s=t.length,a=r.length,l=-1,u=e.length,c=ze(s-a,0),h=n(u+c),p=!i;while(++l<u)h[l]=e[l];while(++o<a)(p||o<s)&&(h[r[o]]=t[o]);while(c--)h[l++]=t[o++];return h}function rs(t,e,r,i){var o=-1,s=t.length,a=-1,l=r.length,u=-1,c=e.length,h=ze(s-l,0),p=n(h+c),d=!i;while(++o<h)p[o]=t[o];var f=o;while(++u<c)p[f+u]=e[u];while(++a<l)(d||o<s)&&(p[f+r[a]]=t[o++]);return p}function is(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i)e[r]=t[r];return e}function os(t,e,n,r){var i=!n;n||(n={});var s=-1,a=e.length;while(++s<a){var l=e[s],u=r?r(n[l],t[l],l,n,t):o;u===o&&(u=t[l]),i?fi(n,l,u):ui(n,l,u)}return n}function ss(t,e){return os(t,Xs(t),e)}function as(t,e){return os(t,Ys(t),e)}function ls(t,e){return function(n,r){var i=lc(n)?wn:hi,o=e?e():{};return i(n,t,Vs(r,2),o)}}function us(t){return wo((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;s=t.length>3&&"function"==typeof s?(i--,s):o,a&&aa(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=ne(e);while(++r<i){var l=n[r];l&&t(e,l,r,s)}return e}))}function cs(t,e){return function(n,r){if(null==n)return n;if(!cc(n))return t(n,r);var i=n.length,o=e?i:-1,s=ne(n);while(e?o--:++o<i)if(!1===r(s[o],o,s))break;return n}}function hs(t){return function(e,n,r){var i=-1,o=ne(e),s=r(e),a=s.length;while(a--){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function ps(t,e,n){var r=e&y,i=ms(t);function o(){var e=this&&this!==ln&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function ds(t){return function(e){e=Zc(e);var n=sr(e)?vr(e):o,r=n?n[0]:e.charAt(0),i=n?qo(n,1).join(""):e.slice(1);return r[t]()+i}}function fs(t){return function(e){return Nn(wp(Gh(e).replace(We,"")),t,"")}}function ms(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=kr(t.prototype),r=t.apply(n,e);return Cc(r)?r:n}}function gs(t,e,r){var i=ms(t);function s(){var a=arguments.length,l=n(a),u=a,c=Ws(s);while(u--)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:hr(l,c);if(a-=h.length,a<r)return Es(t,e,ys,s.placeholder,o,l,h,o,o,r-a);var p=this&&this!==ln&&this instanceof s?i:t;return bn(p,this,l)}return s}function vs(t){return function(e,n,r){var i=ne(e);if(!cc(e)){var s=Vs(n,3);e=xh(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function _s(t){return js((function(e){var n=e.length,r=n,i=Tr.prototype.thru;t&&e.reverse();while(r--){var s=e[r];if("function"!=typeof s)throw new oe(u);if(i&&!a&&"wrapper"==$s(s))var a=new Tr([],!0)}r=a?r:n;while(++r<n){s=e[r];var l=$s(s),c="wrapper"==l?Hs(s):o;a=c&&ca(c[0])&&c[1]==(T|x|C|E)&&!c[4].length&&1==c[9]?a[$s(c[0])].apply(a,c[3]):1==s.length&&ca(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&lc(r))return a.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}function ys(t,e,r,i,s,a,l,u,c,h){var p=e&T,d=e&y,f=e&b,m=e&(x|k),g=e&O,v=f?o:ms(t);function _(){var o=arguments.length,y=n(o),b=o;while(b--)y[b]=arguments[b];if(m)var w=Ws(_),x=er(y,w);if(i&&(y=ns(y,i,s,m)),a&&(y=rs(y,a,l,m)),o-=x,m&&o<h){var k=hr(y,w);return Es(t,e,ys,_.placeholder,r,y,k,u,c,h-o)}var C=d?r:this,S=f?C[t]:t;return o=y.length,u?y=xa(y,u):g&&o>1&&y.reverse(),p&&c<o&&(y.length=c),this&&this!==ln&&this instanceof _&&(S=v||ms(S)),S.apply(C,y)}return _}function bs(t,e){return function(n,r){return $i(n,t,e(r),{})}}function ws(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Io(n),r=Io(r)):(n=Lo(n),r=Lo(r)),i=t(n,r)}return i}}function xs(t){return js((function(e){return e=On(e,Yn(Vs())),wo((function(n){var r=this;return t(e,(function(t){return bn(t,r,n)}))}))}))}function ks(t,e){e=e===o?" ":Io(e);var n=e.length;if(n<2)return n?bo(e,t):e;var r=bo(e,Le(t/gr(e)));return sr(e)?qo(vr(r),0,t).join(""):r.slice(0,t)}function Cs(t,e,r,i){var o=e&y,s=ms(t);function a(){var e=-1,l=arguments.length,u=-1,c=i.length,h=n(c+l),p=this&&this!==ln&&this instanceof a?s:t;while(++u<c)h[u]=i[u];while(l--)h[u++]=arguments[++e];return bn(p,o?r:this,h)}return a}function Ss(t){return function(e,n,r){return r&&"number"!=typeof r&&aa(e,n,r)&&(n=r=o),e=Kc(e),n===o?(n=e,e=0):n=Kc(n),r=r===o?e<n?1:-1:Kc(r),yo(e,n,r,t)}}function Ts(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Yc(e),n=Yc(n)),t(e,n)}}function Es(t,e,n,r,i,s,a,l,u,c){var h=e&x,p=h?a:o,d=h?o:a,f=h?s:o,m=h?o:s;e|=h?C:S,e&=~(h?S:C),e&w||(e&=~(y|b));var g=[t,e,i,f,p,m,d,l,u,c],v=n.apply(o,g);return ca(t)&&Ca(v,g),v.placeholder=r,Ea(v,t,e)}function Os(t){var e=Wt[t];return function(t,n){if(t=Yc(t),n=null==n?0:He(Gc(n),292),n&&Be(t)){var r=(Zc(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Zc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ms=en&&1/pr(new en([,-0]))[1]==P?function(t){return new en(t)}:jp;function Ns(t){return function(e){var n=Js(e);return n==Z?ur(e):n==st?dr(e):Gn(e,t(e))}}function As(t,e,n,r,i,s,a,l){var c=e&b;if(!c&&"function"!=typeof t)throw new oe(u);var h=r?r.length:0;if(h||(e&=~(C|S),r=i=o),a=a===o?a:ze(Gc(a),0),l=l===o?l:Gc(l),h-=i?i.length:0,e&S){var p=r,d=i;r=i=o}var f=c?o:Hs(t),m=[t,e,n,r,i,p,d,s,a,l];if(f&&va(m,f),t=m[0],e=m[1],n=m[2],r=m[3],i=m[4],l=m[9]=m[9]===o?c?0:t.length:ze(m[9]-h,0),!l&&e&(x|k)&&(e&=~(x|k)),e&&e!=y)g=e==x||e==k?gs(t,e,l):e!=C&&e!=(y|C)||i.length?ys.apply(o,m):Cs(t,e,n,r);else var g=ps(t,e,n);var v=f?So:Ca;return Ea(v(g,m),t,e)}function Ds(t,e,n,r){return t===o||ic(t,le[n])&&!he.call(r,n)?e:t}function Ls(t,e,n,r,i,s){return Cc(t)&&Cc(e)&&(s.set(e,t),lo(t,e,o,Ls,s),s["delete"](e)),t}function Is(t){return Ic(t)?o:t}function Rs(t,e,n,r,i,s){var a=n&v,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var p=-1,d=!0,f=n&_?new Xr:o;s.set(t,e),s.set(e,t);while(++p<l){var m=t[p],g=e[p];if(r)var y=a?r(g,m,p,e,t,s):r(m,g,p,t,e,s);if(y!==o){if(y)continue;d=!1;break}if(f){if(!Dn(e,(function(t,e){if(!Qn(f,e)&&(m===t||i(m,t,n,r,s)))return f.push(e)}))){d=!1;break}}else if(m!==g&&!i(m,g,n,r,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}function Ps(t,e,n,r,i,o,s){switch(n){case dt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pt:return!(t.byteLength!=e.byteLength||!o(new be(t),new be(e)));case K:case G:case tt:return ic(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case ot:case at:return t==e+"";case Z:var a=ur;case st:var l=r&v;if(a||(a=pr),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=_,s.set(t,e);var c=Rs(a(t),a(e),r,i,o,s);return s["delete"](t),c;case lt:if(fr)return fr.call(t)==fr.call(e)}return!1}function Bs(t,e,n,r,i,s){var a=n&v,l=Fs(t),u=l.length,c=Fs(e),h=c.length;if(u!=h&&!a)return!1;var p=u;while(p--){var d=l[p];if(!(a?d in e:he.call(e,d)))return!1}var f=s.get(t),m=s.get(e);if(f&&m)return f==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);var _=a;while(++p<u){d=l[p];var y=t[d],b=e[d];if(r)var w=a?r(b,y,d,e,t,s):r(y,b,d,t,e,s);if(!(w===o?y===b||i(y,b,n,r,s):w)){g=!1;break}_||(_="constructor"==d)}if(g&&!_){var x=t.constructor,k=e.constructor;x==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(g=!1)}return s["delete"](t),s["delete"](e),g}function js(t){return Ta(ba(t,o,Ga),t+"")}function Fs(t){return Ri(t,xh,Xs)}function zs(t){return Ri(t,kh,Ys)}var Hs=an?function(t){return an.get(t)}:jp;function $s(t){var e=t.name+"",n=un[e],r=he.call(un,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ws(t){var e=he.call(wr,"placeholder")?wr:t;return e.placeholder}function Vs(){var t=wr.iteratee||Ap;return t=t===Ap?eo:t,arguments.length?t(arguments[0],arguments[1]):t}function Us(t,e){var n=t.__data__;return ua(e)?n["string"==typeof e?"string":"hash"]:n.map}function qs(t){var e=xh(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,fa(i)]}return e}function Ks(t,e){var n=or(t,e);return Ji(n)?n:o}function Gs(t){var e=he.call(t,Oe),n=t[Oe];try{t[Oe]=o;var r=!0}catch(s){}var i=fe.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),i}var Xs=Re?function(t){return null==t?[]:(t=ne(t),Sn(Re(t),(function(e){return Ce.call(t,e)})))}:Kp,Ys=Re?function(t){var e=[];while(t)Mn(e,Xs(t)),t=xe(t);return e}:Kp,Js=Pi;function Qs(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=He(e,t+s);break;case"takeRight":t=ze(t,e-s);break}}return{start:t,end:e}}function Zs(t){var e=t.match(Ht);return e?e[1].split($t):[]}function ta(t,e,n){e=Vo(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var s=Aa(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&kc(i)&&sa(s,i)&&(lc(t)||ac(t)))}function ea(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function na(t){return"function"!=typeof t.constructor||da(t)?{}:kr(xe(t))}function ra(t,e,n){var r=t.constructor;switch(e){case pt:return Xo(t);case K:case G:return new r(+t);case dt:return Yo(t,n);case ft:case mt:case gt:case vt:case _t:case yt:case bt:case wt:case xt:return Zo(t,n);case Z:return new r;case tt:case at:return new r(t);case ot:return Jo(t);case st:return new r;case lt:return Qo(t)}}function ia(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(zt,"{\n/* [wrapped with "+e+"] */\n")}function oa(t){return lc(t)||ac(t)||!!(Te&&t&&t[Te])}function sa(t,e){var n=typeof t;return e=null==e?B:e,!!e&&("number"==n||"symbol"!=n&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function aa(t,e,n){if(!Cc(n))return!1;var r=typeof e;return!!("number"==r?cc(n)&&sa(e,n.length):"string"==r&&e in n)&&ic(n[e],t)}function la(t,e){if(lc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fc(t))||(It.test(t)||!Lt.test(t)||null!=e&&t in ne(e))}function ua(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ca(t){var e=$s(t),n=wr[e];if("function"!=typeof n||!(e in Er.prototype))return!1;if(t===n)return!0;var r=Hs(n);return!!r&&t===r[0]}function ha(t){return!!de&&de in t}(Ge&&Js(new Ge(new ArrayBuffer(1)))!=dt||Ze&&Js(new Ze)!=Z||tn&&Js(tn.resolve())!=rt||en&&Js(new en)!=st||nn&&Js(new nn)!=ct)&&(Js=function(t){var e=Pi(t),n=e==nt?t.constructor:o,r=n?Da(n):"";if(r)switch(r){case cn:return dt;case pn:return Z;case dn:return rt;case Ln:return st;case In:return ct}return e});var pa=ue?wc:Gp;function da(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function fa(t){return t===t&&!Cc(t)}function ma(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in ne(n)))}}function ga(t){var e=zu(t,(function(t){return n.size===p&&n.clear(),t})),n=e.cache;return e}function va(t,e){var n=t[1],r=e[1],i=n|r,o=i<(y|b|T),s=r==T&&n==x||r==T&&n==E&&t[7].length<=e[8]||r==(T|E)&&e[7].length<=e[8]&&n==x;if(!o&&!s)return t;r&y&&(t[2]=e[2],i|=n&y?0:w);var a=e[3];if(a){var l=t[3];t[3]=l?ns(l,a,e[4]):a,t[4]=l?hr(t[3],d):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?rs(l,a,e[6]):a,t[6]=l?hr(t[5],d):e[6]),a=e[7],a&&(t[7]=a),r&T&&(t[8]=null==t[8]?e[8]:He(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function _a(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function ya(t){return fe.call(t)}function ba(t,e,r){return e=ze(e===o?t.length-1:e,0),function(){var i=arguments,o=-1,s=ze(i.length-e,0),a=n(s);while(++o<s)a[o]=i[e+o];o=-1;var l=n(e+1);while(++o<e)l[o]=i[o];return l[e]=r(a),bn(t,this,l)}}function wa(t,e){return e.length<2?t:Ii(t,Oo(e,0,-1))}function xa(t,e){var n=t.length,r=He(e.length,n),i=is(t);while(r--){var s=e[r];t[r]=sa(s,n)?i[s]:o}return t}function ka(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ca=Oa(So),Sa=De||function(t,e){return ln.setTimeout(t,e)},Ta=Oa(To);function Ea(t,e,n){var r=e+"";return Ta(t,ia(r,La(Zs(r),n)))}function Oa(t){var e=0,n=0;return function(){var r=$e(),i=D-(r-n);if(n=r,i>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ma(t,e){var n=-1,r=t.length,i=r-1;e=e===o?r:e;while(++n<e){var s=_o(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Na=ga((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,(function(t,n,r,i){e.push(r?i.replace(Ut,"$1"):n||t)})),e}));function Aa(t){if("string"==typeof t||Fc(t))return t;var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Da(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function La(t,e){return xn(W,(function(n){var r="_."+n[0];e&n[1]&&!Tn(t,r)&&t.push(r)})),t.sort()}function Ia(t){if(t instanceof Er)return t.clone();var e=new Tr(t.__wrapped__,t.__chain__);return e.__actions__=is(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ra(t,e,r){e=(r?aa(t,e,r):e===o)?1:ze(Gc(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];var s=0,a=0,l=n(Le(i/e));while(s<i)l[a++]=Oo(t,s,s+=e);return l}function Pa(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function Ba(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],i=t;while(i--)e[i-1]=arguments[i];return Mn(lc(r)?is(r):[r],Oi(e,1))}var ja=wo((function(t,e){return hc(t)?wi(t,Oi(e,1,hc,!0)):[]})),Fa=wo((function(t,e){var n=ol(e);return hc(n)&&(n=o),hc(t)?wi(t,Oi(e,1,hc,!0),Vs(n,2)):[]})),za=wo((function(t,e){var n=ol(e);return hc(n)&&(n=o),hc(t)?wi(t,Oi(e,1,hc,!0),o,n):[]}));function Ha(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:Gc(e),Oo(t,e<0?0:e,r)):[]}function $a(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:Gc(e),e=r-e,Oo(t,0,e<0?0:e)):[]}function Wa(t,e){return t&&t.length?jo(t,Vs(e,3),!0,!0):[]}function Va(t,e){return t&&t.length?jo(t,Vs(e,3),!0):[]}function Ua(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&aa(t,e,n)&&(n=0,r=i),Ti(t,e,n,r)):[]}function qa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Gc(n);return i<0&&(i=ze(r+i,0)),Bn(t,Vs(e,3),i)}function Ka(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Gc(n),i=n<0?ze(r+i,0):He(i,r-1)),Bn(t,Vs(e,3),i,!0)}function Ga(t){var e=null==t?0:t.length;return e?Oi(t,1):[]}function Xa(t){var e=null==t?0:t.length;return e?Oi(t,P):[]}function Ya(t,e){var n=null==t?0:t.length;return n?(e=e===o?1:Gc(e),Oi(t,e)):[]}function Ja(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function Qa(t){return t&&t.length?t[0]:o}function Za(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Gc(n);return i<0&&(i=ze(r+i,0)),jn(t,e,i)}function tl(t){var e=null==t?0:t.length;return e?Oo(t,0,-1):[]}var el=wo((function(t){var e=On(t,$o);return e.length&&e[0]===t[0]?Hi(e):[]})),nl=wo((function(t){var e=ol(t),n=On(t,$o);return e===ol(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Hi(n,Vs(e,2)):[]})),rl=wo((function(t){var e=ol(t),n=On(t,$o);return e="function"==typeof e?e:o,e&&n.pop(),n.length&&n[0]===t[0]?Hi(n,o,e):[]}));function il(t,e){return null==t?"":je.call(t,e)}function ol(t){var e=null==t?0:t.length;return e?t[e-1]:o}function sl(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=Gc(n),i=i<0?ze(r+i,0):He(i,r-1)),e===e?mr(t,e,i):Bn(t,zn,i,!0)}function al(t,e){return t&&t.length?co(t,Gc(e)):o}var ll=wo(ul);function ul(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function cl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Vs(n,2)):t}function hl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,o,n):t}var pl=js((function(t,e){var n=null==t?0:t.length,r=mi(t,e);return vo(t,On(e,(function(t){return sa(t,n)?+t:t})).sort(ts)),r}));function dl(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Vs(e,3);while(++r<o){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return vo(t,i),n}function fl(t){return null==t?t:Ke.call(t)}function ml(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&aa(t,e,n)?(e=0,n=r):(e=null==e?0:Gc(e),n=n===o?r:Gc(n)),Oo(t,e,n)):[]}function gl(t,e){return No(t,e)}function vl(t,e,n){return Ao(t,e,Vs(n,2))}function _l(t,e){var n=null==t?0:t.length;if(n){var r=No(t,e);if(r<n&&ic(t[r],e))return r}return-1}function yl(t,e){return No(t,e,!0)}function bl(t,e,n){return Ao(t,e,Vs(n,2),!0)}function wl(t,e){var n=null==t?0:t.length;if(n){var r=No(t,e,!0)-1;if(ic(t[r],e))return r}return-1}function xl(t){return t&&t.length?Do(t):[]}function kl(t,e){return t&&t.length?Do(t,Vs(e,2)):[]}function Cl(t){var e=null==t?0:t.length;return e?Oo(t,1,e):[]}function Sl(t,e,n){return t&&t.length?(e=n||e===o?1:Gc(e),Oo(t,0,e<0?0:e)):[]}function Tl(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:Gc(e),e=r-e,Oo(t,e<0?0:e,r)):[]}function El(t,e){return t&&t.length?jo(t,Vs(e,3),!1,!0):[]}function Ol(t,e){return t&&t.length?jo(t,Vs(e,3)):[]}var Ml=wo((function(t){return Ro(Oi(t,1,hc,!0))})),Nl=wo((function(t){var e=ol(t);return hc(e)&&(e=o),Ro(Oi(t,1,hc,!0),Vs(e,2))})),Al=wo((function(t){var e=ol(t);return e="function"==typeof e?e:o,Ro(Oi(t,1,hc,!0),o,e)}));function Dl(t){return t&&t.length?Ro(t):[]}function Ll(t,e){return t&&t.length?Ro(t,Vs(e,2)):[]}function Il(t,e){return e="function"==typeof e?e:o,t&&t.length?Ro(t,o,e):[]}function Rl(t){if(!t||!t.length)return[];var e=0;return t=Sn(t,(function(t){if(hc(t))return e=ze(t.length,e),!0})),Kn(e,(function(e){return On(t,$n(e))}))}function Pl(t,e){if(!t||!t.length)return[];var n=Rl(t);return null==e?n:On(n,(function(t){return bn(e,o,t)}))}var Bl=wo((function(t,e){return hc(t)?wi(t,e):[]})),jl=wo((function(t){return zo(Sn(t,hc))})),Fl=wo((function(t){var e=ol(t);return hc(e)&&(e=o),zo(Sn(t,hc),Vs(e,2))})),zl=wo((function(t){var e=ol(t);return e="function"==typeof e?e:o,zo(Sn(t,hc),o,e)})),Hl=wo(Rl);function $l(t,e){return Ho(t||[],e||[],ui)}function Wl(t,e){return Ho(t||[],e||[],Co)}var Vl=wo((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,Pl(t,n)}));function Ul(t){var e=wr(t);return e.__chain__=!0,e}function ql(t,e){return e(t),t}function Kl(t,e){return e(t)}var Gl=js((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return mi(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Er&&sa(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Kl,args:[i],thisArg:o}),new Tr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));function Xl(){return Ul(this)}function Yl(){return new Tr(this.value(),this.__chain__)}function Jl(){this.__values__===o&&(this.__values__=qc(this.value()));var t=this.__index__>=this.__values__.length,e=t?o:this.__values__[this.__index__++];return{done:t,value:e}}function Ql(){return this}function Zl(t){var e,n=this;while(n instanceof Sr){var r=Ia(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function tu(){var t=this.__wrapped__;if(t instanceof Er){var e=t;return this.__actions__.length&&(e=new Er(this)),e=e.reverse(),e.__actions__.push({func:Kl,args:[fl],thisArg:o}),new Tr(e,this.__chain__)}return this.thru(fl)}function eu(){return Fo(this.__wrapped__,this.__actions__)}var nu=ls((function(t,e,n){he.call(t,n)?++t[n]:fi(t,n,1)}));function ru(t,e,n){var r=lc(t)?Cn:Ci;return n&&aa(t,e,n)&&(e=o),r(t,Vs(e,3))}function iu(t,e){var n=lc(t)?Sn:Ei;return n(t,Vs(e,3))}var ou=vs(qa),su=vs(Ka);function au(t,e){return Oi(gu(t,e),1)}function lu(t,e){return Oi(gu(t,e),P)}function uu(t,e,n){return n=n===o?1:Gc(n),Oi(gu(t,e),n)}function cu(t,e){var n=lc(t)?xn:xi;return n(t,Vs(e,3))}function hu(t,e){var n=lc(t)?kn:ki;return n(t,Vs(e,3))}var pu=ls((function(t,e,n){he.call(t,n)?t[n].push(e):fi(t,n,[e])}));function du(t,e,n,r){t=cc(t)?t:Hh(t),n=n&&!r?Gc(n):0;var i=t.length;return n<0&&(n=ze(i+n,0)),jc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&jn(t,e,n)>-1}var fu=wo((function(t,e,r){var i=-1,o="function"==typeof e,s=cc(t)?n(t.length):[];return xi(t,(function(t){s[++i]=o?bn(e,t,r):Wi(t,e,r)})),s})),mu=ls((function(t,e,n){fi(t,n,e)}));function gu(t,e){var n=lc(t)?On:oo;return n(t,Vs(e,3))}function vu(t,e,n,r){return null==t?[]:(lc(e)||(e=null==e?[]:[e]),n=r?o:n,lc(n)||(n=null==n?[]:[n]),ho(t,e,n))}var _u=ls((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function yu(t,e,n){var r=lc(t)?Nn:Vn,i=arguments.length<3;return r(t,Vs(e,4),n,i,xi)}function bu(t,e,n){var r=lc(t)?An:Vn,i=arguments.length<3;return r(t,Vs(e,4),n,i,ki)}function wu(t,e){var n=lc(t)?Sn:Ei;return n(t,Hu(Vs(e,3)))}function xu(t){var e=lc(t)?oi:xo;return e(t)}function ku(t,e,n){e=(n?aa(t,e,n):e===o)?1:Gc(e);var r=lc(t)?si:ko;return r(t,e)}function Cu(t){var e=lc(t)?ai:Eo;return e(t)}function Su(t){if(null==t)return 0;if(cc(t))return jc(t)?gr(t):t.length;var e=Js(t);return e==Z||e==st?t.size:no(t).length}function Tu(t,e,n){var r=lc(t)?Dn:Mo;return n&&aa(t,e,n)&&(e=o),r(t,Vs(e,3))}var Eu=wo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&aa(t,e[0],e[1])?e=[]:n>2&&aa(e[0],e[1],e[2])&&(e=[e[0]]),ho(t,Oi(e,1),[])})),Ou=Ae||function(){return ln.Date.now()};function Mu(t,e){if("function"!=typeof e)throw new oe(u);return t=Gc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Nu(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,As(t,T,o,o,o,o,e)}function Au(t,e){var n;if("function"!=typeof e)throw new oe(u);return t=Gc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Du=wo((function(t,e,n){var r=y;if(n.length){var i=hr(n,Ws(Du));r|=C}return As(t,r,e,n,i)})),Lu=wo((function(t,e,n){var r=y|b;if(n.length){var i=hr(n,Ws(Lu));r|=C}return As(e,r,t,n,i)}));function Iu(t,e,n){e=n?o:e;var r=As(t,x,o,o,o,o,o,e);return r.placeholder=Iu.placeholder,r}function Ru(t,e,n){e=n?o:e;var r=As(t,k,o,o,o,o,o,e);return r.placeholder=Ru.placeholder,r}function Pu(t,e,n){var r,i,s,a,l,c,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new oe(u);function m(e){var n=r,s=i;return r=i=o,h=e,a=t.apply(s,n),a}function g(t){return h=t,l=Sa(y,e),p?m(t):a}function v(t){var n=t-c,r=t-h,i=e-n;return d?He(i,s-r):i}function _(t){var n=t-c,r=t-h;return c===o||n>=e||n<0||d&&r>=s}function y(){var t=Ou();if(_(t))return b(t);l=Sa(y,v(t))}function b(t){return l=o,f&&r?m(t):(r=i=o,a)}function w(){l!==o&&Ko(l),h=0,r=c=i=l=o}function x(){return l===o?a:b(Ou())}function k(){var t=Ou(),n=_(t);if(r=arguments,i=this,c=t,n){if(l===o)return g(c);if(d)return Ko(l),l=Sa(y,e),m(c)}return l===o&&(l=Sa(y,e)),a}return e=Yc(e)||0,Cc(n)&&(p=!!n.leading,d="maxWait"in n,s=d?ze(Yc(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),k.cancel=w,k.flush=x,k}var Bu=wo((function(t,e){return bi(t,1,e)})),ju=wo((function(t,e,n){return bi(t,Yc(e)||0,n)}));function Fu(t){return As(t,O)}function zu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(zu.Cache||Wr),n}function Hu(t){if("function"!=typeof t)throw new oe(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function $u(t){return Au(2,t)}zu.Cache=Wr;var Wu=Uo((function(t,e){e=1==e.length&&lc(e[0])?On(e[0],Yn(Vs())):On(Oi(e,1),Yn(Vs()));var n=e.length;return wo((function(r){var i=-1,o=He(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return bn(t,this,r)}))})),Vu=wo((function(t,e){var n=hr(e,Ws(Vu));return As(t,C,o,e,n)})),Uu=wo((function(t,e){var n=hr(e,Ws(Uu));return As(t,S,o,e,n)})),qu=js((function(t,e){return As(t,E,o,o,o,e)}));function Ku(t,e){if("function"!=typeof t)throw new oe(u);return e=e===o?e:Gc(e),wo(t,e)}function Gu(t,e){if("function"!=typeof t)throw new oe(u);return e=null==e?0:ze(Gc(e),0),wo((function(n){var r=n[e],i=qo(n,0,e);return r&&Mn(i,r),bn(t,this,i)}))}function Xu(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oe(u);return Cc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pu(t,e,{leading:r,maxWait:e,trailing:i})}function Yu(t){return Nu(t,1)}function Ju(t,e){return Vu(Wo(e),t)}function Qu(){if(!arguments.length)return[];var t=arguments[0];return lc(t)?t:[t]}function Zu(t){return vi(t,g)}function tc(t,e){return e="function"==typeof e?e:o,vi(t,g,e)}function ec(t){return vi(t,f|g)}function nc(t,e){return e="function"==typeof e?e:o,vi(t,f|g,e)}function rc(t,e){return null==e||yi(t,e,xh(e))}function ic(t,e){return t===e||t!==t&&e!==e}var oc=Ts(Bi),sc=Ts((function(t,e){return t>=e})),ac=Vi(function(){return arguments}())?Vi:function(t){return Sc(t)&&he.call(t,"callee")&&!Ce.call(t,"callee")},lc=n.isArray,uc=fn?Yn(fn):Ui;function cc(t){return null!=t&&kc(t.length)&&!wc(t)}function hc(t){return Sc(t)&&cc(t)}function pc(t){return!0===t||!1===t||Sc(t)&&Pi(t)==K}var dc=Pe||Gp,fc=mn?Yn(mn):qi;function mc(t){return Sc(t)&&1===t.nodeType&&!Ic(t)}function gc(t){if(null==t)return!0;if(cc(t)&&(lc(t)||"string"==typeof t||"function"==typeof t.splice||dc(t)||zc(t)||ac(t)))return!t.length;var e=Js(t);if(e==Z||e==st)return!t.size;if(da(t))return!no(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function vc(t,e){return Ki(t,e)}function _c(t,e,n){n="function"==typeof n?n:o;var r=n?n(t,e):o;return r===o?Ki(t,e,o,n):!!r}function yc(t){if(!Sc(t))return!1;var e=Pi(t);return e==Y||e==X||"string"==typeof t.message&&"string"==typeof t.name&&!Ic(t)}function bc(t){return"number"==typeof t&&Be(t)}function wc(t){if(!Cc(t))return!1;var e=Pi(t);return e==J||e==Q||e==q||e==it}function xc(t){return"number"==typeof t&&t==Gc(t)}function kc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=B}function Cc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Sc(t){return null!=t&&"object"==typeof t}var Tc=gn?Yn(gn):Xi;function Ec(t,e){return t===e||Yi(t,e,qs(e))}function Oc(t,e,n){return n="function"==typeof n?n:o,Yi(t,e,qs(e),n)}function Mc(t){return Lc(t)&&t!=+t}function Nc(t){if(pa(t))throw new i(l);return Ji(t)}function Ac(t){return null===t}function Dc(t){return null==t}function Lc(t){return"number"==typeof t||Sc(t)&&Pi(t)==tt}function Ic(t){if(!Sc(t)||Pi(t)!=nt)return!1;var e=xe(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==me}var Rc=vn?Yn(vn):Qi;function Pc(t){return xc(t)&&t>=-B&&t<=B}var Bc=_n?Yn(_n):Zi;function jc(t){return"string"==typeof t||!lc(t)&&Sc(t)&&Pi(t)==at}function Fc(t){return"symbol"==typeof t||Sc(t)&&Pi(t)==lt}var zc=yn?Yn(yn):to;function Hc(t){return t===o}function $c(t){return Sc(t)&&Js(t)==ct}function Wc(t){return Sc(t)&&Pi(t)==ht}var Vc=Ts(io),Uc=Ts((function(t,e){return t<=e}));function qc(t){if(!t)return[];if(cc(t))return jc(t)?vr(t):is(t);if(Ee&&t[Ee])return lr(t[Ee]());var e=Js(t),n=e==Z?ur:e==st?pr:Hh;return n(t)}function Kc(t){if(!t)return 0===t?t:0;if(t=Yc(t),t===P||t===-P){var e=t<0?-1:1;return e*j}return t===t?t:0}function Gc(t){var e=Kc(t),n=e%1;return e===e?n?e-n:e:0}function Xc(t){return t?gi(Gc(t),0,z):0}function Yc(t){if("number"==typeof t)return t;if(Fc(t))return F;if(Cc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Cc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xn(t);var n=Xt.test(t);return n||Jt.test(t)?on(t.slice(2),n?2:8):Gt.test(t)?F:+t}function Jc(t){return os(t,kh(t))}function Qc(t){return t?gi(Gc(t),-B,B):0===t?t:0}function Zc(t){return null==t?"":Io(t)}var th=us((function(t,e){if(da(e)||cc(e))os(e,xh(e),t);else for(var n in e)he.call(e,n)&&ui(t,n,e[n])})),eh=us((function(t,e){os(e,kh(e),t)})),nh=us((function(t,e,n,r){os(e,kh(e),t,r)})),rh=us((function(t,e,n,r){os(e,xh(e),t,r)})),ih=js(mi);function oh(t,e){var n=kr(t);return null==e?n:pi(n,e)}var sh=wo((function(t,e){t=ne(t);var n=-1,r=e.length,i=r>2?e[2]:o;i&&aa(e[0],e[1],i)&&(r=1);while(++n<r){var s=e[n],a=kh(s),l=-1,u=a.length;while(++l<u){var c=a[l],h=t[c];(h===o||ic(h,le[c])&&!he.call(t,c))&&(t[c]=s[c])}}return t})),ah=wo((function(t){return t.push(o,Ls),bn(Eh,o,t)}));function lh(t,e){return Pn(t,Vs(e,3),Ai)}function uh(t,e){return Pn(t,Vs(e,3),Di)}function ch(t,e){return null==t?t:Mi(t,Vs(e,3),kh)}function hh(t,e){return null==t?t:Ni(t,Vs(e,3),kh)}function ph(t,e){return t&&Ai(t,Vs(e,3))}function dh(t,e){return t&&Di(t,Vs(e,3))}function fh(t){return null==t?[]:Li(t,xh(t))}function mh(t){return null==t?[]:Li(t,kh(t))}function gh(t,e,n){var r=null==t?o:Ii(t,e);return r===o?n:r}function vh(t,e){return null!=t&&ta(t,e,ji)}function _h(t,e){return null!=t&&ta(t,e,Fi)}var yh=bs((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n}),Tp(Np)),bh=bs((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Vs),wh=wo(Wi);function xh(t){return cc(t)?ii(t):no(t)}function kh(t){return cc(t)?ii(t,!0):ro(t)}function Ch(t,e){var n={};return e=Vs(e,3),Ai(t,(function(t,r,i){fi(n,e(t,r,i),t)})),n}function Sh(t,e){var n={};return e=Vs(e,3),Ai(t,(function(t,r,i){fi(n,r,e(t,r,i))})),n}var Th=us((function(t,e,n){lo(t,e,n)})),Eh=us((function(t,e,n,r){lo(t,e,n,r)})),Oh=js((function(t,e){var n={};if(null==t)return n;var r=!1;e=On(e,(function(e){return e=Vo(e,t),r||(r=e.length>1),e})),os(t,zs(t),n),r&&(n=vi(n,f|m|g,Is));var i=e.length;while(i--)Po(n,e[i]);return n}));function Mh(t,e){return Ah(t,Hu(Vs(e)))}var Nh=js((function(t,e){return null==t?{}:po(t,e)}));function Ah(t,e){if(null==t)return{};var n=On(zs(t),(function(t){return[t]}));return e=Vs(e),fo(t,n,(function(t,n){return e(t,n[0])}))}function Dh(t,e,n){e=Vo(e,t);var r=-1,i=e.length;i||(i=1,t=o);while(++r<i){var s=null==t?o:t[Aa(e[r])];s===o&&(r=i,s=n),t=wc(s)?s.call(t):s}return t}function Lh(t,e,n){return null==t?t:Co(t,e,n)}function Ih(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Co(t,e,n,r)}var Rh=Ns(xh),Ph=Ns(kh);function Bh(t,e,n){var r=lc(t),i=r||dc(t)||zc(t);if(e=Vs(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Cc(t)&&wc(o)?kr(xe(t)):{}}return(i?xn:Ai)(t,(function(t,r,i){return e(n,t,r,i)})),n}function jh(t,e){return null==t||Po(t,e)}function Fh(t,e,n){return null==t?t:Bo(t,e,Wo(n))}function zh(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bo(t,e,Wo(n),r)}function Hh(t){return null==t?[]:Jn(t,xh(t))}function $h(t){return null==t?[]:Jn(t,kh(t))}function Wh(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=Yc(n),n=n===n?n:0),e!==o&&(e=Yc(e),e=e===e?e:0),gi(Yc(t),e,n)}function Vh(t,e,n){return e=Kc(e),n===o?(n=e,e=0):n=Kc(n),t=Yc(t),zi(t,e,n)}function Uh(t,e,n){if(n&&"boolean"!=typeof n&&aa(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Kc(t),e===o?(e=t,t=0):e=Kc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=qe();return He(t+i*(e-t+rn("1e-"+((i+"").length-1))),e)}return _o(t,e)}var qh=fs((function(t,e,n){return e=e.toLowerCase(),t+(n?Kh(e):e)}));function Kh(t){return bp(Zc(t).toLowerCase())}function Gh(t){return t=Zc(t),t&&t.replace(Zt,nr).replace(Ve,"")}function Xh(t,e,n){t=Zc(t),e=Io(e);var r=t.length;n=n===o?r:gi(Gc(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Yh(t){return t=Zc(t),t&&Mt.test(t)?t.replace(Et,rr):t}function Jh(t){return t=Zc(t),t&&Bt.test(t)?t.replace(Pt,"\\$&"):t}var Qh=fs((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Zh=fs((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),tp=ds("toLowerCase");function ep(t,e,n){t=Zc(t),e=Gc(e);var r=e?gr(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ks(Ie(i),n)+t+ks(Le(i),n)}function np(t,e,n){t=Zc(t),e=Gc(e);var r=e?gr(t):0;return e&&r<e?t+ks(e-r,n):t}function rp(t,e,n){t=Zc(t),e=Gc(e);var r=e?gr(t):0;return e&&r<e?ks(e-r,n)+t:t}function ip(t,e,n){return n||null==e?e=0:e&&(e=+e),Ue(Zc(t).replace(jt,""),e||0)}function op(t,e,n){return e=(n?aa(t,e,n):e===o)?1:Gc(e),bo(Zc(t),e)}function sp(){var t=arguments,e=Zc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ap=fs((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function lp(t,e,n){return n&&"number"!=typeof n&&aa(t,e,n)&&(e=n=o),n=n===o?z:n>>>0,n?(t=Zc(t),t&&("string"==typeof e||null!=e&&!Rc(e))&&(e=Io(e),!e&&sr(t))?qo(vr(t),0,n):t.split(e,n)):[]}var up=fs((function(t,e,n){return t+(n?" ":"")+bp(e)}));function cp(t,e,n){return t=Zc(t),n=null==n?0:gi(Gc(n),0,t.length),e=Io(e),t.slice(n,n+e.length)==e}function hp(t,e,n){var r=wr.templateSettings;n&&aa(t,e,n)&&(e=o),t=Zc(t),e=nh({},e,r,Ds);var s,a,l=nh({},e.imports,r.imports,Ds),u=xh(l),h=Jn(l,u),p=0,d=e.interpolate||te,f="__p += '",m=re((e.escape||te).source+"|"+d.source+"|"+(d===Dt?qt:te).source+"|"+(e.evaluate||te).source+"|$","g"),g="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ye+"]")+"\n";t.replace(m,(function(e,n,r,i,o,l){return r||(r=i),f+=t.slice(p,l).replace(ee,ir),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),o&&(a=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=l+e.length,e})),f+="';\n";var v=he.call(e,"variable")&&e.variable;if(v){if(Vt.test(v))throw new i(c)}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(kt,""):f).replace(Ct,"$1").replace(St,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=xp((function(){return Ft(u,g+"return "+f).apply(o,h)}));if(_.source=f,yc(_))throw _;return _}function pp(t){return Zc(t).toLowerCase()}function dp(t){return Zc(t).toUpperCase()}function fp(t,e,n){if(t=Zc(t),t&&(n||e===o))return Xn(t);if(!t||!(e=Io(e)))return t;var r=vr(t),i=vr(e),s=Zn(r,i),a=tr(r,i)+1;return qo(r,s,a).join("")}function mp(t,e,n){if(t=Zc(t),t&&(n||e===o))return t.slice(0,_r(t)+1);if(!t||!(e=Io(e)))return t;var r=vr(t),i=tr(r,vr(e))+1;return qo(r,0,i).join("")}function gp(t,e,n){if(t=Zc(t),t&&(n||e===o))return t.replace(jt,"");if(!t||!(e=Io(e)))return t;var r=vr(t),i=Zn(r,vr(e));return qo(r,i).join("")}function vp(t,e){var n=M,r=N;if(Cc(e)){var i="separator"in e?e.separator:i;n="length"in e?Gc(e.length):n,r="omission"in e?Io(e.omission):r}t=Zc(t);var s=t.length;if(sr(t)){var a=vr(t);s=a.length}if(n>=s)return t;var l=n-gr(r);if(l<1)return r;var u=a?qo(a,0,l).join(""):t.slice(0,l);if(i===o)return u+r;if(a&&(l+=u.length-l),Rc(i)){if(t.slice(l).search(i)){var c,h=u;i.global||(i=re(i.source,Zc(Kt.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(h))var p=c.index;u=u.slice(0,p===o?l:p)}}else if(t.indexOf(Io(i),l)!=l){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r}function _p(t){return t=Zc(t),t&&Ot.test(t)?t.replace(Tt,yr):t}var yp=fs((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),bp=ds("toUpperCase");function wp(t,e,n){return t=Zc(t),e=n?o:e,e===o?ar(t)?xr(t):Rn(t):t.match(e)||[]}var xp=wo((function(t,e){try{return bn(t,o,e)}catch(n){return yc(n)?n:new i(n)}})),kp=js((function(t,e){return xn(e,(function(e){e=Aa(e),fi(t,e,Du(t[e],t))})),t}));function Cp(t){var e=null==t?0:t.length,n=Vs();return t=e?On(t,(function(t){if("function"!=typeof t[1])throw new oe(u);return[n(t[0]),t[1]]})):[],wo((function(n){var r=-1;while(++r<e){var i=t[r];if(bn(i[0],this,n))return bn(i[1],this,n)}}))}function Sp(t){return _i(vi(t,f))}function Tp(t){return function(){return t}}function Ep(t,e){return null==t||t!==t?e:t}var Op=_s(),Mp=_s(!0);function Np(t){return t}function Ap(t){return eo("function"==typeof t?t:vi(t,f))}function Dp(t){return so(vi(t,f))}function Lp(t,e){return ao(t,vi(e,f))}var Ip=wo((function(t,e){return function(n){return Wi(n,t,e)}})),Rp=wo((function(t,e){return function(n){return Wi(t,n,e)}}));function Pp(t,e,n){var r=xh(e),i=Li(e,r);null!=n||Cc(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Li(e,xh(e)));var o=!(Cc(n)&&"chain"in n)||!!n.chain,s=wc(t);return xn(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=is(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Mn([this.value()],arguments))})})),t}function Bp(){return ln._===this&&(ln._=ge),this}function jp(){}function Fp(t){return t=Gc(t),wo((function(e){return co(e,t)}))}var zp=xs(On),Hp=xs(Cn),$p=xs(Dn);function Wp(t){return la(t)?$n(Aa(t)):mo(t)}function Vp(t){return function(e){return null==t?o:Ii(t,e)}}var Up=Ss(),qp=Ss(!0);function Kp(){return[]}function Gp(){return!1}function Xp(){return{}}function Yp(){return""}function Jp(){return!0}function Qp(t,e){if(t=Gc(t),t<1||t>B)return[];var n=z,r=He(t,z);e=Vs(e),t-=z;var i=Kn(r,e);while(++n<t)e(n);return i}function Zp(t){return lc(t)?On(t,Aa):Fc(t)?[t]:is(Na(Zc(t)))}function td(t){var e=++pe;return Zc(t)+e}var ed=ws((function(t,e){return t+e}),0),nd=Os("ceil"),rd=ws((function(t,e){return t/e}),1),id=Os("floor");function od(t){return t&&t.length?Si(t,Np,Bi):o}function sd(t,e){return t&&t.length?Si(t,Vs(e,2),Bi):o}function ad(t){return Hn(t,Np)}function ld(t,e){return Hn(t,Vs(e,2))}function ud(t){return t&&t.length?Si(t,Np,io):o}function cd(t,e){return t&&t.length?Si(t,Vs(e,2),io):o}var hd=ws((function(t,e){return t*e}),1),pd=Os("round"),dd=ws((function(t,e){return t-e}),0);function fd(t){return t&&t.length?qn(t,Np):0}function md(t,e){return t&&t.length?qn(t,Vs(e,2)):0}return wr.after=Mu,wr.ary=Nu,wr.assign=th,wr.assignIn=eh,wr.assignInWith=nh,wr.assignWith=rh,wr.at=ih,wr.before=Au,wr.bind=Du,wr.bindAll=kp,wr.bindKey=Lu,wr.castArray=Qu,wr.chain=Ul,wr.chunk=Ra,wr.compact=Pa,wr.concat=Ba,wr.cond=Cp,wr.conforms=Sp,wr.constant=Tp,wr.countBy=nu,wr.create=oh,wr.curry=Iu,wr.curryRight=Ru,wr.debounce=Pu,wr.defaults=sh,wr.defaultsDeep=ah,wr.defer=Bu,wr.delay=ju,wr.difference=ja,wr.differenceBy=Fa,wr.differenceWith=za,wr.drop=Ha,wr.dropRight=$a,wr.dropRightWhile=Wa,wr.dropWhile=Va,wr.fill=Ua,wr.filter=iu,wr.flatMap=au,wr.flatMapDeep=lu,wr.flatMapDepth=uu,wr.flatten=Ga,wr.flattenDeep=Xa,wr.flattenDepth=Ya,wr.flip=Fu,wr.flow=Op,wr.flowRight=Mp,wr.fromPairs=Ja,wr.functions=fh,wr.functionsIn=mh,wr.groupBy=pu,wr.initial=tl,wr.intersection=el,wr.intersectionBy=nl,wr.intersectionWith=rl,wr.invert=yh,wr.invertBy=bh,wr.invokeMap=fu,wr.iteratee=Ap,wr.keyBy=mu,wr.keys=xh,wr.keysIn=kh,wr.map=gu,wr.mapKeys=Ch,wr.mapValues=Sh,wr.matches=Dp,wr.matchesProperty=Lp,wr.memoize=zu,wr.merge=Th,wr.mergeWith=Eh,wr.method=Ip,wr.methodOf=Rp,wr.mixin=Pp,wr.negate=Hu,wr.nthArg=Fp,wr.omit=Oh,wr.omitBy=Mh,wr.once=$u,wr.orderBy=vu,wr.over=zp,wr.overArgs=Wu,wr.overEvery=Hp,wr.overSome=$p,wr.partial=Vu,wr.partialRight=Uu,wr.partition=_u,wr.pick=Nh,wr.pickBy=Ah,wr.property=Wp,wr.propertyOf=Vp,wr.pull=ll,wr.pullAll=ul,wr.pullAllBy=cl,wr.pullAllWith=hl,wr.pullAt=pl,wr.range=Up,wr.rangeRight=qp,wr.rearg=qu,wr.reject=wu,wr.remove=dl,wr.rest=Ku,wr.reverse=fl,wr.sampleSize=ku,wr.set=Lh,wr.setWith=Ih,wr.shuffle=Cu,wr.slice=ml,wr.sortBy=Eu,wr.sortedUniq=xl,wr.sortedUniqBy=kl,wr.split=lp,wr.spread=Gu,wr.tail=Cl,wr.take=Sl,wr.takeRight=Tl,wr.takeRightWhile=El,wr.takeWhile=Ol,wr.tap=ql,wr.throttle=Xu,wr.thru=Kl,wr.toArray=qc,wr.toPairs=Rh,wr.toPairsIn=Ph,wr.toPath=Zp,wr.toPlainObject=Jc,wr.transform=Bh,wr.unary=Yu,wr.union=Ml,wr.unionBy=Nl,wr.unionWith=Al,wr.uniq=Dl,wr.uniqBy=Ll,wr.uniqWith=Il,wr.unset=jh,wr.unzip=Rl,wr.unzipWith=Pl,wr.update=Fh,wr.updateWith=zh,wr.values=Hh,wr.valuesIn=$h,wr.without=Bl,wr.words=wp,wr.wrap=Ju,wr.xor=jl,wr.xorBy=Fl,wr.xorWith=zl,wr.zip=Hl,wr.zipObject=$l,wr.zipObjectDeep=Wl,wr.zipWith=Vl,wr.entries=Rh,wr.entriesIn=Ph,wr.extend=eh,wr.extendWith=nh,Pp(wr,wr),wr.add=ed,wr.attempt=xp,wr.camelCase=qh,wr.capitalize=Kh,wr.ceil=nd,wr.clamp=Wh,wr.clone=Zu,wr.cloneDeep=ec,wr.cloneDeepWith=nc,wr.cloneWith=tc,wr.conformsTo=rc,wr.deburr=Gh,wr.defaultTo=Ep,wr.divide=rd,wr.endsWith=Xh,wr.eq=ic,wr.escape=Yh,wr.escapeRegExp=Jh,wr.every=ru,wr.find=ou,wr.findIndex=qa,wr.findKey=lh,wr.findLast=su,wr.findLastIndex=Ka,wr.findLastKey=uh,wr.floor=id,wr.forEach=cu,wr.forEachRight=hu,wr.forIn=ch,wr.forInRight=hh,wr.forOwn=ph,wr.forOwnRight=dh,wr.get=gh,wr.gt=oc,wr.gte=sc,wr.has=vh,wr.hasIn=_h,wr.head=Qa,wr.identity=Np,wr.includes=du,wr.indexOf=Za,wr.inRange=Vh,wr.invoke=wh,wr.isArguments=ac,wr.isArray=lc,wr.isArrayBuffer=uc,wr.isArrayLike=cc,wr.isArrayLikeObject=hc,wr.isBoolean=pc,wr.isBuffer=dc,wr.isDate=fc,wr.isElement=mc,wr.isEmpty=gc,wr.isEqual=vc,wr.isEqualWith=_c,wr.isError=yc,wr.isFinite=bc,wr.isFunction=wc,wr.isInteger=xc,wr.isLength=kc,wr.isMap=Tc,wr.isMatch=Ec,wr.isMatchWith=Oc,wr.isNaN=Mc,wr.isNative=Nc,wr.isNil=Dc,wr.isNull=Ac,wr.isNumber=Lc,wr.isObject=Cc,wr.isObjectLike=Sc,wr.isPlainObject=Ic,wr.isRegExp=Rc,wr.isSafeInteger=Pc,wr.isSet=Bc,wr.isString=jc,wr.isSymbol=Fc,wr.isTypedArray=zc,wr.isUndefined=Hc,wr.isWeakMap=$c,wr.isWeakSet=Wc,wr.join=il,wr.kebabCase=Qh,wr.last=ol,wr.lastIndexOf=sl,wr.lowerCase=Zh,wr.lowerFirst=tp,wr.lt=Vc,wr.lte=Uc,wr.max=od,wr.maxBy=sd,wr.mean=ad,wr.meanBy=ld,wr.min=ud,wr.minBy=cd,wr.stubArray=Kp,wr.stubFalse=Gp,wr.stubObject=Xp,wr.stubString=Yp,wr.stubTrue=Jp,wr.multiply=hd,wr.nth=al,wr.noConflict=Bp,wr.noop=jp,wr.now=Ou,wr.pad=ep,wr.padEnd=np,wr.padStart=rp,wr.parseInt=ip,wr.random=Uh,wr.reduce=yu,wr.reduceRight=bu,wr.repeat=op,wr.replace=sp,wr.result=Dh,wr.round=pd,wr.runInContext=t,wr.sample=xu,wr.size=Su,wr.snakeCase=ap,wr.some=Tu,wr.sortedIndex=gl,wr.sortedIndexBy=vl,wr.sortedIndexOf=_l,wr.sortedLastIndex=yl,wr.sortedLastIndexBy=bl,wr.sortedLastIndexOf=wl,wr.startCase=up,wr.startsWith=cp,wr.subtract=dd,wr.sum=fd,wr.sumBy=md,wr.template=hp,wr.times=Qp,wr.toFinite=Kc,wr.toInteger=Gc,wr.toLength=Xc,wr.toLower=pp,wr.toNumber=Yc,wr.toSafeInteger=Qc,wr.toString=Zc,wr.toUpper=dp,wr.trim=fp,wr.trimEnd=mp,wr.trimStart=gp,wr.truncate=vp,wr.unescape=_p,wr.uniqueId=td,wr.upperCase=yp,wr.upperFirst=bp,wr.each=cu,wr.eachRight=hu,wr.first=Qa,Pp(wr,function(){var t={};return Ai(wr,(function(e,n){he.call(wr.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),wr.VERSION=s,xn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){wr[t].placeholder=wr})),xn(["drop","take"],(function(t,e){Er.prototype[t]=function(n){n=n===o?1:ze(Gc(n),0);var r=this.__filtered__&&!e?new Er(this):this.clone();return r.__filtered__?r.__takeCount__=He(n,r.__takeCount__):r.__views__.push({size:He(n,z),type:t+(r.__dir__<0?"Right":"")}),r},Er.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),xn(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==L||n==R;Er.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Vs(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),xn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Er.prototype[t]=function(){return this[n](1).value()[0]}})),xn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Er.prototype[t]=function(){return this.__filtered__?new Er(this):this[n](1)}})),Er.prototype.compact=function(){return this.filter(Np)},Er.prototype.find=function(t){return this.filter(t).head()},Er.prototype.findLast=function(t){return this.reverse().find(t)},Er.prototype.invokeMap=wo((function(t,e){return"function"==typeof t?new Er(this):this.map((function(n){return Wi(n,t,e)}))})),Er.prototype.reject=function(t){return this.filter(Hu(Vs(t)))},Er.prototype.slice=function(t,e){t=Gc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Er(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(e=Gc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Er.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Er.prototype.toArray=function(){return this.take(z)},Ai(Er.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=wr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(wr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Er,u=a[0],c=l||lc(e),h=function(t){var e=i.apply(wr,Mn([t],a));return r&&p?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var p=this.__chain__,d=!!this.__actions__.length,f=s&&!p,m=l&&!d;if(!s&&c){e=m?e:new Er(this);var g=t.apply(e,a);return g.__actions__.push({func:Kl,args:[h],thisArg:o}),new Tr(g,p)}return f&&m?t.apply(this,a):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})})),xn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);wr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(lc(i)?i:[],t)}return this[n]((function(n){return e.apply(lc(n)?n:[],t)}))}})),Ai(Er.prototype,(function(t,e){var n=wr[e];if(n){var r=n.name+"";he.call(un,r)||(un[r]=[]),un[r].push({name:e,func:n})}})),un[ys(o,b).name]=[{name:"wrapper",func:o}],Er.prototype.clone=Or,Er.prototype.reverse=Mr,Er.prototype.value=Nr,wr.prototype.at=Gl,wr.prototype.chain=Xl,wr.prototype.commit=Yl,wr.prototype.next=Jl,wr.prototype.plant=Zl,wr.prototype.reverse=tu,wr.prototype.toJSON=wr.prototype.valueOf=wr.prototype.value=eu,wr.prototype.first=wr.prototype.head,Ee&&(wr.prototype[Ee]=Ql),wr},Cr=kr();ln._=Cr,i=function(){return Cr}.call(e,n,e,r),i===o||(r.exports=i)}).call(this)}).call(this,n("c8ba"),n("62e4")(t))},3022:function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!x(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])y(l)||!T(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,s={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,t,r.depth)}function l(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function c(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function h(t,n,r){if(t.customInspect&&n&&M(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return x(i)||(i=h(t,i,r)),i}var o=p(t,n);if(o)return o;var s=Object.keys(n),a=c(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(n);if(0===s.length){if(M(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(S(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return d(n)}var u,_="",y=!1,b=["{","}"];if(v(n)&&(y=!0,b=["[","]"]),M(n)){var w=n.name?": "+n.name:"";_=" [Function"+w+"]"}return S(n)&&(_=" "+RegExp.prototype.toString.call(n)),E(n)&&(_=" "+Date.prototype.toUTCString.call(n)),O(n)&&(_=" "+d(n)),0!==s.length||y&&0!=n.length?r<0?S(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=y?f(t,n,r,a,s):s.map((function(e){return m(t,n,r,a,e,y)})),t.seen.pop(),g(u,_,b)):b[0]+_+b[1]}function p(t,e){if(C(e))return t.stylize("undefined","undefined");if(x(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return w(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)R(e,String(s))?o.push(m(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(m(t,e,n,r,i,!0))})),o}function m(t,e,n,r,i,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=y(n)?h(t,l.value,null):h(t,l.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n"))):a=t.stylize("[Circular]","special")),C(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function g(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function _(t){return"boolean"===typeof t}function y(t){return null===t}function b(t){return null==t}function w(t){return"number"===typeof t}function x(t){return"string"===typeof t}function k(t){return"symbol"===typeof t}function C(t){return void 0===t}function S(t){return T(t)&&"[object RegExp]"===A(t)}function T(t){return"object"===typeof t&&null!==t}function E(t){return T(t)&&"[object Date]"===A(t)}function O(t){return T(t)&&("[object Error]"===A(t)||t instanceof Error)}function M(t){return"function"===typeof t}function N(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function A(t){return Object.prototype.toString.call(t)}function D(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(C(o)&&(o=Object({NODE_ENV:"production",VUE_APP_AUTHSERVER_API:"http://microserverauth.domain.com",VUE_APP_BASE_API:"http://microserverappgateway.domain.com",VUE_APP_STORAGE_API:"microserverfilestorage.domain.com",BASE_URL:"/"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=_,e.isNull=y,e.isNullOrUndefined=b,e.isNumber=w,e.isString=x,e.isSymbol=k,e.isUndefined=C,e.isRegExp=S,e.isObject=T,e.isDate=E,e.isError=O,e.isFunction=M,e.isPrimitive=N,e.isBuffer=n("d60a");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[D(t.getHours()),D(t.getMinutes()),D(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n("28a0"),e._extend=function(t,e){if(!e||!T(e))return t;var n=Object.keys(e),r=n.length;while(r--)t[n[r]]=e[n[r]];return t};var P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function B(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function j(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(B,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e=t[P];if("function"!==typeof e)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=P,e.callbackify=j}).call(this,n("4362"))},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=function(t){var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);while(u>a)e[a++]=t;return e}},3729:function(t,e,n){var r=n("9e69"),i=n("00fd"),o=n("29f3"),s="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function u(t){return null==t?void 0===t?a:s:l&&l in Object(t)?i(t):o(t)}t.exports=u},"3f23":function(t,e){t.exports='/* Jison generated parser */\nvar jsonlint = (function(){\nvar parser = {trace: function trace() { },\nyy: {},\nsymbols_: {"error":2,"JSONString":3,"STRING":4,"JSONNumber":5,"NUMBER":6,"JSONNullLiteral":7,"NULL":8,"JSONBooleanLiteral":9,"TRUE":10,"FALSE":11,"JSONText":12,"JSONValue":13,"EOF":14,"JSONObject":15,"JSONArray":16,"{":17,"}":18,"JSONMemberList":19,"JSONMember":20,":":21,",":22,"[":23,"]":24,"JSONElementList":25,"$accept":0,"$end":1},\nterminals_: {2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},\nproductions_: [0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],\nperformAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$) {\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1: // replace escaped characters with actual character\n          this.$ = yytext.replace(/\\\\(\\\\|")/g, "$"+"1")\n                     .replace(/\\\\n/g,\'\\n\')\n                     .replace(/\\\\r/g,\'\\r\')\n                     .replace(/\\\\t/g,\'\\t\')\n                     .replace(/\\\\v/g,\'\\v\')\n                     .replace(/\\\\f/g,\'\\f\')\n                     .replace(/\\\\b/g,\'\\b\');\n        \nbreak;\ncase 2:this.$ = Number(yytext);\nbreak;\ncase 3:this.$ = null;\nbreak;\ncase 4:this.$ = true;\nbreak;\ncase 5:this.$ = false;\nbreak;\ncase 6:return this.$ = $$[$0-1];\nbreak;\ncase 13:this.$ = {};\nbreak;\ncase 14:this.$ = $$[$0-1];\nbreak;\ncase 15:this.$ = [$$[$0-2], $$[$0]];\nbreak;\ncase 16:this.$ = {}; this.$[$$[$0][0]] = $$[$0][1];\nbreak;\ncase 17:this.$ = $$[$0-2]; $$[$0-2][$$[$0][0]] = $$[$0][1];\nbreak;\ncase 18:this.$ = [];\nbreak;\ncase 19:this.$ = $$[$0-1];\nbreak;\ncase 20:this.$ = [$$[$0]];\nbreak;\ncase 21:this.$ = $$[$0-2]; $$[$0-2].push($$[$0]);\nbreak;\n}\n},\ntable: [{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],\ndefaultActions: {16:[2,6]},\nparseError: function parseError(str, hash) {\n    throw new Error(str);\n},\nparse: function parse(input) {\n    var self = this,\n        stack = [0],\n        vstack = [null], // semantic value stack\n        lstack = [], // location stack\n        table = this.table,\n        yytext = \'\',\n        yylineno = 0,\n        yyleng = 0,\n        recovering = 0,\n        TERROR = 2,\n        EOF = 1;\n\n    //this.reductionCount = this.shiftCount = 0;\n\n    this.lexer.setInput(input);\n    this.lexer.yy = this.yy;\n    this.yy.lexer = this.lexer;\n    if (typeof this.lexer.yylloc == \'undefined\')\n        this.lexer.yylloc = {};\n    var yyloc = this.lexer.yylloc;\n    lstack.push(yyloc);\n\n    if (typeof this.yy.parseError === \'function\')\n        this.parseError = this.yy.parseError;\n\n    function popStack (n) {\n        stack.length = stack.length - 2*n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n\n    function lex() {\n        var token;\n        token = self.lexer.lex() || 1; // $end = 1\n        // if token isn\'t its numeric value, convert\n        if (typeof token !== \'number\') {\n            token = self.symbols_[token] || token;\n        }\n        return token;\n    }\n\n    var symbol, preErrorSymbol, state, action, a, r, yyval={},p,len,newState, expected;\n    while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length-1];\n\n        // use default actions if available\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol == null)\n                symbol = lex();\n            // read action for current state and first input\n            action = table[state] && table[state][symbol];\n        }\n\n        // handle parse error\n        _handle_error:\n        if (typeof action === \'undefined\' || !action.length || !action[0]) {\n\n            if (!recovering) {\n                // Report error\n                expected = [];\n                for (p in table[state]) if (this.terminals_[p] && p > 2) {\n                    expected.push("\'"+this.terminals_[p]+"\'");\n                }\n                var errStr = \'\';\n                if (this.lexer.showPosition) {\n                    errStr = \'Parse error on line \'+(yylineno+1)+":\\n"+this.lexer.showPosition()+"\\nExpecting "+expected.join(\', \') + ", got \'" + this.terminals_[symbol]+ "\'";\n                } else {\n                    errStr = \'Parse error on line \'+(yylineno+1)+": Unexpected " +\n                                  (symbol == 1 /*EOF*/ ? "end of input" :\n                                              ("\'"+(this.terminals_[symbol] || symbol)+"\'"));\n                }\n                this.parseError(errStr,\n                    {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\n            }\n\n            // just recovered from another error\n            if (recovering == 3) {\n                if (symbol == EOF) {\n                    throw new Error(errStr || \'Parsing halted.\');\n                }\n\n                // discard current lookahead and grab another\n                yyleng = this.lexer.yyleng;\n                yytext = this.lexer.yytext;\n                yylineno = this.lexer.yylineno;\n                yyloc = this.lexer.yylloc;\n                symbol = lex();\n            }\n\n            // try to recover from error\n            while (1) {\n                // check for error recovery rule in this state\n                if ((TERROR.toString()) in table[state]) {\n                    break;\n                }\n                if (state == 0) {\n                    throw new Error(errStr || \'Parsing halted.\');\n                }\n                popStack(1);\n                state = stack[stack.length-1];\n            }\n\n            preErrorSymbol = symbol; // save the lookahead token\n            symbol = TERROR;         // insert generic error symbol as new lookahead\n            state = stack[stack.length-1];\n            action = table[state] && table[state][TERROR];\n            recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        }\n\n        // this shouldn\'t happen, unless resolve defaults are off\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error(\'Parse Error: multiple actions possible at state: \'+state+\', token: \'+symbol);\n        }\n\n        switch (action[0]) {\n\n            case 1: // shift\n                //this.shiftCount++;\n\n                stack.push(symbol);\n                vstack.push(this.lexer.yytext);\n                lstack.push(this.lexer.yylloc);\n                stack.push(action[1]); // push state\n                symbol = null;\n                if (!preErrorSymbol) { // normal execution/no error\n                    yyleng = this.lexer.yyleng;\n                    yytext = this.lexer.yytext;\n                    yylineno = this.lexer.yylineno;\n                    yyloc = this.lexer.yylloc;\n                    if (recovering > 0)\n                        recovering--;\n                } else { // error just occurred, resume old lookahead f/ before error\n                    symbol = preErrorSymbol;\n                    preErrorSymbol = null;\n                }\n                break;\n\n            case 2: // reduce\n                //this.reductionCount++;\n\n                len = this.productions_[action[1]][1];\n\n                // perform semantic action\n                yyval.$ = vstack[vstack.length-len]; // default to $$ = $1\n                // default location, uses first token for firsts, last for lasts\n                yyval._$ = {\n                    first_line: lstack[lstack.length-(len||1)].first_line,\n                    last_line: lstack[lstack.length-1].last_line,\n                    first_column: lstack[lstack.length-(len||1)].first_column,\n                    last_column: lstack[lstack.length-1].last_column\n                };\n                r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\n                if (typeof r !== \'undefined\') {\n                    return r;\n                }\n\n                // pop off stack\n                if (len) {\n                    stack = stack.slice(0,-1*len*2);\n                    vstack = vstack.slice(0, -1*len);\n                    lstack = lstack.slice(0, -1*len);\n                }\n\n                stack.push(this.productions_[action[1]][0]);    // push nonterminal (reduce)\n                vstack.push(yyval.$);\n                lstack.push(yyval._$);\n                // goto new state = table[STATE][NONTERMINAL]\n                newState = table[stack[stack.length-2]][stack[stack.length-1]];\n                stack.push(newState);\n                break;\n\n            case 3: // accept\n                return true;\n        }\n\n    }\n\n    return true;\n}};\n/* Jison generated lexer */\nvar lexer = (function(){\nvar lexer = ({EOF:1,\nparseError:function parseError(str, hash) {\n        if (this.yy.parseError) {\n            this.yy.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\nsetInput:function (input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = \'\';\n        this.conditionStack = [\'INITIAL\'];\n        this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\n        return this;\n    },\ninput:function () {\n        var ch = this._input[0];\n        this.yytext+=ch;\n        this.yyleng++;\n        this.match+=ch;\n        this.matched+=ch;\n        var lines = ch.match(/\\n/);\n        if (lines) this.yylineno++;\n        this._input = this._input.slice(1);\n        return ch;\n    },\nunput:function (ch) {\n        this._input = ch + this._input;\n        return this;\n    },\nmore:function () {\n        this._more = true;\n        return this;\n    },\nless:function (n) {\n        this._input = this.match.slice(n) + this._input;\n    },\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? \'...\':\'\') + past.substr(-20).replace(/\\n/g, "");\n    },\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20)+(next.length > 20 ? \'...\':\'\')).replace(/\\n/g, "");\n    },\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c+"^";\n    },\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) this.done = true;\n\n        var token,\n            match,\n            tempMatch,\n            index,\n            col,\n            lines;\n        if (!this._more) {\n            this.yytext = \'\';\n            this.match = \'\';\n        }\n        var rules = this._currentRules();\n        for (var i=0;i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (!this.options.flex) break;\n            }\n        }\n        if (match) {\n            lines = match[0].match(/\\n.*/g);\n            if (lines) this.yylineno += lines.length;\n            this.yylloc = {first_line: this.yylloc.last_line,\n                           last_line: this.yylineno+1,\n                           first_column: this.yylloc.last_column,\n                           last_column: lines ? lines[lines.length-1].length-1 : this.yylloc.last_column + match[0].length}\n            this.yytext += match[0];\n            this.match += match[0];\n            this.yyleng = this.yytext.length;\n            this._more = false;\n            this._input = this._input.slice(match[0].length);\n            this.matched += match[0];\n            token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\n            if (this.done && this._input) this.done = false;\n            if (token) return token;\n            else return;\n        }\n        if (this._input === "") {\n            return this.EOF;\n        } else {\n            this.parseError(\'Lexical error on line \'+(this.yylineno+1)+\'. Unrecognized text.\\n\'+this.showPosition(), \n                    {text: "", token: null, line: this.yylineno});\n        }\n    },\nlex:function lex() {\n        var r = this.next();\n        if (typeof r !== \'undefined\') {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\nbegin:function begin(condition) {\n        this.conditionStack.push(condition);\n    },\npopState:function popState() {\n        return this.conditionStack.pop();\n    },\n_currentRules:function _currentRules() {\n        return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\n    },\ntopState:function () {\n        return this.conditionStack[this.conditionStack.length-2];\n    },\npushState:function begin(condition) {\n        this.begin(condition);\n    }});\nlexer.options = {};\nlexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\n\nvar YYSTATE=YY_START\nswitch($avoiding_name_collisions) {\ncase 0:/* skip whitespace */\nbreak;\ncase 1:return 6\nbreak;\ncase 2:yy_.yytext = yy_.yytext.substr(1,yy_.yyleng-2); return 4\nbreak;\ncase 3:return 17\nbreak;\ncase 4:return 18\nbreak;\ncase 5:return 23\nbreak;\ncase 6:return 24\nbreak;\ncase 7:return 22\nbreak;\ncase 8:return 21\nbreak;\ncase 9:return 10\nbreak;\ncase 10:return 11\nbreak;\ncase 11:return 8\nbreak;\ncase 12:return 14\nbreak;\ncase 13:return \'INVALID\'\nbreak;\n}\n};\nlexer.rules = [/^(?:\\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\\.[0-9]+)?([eE][-+]?[0-9]+)?\\b)/,/^(?:"(?:\\\\[\\\\"bfnrt/]|\\\\u[a-fA-F0-9]{4}|[^\\\\\\0-\\x09\\x0a-\\x1f"])*")/,/^(?:\\{)/,/^(?:\\})/,/^(?:\\[)/,/^(?:\\])/,/^(?:,)/,/^(?::)/,/^(?:true\\b)/,/^(?:false\\b)/,/^(?:null\\b)/,/^(?:$)/,/^(?:.)/];\nlexer.conditions = {"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13],"inclusive":true}};\n\n\n;\nreturn lexer;})()\nparser.lexer = lexer;\nreturn parser;\n})();\nif (typeof require !== \'undefined\' && typeof exports !== \'undefined\') {\nexports.parser = jsonlint;\nexports.parse = function () { return jsonlint.parse.apply(jsonlint, arguments); }\nexports.main = function commonjsMain(args) {\n    if (!args[1])\n        throw new Error(\'Usage: \'+args[0]+\' FILE\');\n    if (typeof process !== \'undefined\') {\n        var source = require(\'fs\').readFileSync(require(\'path\').join(process.cwd(), args[1]), "utf8");\n    } else {\n        var cwd = require("file").path(require("file").cwd());\n        var source = cwd.join(args[1]).read({charset: "utf-8"});\n    }\n    return exports.parser.parse(source);\n}\nif (typeof module !== \'undefined\' && require.main === module) {\n  exports.main(typeof process !== \'undefined\' ? process.argv.slice(1) : require("system").args);\n}\n}'},"408c":function(t,e,n){var r=n("2b3e"),i=function(){return r.Date.now()};t.exports=i},4416:function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},"442c":function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return M})),n.d(e,"j",(function(){return T}));var r=n("b923"),i=n("6f27"),o=n("6ffb");const s=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),a=(t,e,n)=>{let{$cursor:s}=t.selection;if(!s||(n?!n.endOfTextblock("backward",t):s.parentOffset>0))return!1;let a=c(s);if(!a){let n=s.blockRange(),i=n&&Object(r["k"])(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let u=a.nodeBefore;if(!u.type.spec.isolating&&x(t,a,e))return!0;if(0==s.parent.content.size&&(l(u,"end")||o["c"].isSelectable(u))){let n=Object(r["l"])(t.doc,s.before(),s.after(),i["j"].empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(l(u,"end")?o["f"].findFrom(r.doc.resolve(r.mapping.map(a.pos,-1)),-1):o["c"].create(r.doc,a.pos-u.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||a.depth!=s.depth-1)&&(e&&e(t.tr.delete(a.pos-u.nodeSize,a.pos).scrollIntoView()),!0)};function l(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const u=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=c(r)}let a=s&&s.nodeBefore;return!(!a||!o["c"].isSelectable(a))&&(e&&e(t.tr.setSelection(o["c"].create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function c(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const h=(t,e,n)=>{let{$cursor:s}=t.selection;if(!s||(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size))return!1;let a=d(s);if(!a)return!1;let u=a.nodeAfter;if(x(t,a,e))return!0;if(0==s.parent.content.size&&(l(u,"start")||o["c"].isSelectable(u))){let n=Object(r["l"])(t.doc,s.before(),s.after(),i["j"].empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(l(u,"start")?o["f"].findFrom(r.doc.resolve(r.mapping.map(a.pos)),1):o["c"].create(r.doc,r.mapping.map(a.pos))),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||a.depth!=s.depth-1)&&(e&&e(t.tr.delete(a.pos,a.pos+u.nodeSize).scrollIntoView()),!0)},p=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=d(r)}let a=s&&s.nodeAfter;return!(!a||!o["c"].isSelectable(a))&&(e&&e(t.tr.setSelection(o["c"].create(t.doc,s.pos)).scrollIntoView()),!0)};function d(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const f=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function m(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const g=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=m(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,a.createAndFill());i.setSelection(o["f"].near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},v=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof o["a"]||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=m(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(n,s.createAndFill());a.setSelection(o["h"].create(a.doc,n+1)),e(a.scrollIntoView())}return!0},_=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Object(r["g"])(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),o=i&&Object(r["k"])(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},y=(t,e)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof o["c"]&&t.selection.node.isBlock)return!(!n.parentOffset||!Object(r["g"])(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){let s=i.parentOffset==i.parent.content.size,a=t.tr;(t.selection instanceof o["h"]||t.selection instanceof o["a"])&&a.deleteSelection();let l=0==n.depth?null:m(n.node(-1).contentMatchAt(n.indexAfter(-1))),u=s&&l?[{type:l}]:void 0,c=Object(r["g"])(a.doc,a.mapping.map(n.pos),1,u);if(u||c||!Object(r["g"])(a.doc,a.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(u=[{type:l}]),c=!0),c&&(a.split(a.mapping.map(n.pos),1,u),!s&&!n.parentOffset&&n.parent.type!=l)){let t=a.mapping.map(n.before()),e=a.doc.resolve(t);l&&n.node(-1).canReplaceWith(e.index(),e.index()+1,l)&&a.setNodeMarkup(a.mapping.map(n.before()),l)}e(a.scrollIntoView())}return!0},b=(t,e)=>(e&&e(t.tr.setSelection(new o["a"](t.doc))),!0);function w(t,e,n){let i=e.nodeBefore,o=e.nodeAfter,s=e.index();return!!(i&&o&&i.type.compatibleContent(o.type))&&(!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(s,s+1)||!o.isTextblock&&!Object(r["f"])(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0))}function x(t,e,n){let s,a,u=e.nodeBefore,c=e.nodeAfter;if(u.type.spec.isolating||c.type.spec.isolating)return!1;if(w(t,e,n))return!0;let h=e.parent.canReplace(e.index(),e.index()+1);if(h&&(s=(a=u.contentMatchAt(u.childCount)).findWrapping(c.type))&&a.matchType(s[0]||c.type).validEnd){if(n){let o=e.pos+c.nodeSize,a=i["c"].empty;for(let t=s.length-1;t>=0;t--)a=i["c"].from(s[t].create(null,a));a=i["c"].from(u.copy(a));let l=t.tr.step(new r["b"](e.pos-1,o,e.pos,o,new i["j"](a,1,0),s.length,!0)),h=o+2*s.length;Object(r["f"])(l.doc,h)&&l.join(h),n(l.scrollIntoView())}return!0}let p=o["f"].findFrom(e,1),d=p&&p.$from.blockRange(p.$to),f=d&&Object(r["k"])(d);if(null!=f&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(h&&l(c,"start",!0)&&l(u,"end")){let o=u,s=[];for(;;){if(s.push(o),o.isTextblock)break;o=o.lastChild}let a=c,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(o.canReplace(o.childCount,o.childCount,a.content)){if(n){let o=i["c"].empty;for(let t=s.length-1;t>=0;t--)o=i["c"].from(s[t].copy(o));let a=t.tr.step(new r["b"](e.pos-s.length,e.pos+c.nodeSize,e.pos+l,e.pos+c.nodeSize-l,new i["j"](o,s.length,0),0,!0));n(a.scrollIntoView())}return!0}}return!1}function k(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;while(i.node(s).isInline){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(n&&n(e.tr.setSelection(o["h"].create(e.doc,t<0?i.start(s):i.end(s)))),!0)}}const C=k(-1),S=k(1);function T(t,e=null){return function(n,i){let{$from:o,$to:s}=n.selection,a=o.blockRange(s),l=a&&Object(r["i"])(a,t,e);return!!l&&(i&&i(n.tr.wrap(a,l).scrollIntoView()),!0)}}function E(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,(r,i)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)s=!0;else{let e=n.doc.resolve(i),r=e.index();s=e.parent.canReplaceWith(r,r+1,t)}}),!!s&&(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0)}}function O(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=0==i.depth&&(t.inlineContent&&t.type.allowsMarkType(n));if(t.nodesBetween(i.pos,o.pos,t=>{if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)}),s)return!0}return!1}function M(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!O(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let i=!1,o=n.tr;for(let e=0;!i&&e<s.length;e++){let{$from:r,$to:o}=s[e];i=n.doc.rangeHasMark(r.pos,o.pos,t)}for(let n=0;n<s.length;n++){let{$from:r,$to:a}=s[n];if(i)o.removeMark(r.pos,a.pos,t);else{let n=r.pos,i=a.pos,s=r.nodeAfter,l=a.nodeBefore,u=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,c=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+u<i&&(n+=u,i-=c),o.addMark(n,i,t.create(e))}}r(o.scrollIntoView())}return!0}}function N(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let A=N(s,a,u),D=N(s,h,p);const L={Enter:N(f,v,_,y),"Mod-Enter":g,Backspace:A,"Mod-Backspace":A,"Shift-Backspace":A,Delete:D,"Mod-Delete":D,"Mod-a":b},I={"Ctrl-h":L["Backspace"],"Alt-Backspace":L["Mod-Backspace"],"Ctrl-d":L["Delete"],"Ctrl-Alt-Backspace":L["Mod-Delete"],"Alt-Delete":L["Mod-Delete"],"Alt-d":L["Mod-Delete"],"Ctrl-a":C,"Ctrl-e":S};for(let B in L)I[B]=L[B];const R="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),P=R?I:L},"448a":function(t,e,n){var r=n("2236"),i=n("11b0"),o=n("6613"),s=n("0676");function a(t){return r(t)||i(t)||o(t)||s()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},4603:function(t,e,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function a(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function l(t,e){if(null==t)return{};var n,r,i=a(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u(t){return c(t)||h(t)||p()}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(e),n.d(e,"MultiDrag",(function(){return je})),n.d(e,"Sortable",(function(){return Qt})),n.d(e,"Swap",(function(){return Te}));var d="1.10.2";function f(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var m=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=f(/Edge/i),v=f(/firefox/i),_=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),y=f(/iP(ad|od|hone)/i),b=f(/chrome/i)&&f(/android/i),w={capture:!1,passive:!1};function x(t,e,n){t.addEventListener(e,n,!m&&w)}function k(t,e,n){t.removeEventListener(e,n,!m&&w)}function C(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function S(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function T(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&C(t,e):C(t,e))||r&&t===n)return t;if(t===n)break}while(t=S(t))}return null}var E,O=/\s+/g;function M(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(O," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(O," ")}}function N(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"===typeof n?"":"px")}}function A(t,e){var n="";if("string"===typeof t)n=t;else do{var r=N(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function D(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function L(){var t=document.scrollingElement;return t||document.documentElement}function I(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var o,s,a,l,u,c,h;if(t!==window&&t!==L()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!m))do{if(i&&i.getBoundingClientRect&&("none"!==N(i,"transform")||n&&"static"!==N(i,"position"))){var p=i.getBoundingClientRect();s-=p.top+parseInt(N(i,"border-top-width")),a-=p.left+parseInt(N(i,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(i=i.parentNode);if(r&&t!==window){var d=A(i||t),f=d&&d.a,g=d&&d.d;d&&(s/=g,a/=f,h/=f,c/=g,l=s+c,u=a+h)}return{top:s,left:a,bottom:l,right:u,width:h,height:c}}}function R(t,e,n){var r=H(t,!0),i=I(t)[e];while(r){var o=I(r)[n],s=void 0;if(s="top"===n||"left"===n?i>=o:i<=o,!s)return r;if(r===L())break;r=H(r,!1)}return!1}function P(t,e,n){var r=0,i=0,o=t.children;while(i<o.length){if("none"!==o[i].style.display&&o[i]!==Qt.ghost&&o[i]!==Qt.dragged&&T(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function B(t,e){var n=t.lastElementChild;while(n&&(n===Qt.ghost||"none"===N(n,"display")||e&&!C(n,e)))n=n.previousElementSibling;return n||null}function j(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Qt.clone||e&&!C(t,e)||n++;return n}function F(t){var e=0,n=0,r=L();if(t)do{var i=A(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}function z(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}function H(t,e){if(!t||!t.getBoundingClientRect)return L();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return L();if(r||e)return n;r=!0}}}while(n=n.parentNode);return L()}function $(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function W(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function V(t,e){return function(){if(!E){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),E=setTimeout((function(){E=void 0}),e)}}}function U(){clearTimeout(E),E=void 0}function q(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function K(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function G(t,e){N(t,"position","absolute"),N(t,"top",e.top),N(t,"left",e.left),N(t,"width",e.width),N(t,"height",e.height)}function X(t){N(t,"position",""),N(t,"top",""),N(t,"left",""),N(t,"width",""),N(t,"height","")}var Y="Sortable"+(new Date).getTime();function J(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==N(t,"display")&&t!==Qt.ghost){e.push({target:t,rect:I(t)});var n=s({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=A(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(z(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof n&&n());var i=!1,o=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=I(n),l=n.prevFromRect,u=n.prevToRect,c=t.rect,h=A(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&W(l,a)&&!W(s,a)&&(c.top-a.top)/(c.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=Z(c,l,u,r.options)),W(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=r.options.animation),r.animate(n,c,a,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){N(t,"transition",""),N(t,"transform","");var i=A(this.el),o=i&&i.a,s=i&&i.d,a=(e.left-n.left)/(o||1),l=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,N(t,"transform","translate3d("+a+"px,"+l+"px,0)"),Q(t),N(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),N(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){N(t,"transition",""),N(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}function Q(t){return t.offsetWidth}function Z(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var tt=[],et={initializeByDefault:!0},nt={mount:function(t){for(var e in et)et.hasOwnProperty(e)&&!(e in t)&&(t[e]=et[e]);tt.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";tt.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](s({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](s({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var i in tt.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var s=new r(t,e,t.options);s.sortable=t,s.options=t.options,t[i]=s,o(n,s.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var s=this.modifyOption(t,i,t.options[i]);"undefined"!==typeof s&&(t.options[i]=s)}},getEventProperties:function(t,e){var n={};return tt.forEach((function(r){"function"===typeof r.eventProperties&&o(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return tt.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function rt(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,l=t.fromEl,u=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,p=t.newDraggableIndex,d=t.originalEvent,f=t.putSortable,v=t.extraEventProperties;if(e=e||n&&n[Y],e){var _,y=e.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||m||g?(_=document.createEvent("Event"),_.initEvent(r,!0,!0)):_=new CustomEvent(r,{bubbles:!0,cancelable:!0}),_.to=a||n,_.from=l||n,_.item=i||n,_.clone=o,_.oldIndex=u,_.newIndex=c,_.oldDraggableIndex=h,_.newDraggableIndex=p,_.originalEvent=d,_.pullMode=f?f.lastPutMode:void 0;var w=s({},v,nt.getEventProperties(r,e));for(var x in w)_[x]=w[x];n&&n.dispatchEvent(_),y[b]&&y[b].call(e,_)}}var it=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=l(n,["evt"]);nt.pluginEvent.bind(Qt)(t,e,s({dragEl:st,parentEl:at,ghostEl:lt,rootEl:ut,nextEl:ct,lastDownEl:ht,cloneEl:pt,cloneHidden:dt,dragStarted:Tt,putSortable:yt,activeSortable:Qt.active,originalEvent:r,oldIndex:ft,oldDraggableIndex:gt,newIndex:mt,newDraggableIndex:vt,hideGhostForTarget:Gt,unhideGhostForTarget:Xt,cloneNowHidden:function(){dt=!0},cloneNowShown:function(){dt=!1},dispatchSortableEvent:function(t){ot({sortable:e,name:t,originalEvent:r})}},i))};function ot(t){rt(s({putSortable:yt,cloneEl:pt,targetEl:st,rootEl:ut,oldIndex:ft,oldDraggableIndex:gt,newIndex:mt,newDraggableIndex:vt},t))}var st,at,lt,ut,ct,ht,pt,dt,ft,mt,gt,vt,_t,yt,bt,wt,xt,kt,Ct,St,Tt,Et,Ot,Mt,Nt,At=!1,Dt=!1,Lt=[],It=!1,Rt=!1,Pt=[],Bt=!1,jt=[],Ft="undefined"!==typeof document,zt=y,Ht=g||m?"cssFloat":"float",$t=Ft&&!b&&!y&&"draggable"in document.createElement("div"),Wt=function(){if(Ft){if(m)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Vt=function(t,e){var n=N(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=P(t,0,e),o=P(t,1,e),s=i&&N(i),a=o&&N(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(i).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s["float"]&&"none"!==s["float"]){var c="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[Ht]||o&&"none"===n[Ht]&&l+u>r)?"vertical":"horizontal"},Ut=function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,o=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return r===s||i===a||r+o/2===s+l/2},qt=function(t,e){var n;return Lt.some((function(r){if(!B(r)){var i=I(r),o=r[Y].options.emptyInsertThreshold,s=t>=i.left-o&&t<=i.right+o,a=e>=i.top-o&&e<=i.bottom+o;return o&&s&&a?n=r:void 0}})),n},Kt=function(t){function e(t,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},Gt=function(){!Wt&&lt&&N(lt,"display","none")},Xt=function(){!Wt&&lt&&N(lt,"display","")};Ft&&document.addEventListener("click",(function(t){if(Dt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Dt=!1,!1}),!0);var Yt=function(t){if(st){t=t.touches?t.touches[0]:t;var e=qt(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Y]._onDragOver(n)}}},Jt=function(t){st&&st.parentNode[Y]._isOutsideThisEl(t.target)};function Qt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Qt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in nt.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var i in Kt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&$t,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?x(t,"pointerdown",this._onTapStart):(x(t,"mousedown",this._onTapStart),x(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(x(t,"dragover",this),x(t,"dragenter",this)),Lt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,J())}function Zt(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function te(t,e,n,r,i,o,s,a){var l,u,c=t[Y],h=c.options.onMove;return!window.CustomEvent||m||g?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||I(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(u=h.call(c,l,s)),u}function ee(t){t.draggable=!1}function ne(){Bt=!1}function re(t,e,n){var r=I(B(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function ie(t,e,n,r,i,o,s,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,p=!1;if(!s)if(a&&Mt<u*i){if(!It&&(1===Ot?l>c+u*o/2:l<h-u*o/2)&&(It=!0),It)p=!0;else if(1===Ot?l<c+Mt:l>h-Mt)return-Ot}else if(l>c+u*(1-i)/2&&l<h-u*(1-i)/2)return oe(e);return p=p||s,p&&(l<c+u*o/2||l>h-u*o/2)?l>c+u/2?1:-1:0}function oe(t){return j(st)<j(t)?1:-1}function se(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;while(n--)r+=e.charCodeAt(n);return r.toString(36)}function ae(t){jt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var r=e[n];r.checked&&jt.push(r)}}function le(t){return setTimeout(t,0)}function ue(t){return clearTimeout(t)}Qt.prototype={constructor:Qt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Et=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,st):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,u=r.filter;if(ae(n),!st&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled)&&!l.isContentEditable&&(a=T(a,r.draggable,n,!1),(!a||!a.animated)&&ht!==a)){if(ft=j(a),gt=j(a,r.draggable),"function"===typeof u){if(u.call(this,t,a,this))return ot({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),it("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=T(l,r.trim(),n,!1),r)return ot({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),it("filter",e,{evt:t}),!0})),u))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!T(l,r.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!st&&n.parentNode===o){var l=I(n);if(ut=o,st=n,at=st.parentNode,ct=st.nextSibling,ht=n,_t=s.group,Qt.dragged=st,bt={target:st,clientX:(e||t).clientX,clientY:(e||t).clientY},Ct=bt.clientX-l.left,St=bt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,st.style["will-change"]="all",r=function(){it("delayEnded",i,{evt:t}),Qt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!v&&i.nativeDraggable&&(st.draggable=!0),i._triggerDragStart(t,e),ot({sortable:i,name:"choose",originalEvent:t}),M(st,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){D(st,t.trim(),ee)})),x(a,"dragover",Yt),x(a,"mousemove",Yt),x(a,"touchmove",Yt),x(a,"mouseup",i._onDrop),x(a,"touchend",i._onDrop),x(a,"touchcancel",i._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,st.draggable=!0),it("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(g||m))r();else{if(Qt.eventCanceled)return void this._onDrop();x(a,"mouseup",i._disableDelayedDrag),x(a,"touchend",i._disableDelayedDrag),x(a,"touchcancel",i._disableDelayedDrag),x(a,"mousemove",i._delayedDragTouchMoveHandler),x(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&x(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){st&&ee(st),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._disableDelayedDrag),k(t,"touchend",this._disableDelayedDrag),k(t,"touchcancel",this._disableDelayedDrag),k(t,"mousemove",this._delayedDragTouchMoveHandler),k(t,"touchmove",this._delayedDragTouchMoveHandler),k(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?x(document,"pointermove",this._onTouchMove):x(document,e?"touchmove":"mousemove",this._onTouchMove):(x(st,"dragend",this),x(ut,"dragstart",this._onDragStart));try{document.selection?le((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(At=!1,ut&&st){it("dragStarted",this,{evt:e}),this.nativeDraggable&&x(document,"dragover",Jt);var n=this.options;!t&&M(st,n.dragClass,!1),M(st,n.ghostClass,!0),Qt.active=this,t&&this._appendGhost(),ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,Gt();var t=document.elementFromPoint(wt.clientX,wt.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(wt.clientX,wt.clientY),t===e)break;e=t}if(st.parentNode[Y]._isOutsideThisEl(t),e)do{if(e[Y]){var n=void 0;if(n=e[Y]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Xt()}},_onTouchMove:function(t){if(bt){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=lt&&A(lt,!0),s=lt&&o&&o.a,a=lt&&o&&o.d,l=zt&&Nt&&F(Nt),u=(i.clientX-bt.clientX+r.x)/(s||1)+(l?l[0]-Pt[0]:0)/(s||1),c=(i.clientY-bt.clientY+r.y)/(a||1)+(l?l[1]-Pt[1]:0)/(a||1);if(!Qt.active&&!At){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(lt){o?(o.e+=u-(xt||0),o.f+=c-(kt||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");N(lt,"webkitTransform",h),N(lt,"mozTransform",h),N(lt,"msTransform",h),N(lt,"transform",h),xt=u,kt=c,wt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!lt){var t=this.options.fallbackOnBody?document.body:ut,e=I(st,!0,zt,!0,t),n=this.options;if(zt){Nt=t;while("static"===N(Nt,"position")&&"none"===N(Nt,"transform")&&Nt!==document)Nt=Nt.parentNode;Nt!==document.body&&Nt!==document.documentElement?(Nt===document&&(Nt=L()),e.top+=Nt.scrollTop,e.left+=Nt.scrollLeft):Nt=L(),Pt=F(Nt)}lt=st.cloneNode(!0),M(lt,n.ghostClass,!1),M(lt,n.fallbackClass,!0),M(lt,n.dragClass,!0),N(lt,"transition",""),N(lt,"transform",""),N(lt,"box-sizing","border-box"),N(lt,"margin",0),N(lt,"top",e.top),N(lt,"left",e.left),N(lt,"width",e.width),N(lt,"height",e.height),N(lt,"opacity","0.8"),N(lt,"position",zt?"absolute":"fixed"),N(lt,"zIndex","100000"),N(lt,"pointerEvents","none"),Qt.ghost=lt,t.appendChild(lt),N(lt,"transform-origin",Ct/parseInt(lt.style.width)*100+"% "+St/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;it("dragStart",this,{evt:t}),Qt.eventCanceled?this._onDrop():(it("setupClone",this),Qt.eventCanceled||(pt=K(st),pt.draggable=!1,pt.style["will-change"]="",this._hideClone(),M(pt,this.options.chosenClass,!1),Qt.clone=pt),n.cloneId=le((function(){it("clone",n),Qt.eventCanceled||(n.options.removeCloneOnHide||ut.insertBefore(pt,st),n._hideClone(),ot({sortable:n,name:"clone"}))})),!e&&M(st,i.dragClass,!0),e?(Dt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(k(document,"mouseup",n._onDrop),k(document,"touchend",n._onDrop),k(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,st)),x(document,"drop",n),N(st,"transform","translateZ(0)")),At=!0,n._dragStartId=le(n._dragStarted.bind(n,e,t)),x(document,"selectstart",n),Tt=!0,_&&N(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,o=this.el,a=t.target,l=this.options,u=l.group,c=Qt.active,h=_t===u,p=l.sort,d=yt||c,f=this,m=!1;if(!Bt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=T(a,l.draggable,o,!0),D("dragOver"),Qt.eventCanceled)return m;if(st.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return P(!1);if(Dt=!1,c&&!l.disabled&&(h?p||(r=!ut.contains(st)):yt===this||(this.lastPutMode=_t.checkPull(this,c,st,t))&&u.checkPut(this,c,st,t))){if(i="vertical"===this._getDirection(t,a),e=I(st),D("dragOverValid"),Qt.eventCanceled)return m;if(r)return at=ut,L(),this._hideClone(),D("revert"),Qt.eventCanceled||(ct?ut.insertBefore(st,ct):ut.appendChild(st)),P(!0);var g=B(o,l.draggable);if(!g||re(t,i,this)&&!g.animated){if(g===st)return P(!1);if(g&&o===t.target&&(a=g),a&&(n=I(a)),!1!==te(ut,o,st,e,a,n,t,!!a))return L(),o.appendChild(st),at=o,F(),P(!0)}else if(a.parentNode===o){n=I(a);var v,_,y=0,b=st.parentNode!==o,w=!Ut(st.animated&&st.toRect||e,a.animated&&a.toRect||n,i),x=i?"top":"left",k=R(a,"top","top")||R(st,"top","top"),C=k?k.scrollTop:void 0;if(Et!==a&&(v=n[x],It=!1,Rt=!w&&l.invertSwap||b),y=ie(t,a,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Rt,Et===a),0!==y){var S=j(st);do{S-=y,_=at.children[S]}while(_&&("none"===N(_,"display")||_===lt))}if(0===y||_===a)return P(!1);Et=a,Ot=y;var E=a.nextElementSibling,O=!1;O=1===y;var A=te(ut,o,st,e,a,n,t,O);if(!1!==A)return 1!==A&&-1!==A||(O=1===A),Bt=!0,setTimeout(ne,30),L(),O&&!E?o.appendChild(st):a.parentNode.insertBefore(st,O?E:a),k&&q(k,0,C-k.scrollTop),at=st.parentNode,void 0===v||Rt||(Mt=Math.abs(v-I(a)[x])),F(),P(!0)}if(o.contains(st))return P(!1)}return!1}function D(l,u){it(l,f,s({evt:t,isOwner:h,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:p,fromSortable:d,target:a,completed:P,onMove:function(n,r){return te(ut,o,st,e,n,I(n),t,r)},changed:F},u))}function L(){D("dragOverAnimationCapture"),f.captureAnimationState(),f!==d&&d.captureAnimationState()}function P(e){return D("dragOverCompleted",{insertion:e}),e&&(h?c._hideClone():c._showClone(f),f!==d&&(M(st,yt?yt.options.ghostClass:c.options.ghostClass,!1),M(st,l.ghostClass,!0)),yt!==f&&f!==Qt.active?yt=f:f===Qt.active&&yt&&(yt=null),d===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){D("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a===st&&!st.animated||a===o&&!a.animated)&&(Et=null),l.dragoverBubble||t.rootEl||a===document||(st.parentNode[Y]._isOutsideThisEl(t.target),!e&&Yt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function F(){mt=j(st),vt=j(st,l.draggable),ot({sortable:f,name:"change",toEl:o,newIndex:mt,newDraggableIndex:vt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){k(document,"mousemove",this._onTouchMove),k(document,"touchmove",this._onTouchMove),k(document,"pointermove",this._onTouchMove),k(document,"dragover",Yt),k(document,"mousemove",Yt),k(document,"touchmove",Yt)},_offUpEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._onDrop),k(t,"touchend",this._onDrop),k(t,"pointerup",this._onDrop),k(t,"touchcancel",this._onDrop),k(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;mt=j(st),vt=j(st,n.draggable),it("drop",this,{evt:t}),at=st&&st.parentNode,mt=j(st),vt=j(st,n.draggable),Qt.eventCanceled||(At=!1,Rt=!1,It=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ue(this.cloneId),ue(this._dragStartId),this.nativeDraggable&&(k(document,"drop",this),k(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_&&N(document.body,"user-select",""),N(st,"transform",""),t&&(Tt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(ut===at||yt&&"clone"!==yt.lastPutMode)&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),st&&(this.nativeDraggable&&k(st,"dragend",this),ee(st),st.style["will-change"]="",Tt&&!At&&M(st,yt?yt.options.ghostClass:this.options.ghostClass,!1),M(st,this.options.chosenClass,!1),ot({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:t}),ut!==at?(mt>=0&&(ot({rootEl:at,name:"add",toEl:at,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"remove",toEl:at,originalEvent:t}),ot({rootEl:at,name:"sort",toEl:at,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),yt&&yt.save()):mt!==ft&&mt>=0&&(ot({sortable:this,name:"update",toEl:at,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),Qt.active&&(null!=mt&&-1!==mt||(mt=ft,vt=gt),ot({sortable:this,name:"end",toEl:at,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){it("nulling",this),ut=st=at=lt=ct=pt=ht=dt=bt=wt=Tt=mt=vt=ft=gt=Et=Ot=yt=_t=Qt.dragged=Qt.ghost=Qt.clone=Qt.active=null,jt.forEach((function(t){t.checked=!0})),jt.length=xt=kt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":st&&(this._onDragOver(t),Zt(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)t=n[r],T(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||se(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var i=n.children[r];T(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return T(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=nt.modifyOption(this,t,e);n[t]="undefined"!==typeof r?r:e,"group"===t&&Kt(n)},destroy:function(){it("destroy",this);var t=this.el;t[Y]=null,k(t,"mousedown",this._onTapStart),k(t,"touchstart",this._onTapStart),k(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(k(t,"dragover",this),k(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Lt.splice(Lt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!dt){if(it("hideClone",this),Qt.eventCanceled)return;N(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),dt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(dt){if(it("showClone",this),Qt.eventCanceled)return;ut.contains(st)&&!this.options.group.revertClone?ut.insertBefore(pt,st):ct?ut.insertBefore(pt,ct):ut.appendChild(pt),this.options.group.revertClone&&this.animate(st,pt),N(pt,"display",""),dt=!1}}else this._hideClone()}},Ft&&x(document,"touchmove",(function(t){(Qt.active||At)&&t.cancelable&&t.preventDefault()})),Qt.utils={on:x,off:k,css:N,find:D,is:function(t,e){return!!T(t,e,t,!1)},extend:$,throttle:V,closest:T,toggleClass:M,clone:K,index:j,nextTick:le,cancelNextTick:ue,detectDirection:Vt,getChild:P},Qt.get=function(t){return t[Y]},Qt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Qt.utils=s({},Qt.utils,t.utils)),nt.mount(t)}))},Qt.create=function(t,e){return new Qt(t,e)},Qt.version=d;var ce,he,pe,de,fe,me,ge=[],ve=!1;function _e(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):this.options.supportPointer?x(document,"pointermove",this._handleFallbackAutoScroll):e.touches?x(document,"touchmove",this._handleFallbackAutoScroll):x(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):(k(document,"pointermove",this._handleFallbackAutoScroll),k(document,"touchmove",this._handleFallbackAutoScroll),k(document,"mousemove",this._handleFallbackAutoScroll)),be(),ye(),U()},nulling:function(){fe=he=ce=ve=me=pe=de=null,ge.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,i);if(fe=t,e||g||m||_){xe(t,this.options,o,e);var s=H(o,!0);!ve||me&&r===pe&&i===de||(me&&be(),me=setInterval((function(){var o=H(document.elementFromPoint(r,i),!0);o!==s&&(s=o,ye()),xe(t,n.options,o,e)}),10),pe=r,de=i)}else{if(!this.options.bubbleScroll||H(o,!0)===L())return void ye();xe(t,this.options,H(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}function ye(){ge.forEach((function(t){clearInterval(t.pid)})),ge=[]}function be(){clearInterval(me)}var we,xe=V((function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,u=L(),c=!1;he!==n&&(he=n,ye(),ce=e.scroll,i=e.scrollFn,!0===ce&&(ce=H(n,!0)));var h=0,p=ce;do{var d=p,f=I(d),m=f.top,g=f.bottom,v=f.left,_=f.right,y=f.width,b=f.height,w=void 0,x=void 0,k=d.scrollWidth,C=d.scrollHeight,S=N(d),T=d.scrollLeft,E=d.scrollTop;d===u?(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=b<C&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX),x=b<C&&("auto"===S.overflowY||"scroll"===S.overflowY));var O=w&&(Math.abs(_-o)<=a&&T+y<k)-(Math.abs(v-o)<=a&&!!T),M=x&&(Math.abs(g-s)<=a&&E+b<C)-(Math.abs(m-s)<=a&&!!E);if(!ge[h])for(var A=0;A<=h;A++)ge[A]||(ge[A]={});ge[h].vx==O&&ge[h].vy==M&&ge[h].el===d||(ge[h].el=d,ge[h].vx=O,ge[h].vy=M,clearInterval(ge[h].pid),0==O&&0==M||(c=!0,ge[h].pid=setInterval(function(){r&&0===this.layer&&Qt.active._onTouchMove(fe);var e=ge[this.layer].vy?ge[this.layer].vy*l:0,n=ge[this.layer].vx?ge[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Qt.dragged.parentNode[Y],n,e,t,fe,ge[this.layer].el)||q(ge[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==u&&(p=H(p,!1)));ve=c}}),30),ke=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||i;s();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);a(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function Ce(){}function Se(){}function Te(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;we=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,i=t.activeSortable,o=t.changed,s=t.cancel;if(i.options.swap){var a=this.sortable.el,l=this.options;if(n&&n!==a){var u=we;!1!==r(n)?(M(n,l.swapClass,!0),we=n):we=null,u&&u!==we&&M(u,l.swapClass,!1)}o(),e(!0),s()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,i=n||this.sortable,o=this.options;we&&M(we,o.swapClass,!1),we&&(o.swap||n&&n.options.swap)&&r!==we&&(i.captureAnimationState(),i!==e&&e.captureAnimationState(),Ee(r,we),i.animateAll(),i!==e&&e.animateAll())},nulling:function(){we=null}},o(t,{pluginName:"swap",eventProperties:function(){return{swapItem:we}}})}function Ee(t,e){var n,r,i=t.parentNode,o=e.parentNode;i&&o&&!i.isEqualNode(e)&&!o.isEqualNode(t)&&(n=j(t),r=j(e),i.isEqualNode(o)&&n<r&&r++,i.insertBefore(e,i.children[n]),o.insertBefore(t,o.children[r]))}Ce.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=P(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ke},o(Ce,{pluginName:"revertOnSpill"}),Se.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:ke},o(Se,{pluginName:"removeOnSpill"});var Oe,Me,Ne,Ae,De,Le=[],Ie=[],Re=!1,Pe=!1,Be=!1;function je(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?x(document,"pointerup",this._deselectMultiDrag):(x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag)),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var r="";Le.length&&Me===t?Le.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;Ne=e},delayEnded:function(){this.isMultiDrag=~Le.indexOf(Ne)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var r=0;r<Le.length;r++)Ie.push(K(Le[r])),Ie[r].sortableIndex=Le[r].sortableIndex,Ie[r].draggable=!1,Ie[r].style["will-change"]="",M(Ie[r],this.options.selectedClass,!1),Le[r]===Ne&&M(Ie[r],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,i=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Le.length&&Me===e&&(ze(!0,n),r("clone"),i()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(ze(!1,n),Ie.forEach((function(t){N(t,"display","")})),e(),De=!1,r())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),r=t.cancel;this.isMultiDrag&&(Ie.forEach((function(t){N(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),De=!0,r())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&Me&&Me.multiDrag._deselectMultiDrag(),Le.forEach((function(t){t.sortableIndex=j(t)})),Le=Le.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Be=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Le.forEach((function(t){t!==Ne&&N(t,"position","absolute")}));var r=I(Ne,!1,!0,!0);Le.forEach((function(t){t!==Ne&&G(t,r)})),Pe=!0,Re=!0}n.animateAll((function(){Pe=!1,Re=!1,e.options.animation&&Le.forEach((function(t){X(t)})),e.options.sort&&He()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;Pe&&~Le.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,i=t.dragRect;Le.length>1&&(Le.forEach((function(t){r.addAnimationState({target:t,rect:Pe?I(t):i}),X(t),t.fromRect=i,e.removeAnimationState(t)})),Pe=!1,Fe(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,i=t.activeSortable,o=t.parentEl,s=t.putSortable,a=this.options;if(r){if(n&&i._hideClone(),Re=!1,a.animation&&Le.length>1&&(Pe||!n&&!i.options.sort&&!s)){var l=I(Ne,!1,!0,!0);Le.forEach((function(t){t!==Ne&&(G(t,l),o.appendChild(t))})),Pe=!0}if(!n)if(Pe||He(),Le.length>1){var u=De;i._showClone(e),i.options.animation&&!De&&u&&Ie.forEach((function(t){i.addAnimationState({target:t,rect:Ae}),t.fromRect=Ae,t.thisAnimationDuration=null}))}else i._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(Le.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){Ae=o({},e);var i=A(Ne,!0);Ae.top-=i.f,Ae.left-=i.e}},dragOverAnimationComplete:function(){Pe&&(Pe=!1,He())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,i=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,l=a||this.sortable;if(e){var u=this.options,c=r.children;if(!Be)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),M(Ne,u.selectedClass,!~Le.indexOf(Ne)),~Le.indexOf(Ne))Le.splice(Le.indexOf(Ne),1),Oe=null,rt({sortable:i,rootEl:n,name:"deselect",targetEl:Ne,originalEvt:e});else{if(Le.push(Ne),rt({sortable:i,rootEl:n,name:"select",targetEl:Ne,originalEvt:e}),e.shiftKey&&Oe&&i.el.contains(Oe)){var h,p,d=j(Oe),f=j(Ne);if(~d&&~f&&d!==f)for(f>d?(p=d,h=f):(p=f,h=d+1);p<h;p++)~Le.indexOf(c[p])||(M(c[p],u.selectedClass,!0),Le.push(c[p]),rt({sortable:i,rootEl:n,name:"select",targetEl:c[p],originalEvt:e}))}else Oe=Ne;Me=l}if(Be&&this.isMultiDrag){if((r[Y].options.sort||r!==n)&&Le.length>1){var m=I(Ne),g=j(Ne,":not(."+this.options.selectedClass+")");if(!Re&&u.animation&&(Ne.thisAnimationDuration=null),l.captureAnimationState(),!Re&&(u.animation&&(Ne.fromRect=m,Le.forEach((function(t){if(t.thisAnimationDuration=null,t!==Ne){var e=Pe?I(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),He(),Le.forEach((function(t){c[g]?r.insertBefore(t,c[g]):r.appendChild(t),g++})),s===j(Ne))){var v=!1;Le.forEach((function(t){t.sortableIndex===j(t)||(v=!0)})),v&&o("update")}Le.forEach((function(t){X(t)})),l.animateAll()}Me=l}(n===r||a&&"clone"!==a.lastPutMode)&&Ie.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Be=!1,Ie.length=0},destroyGlobal:function(){this._deselectMultiDrag(),k(document,"pointerup",this._deselectMultiDrag),k(document,"mouseup",this._deselectMultiDrag),k(document,"touchend",this._deselectMultiDrag),k(document,"keydown",this._checkKeyDown),k(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(("undefined"===typeof Be||!Be)&&Me===this.sortable&&(!t||!T(t.target,this.options.draggable,this.sortable.el,!1))&&(!t||0===t.button))while(Le.length){var e=Le[0];M(e,this.options.selectedClass,!1),Le.shift(),rt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[Y];e&&e.options.multiDrag&&!~Le.indexOf(t)&&(Me&&Me!==e&&(Me.multiDrag._deselectMultiDrag(),Me=e),M(t,e.options.selectedClass,!0),Le.push(t))},deselect:function(t){var e=t.parentNode[Y],n=Le.indexOf(t);e&&e.options.multiDrag&&~n&&(M(t,e.options.selectedClass,!1),Le.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Le.forEach((function(r){var i;e.push({multiDragElement:r,index:r.sortableIndex}),i=Pe&&r!==Ne?-1:Pe?j(r,":not(."+t.options.selectedClass+")"):j(r),n.push({multiDragElement:r,index:i})})),{items:u(Le),clones:[].concat(Ie),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),"ctrl"===t?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Fe(t,e){Le.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}function ze(t,e){Ie.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}function He(){Le.forEach((function(t){t!==Ne&&t.parentNode&&t.parentNode.removeChild(t)}))}Qt.mount(new _e),Qt.mount(Se,Ce),e["default"]=Qt},"4b17":function(t,e,n){var r=n("6428");function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}t.exports=i},"4cef":function(t,e){var n=/\s/;function r(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=r},"4d7c":function(t,e,n){var r,i;(function(){var n;(function(){"use strict";var t=[,,function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){while(" "===this.last())this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n},n.prototype.__ensure_cache=function(t){while(t>=this.__cache.length)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){var e=this.__lines.length;while(t<e)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){t=void 0!==t&&t,this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty())this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){var r=this.__lines.length-2;while(r>=0){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},,,,function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t),t)n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t){var r=e.replace(/-/g,"_");n[r]=t[e]}return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=void 0===n?!!e:!!n;return r},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},,function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t),r&&(i+=r[0])),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"===typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},,,,,function(t){function e(t,e){t="string"===typeof t?t:t.source,e="string"===typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;var n=this.__directive_pattern.exec(t);while(n)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},,function(t,e,n){var r=n(16).Beautifier,i=n(17).Options;function o(t,e){var n=new r(t,e);return n.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(17).Options,i=n(2).Output,o=n(8).InputScanner,s=n(13).Directives,a=new s(/\/\*/,/\*\//),l=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,c=/\s/,h=/(?:\s|\n)+/g,p=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(t,e){this._source_text=t||"",this._options=new r(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}f.prototype.eatString=function(t){var e="";this._ch=this._input.next();while(this._ch){if(e+=this._ch,"\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return e},f.prototype.eatWhitespace=function(t){var e=c.test(this._input.peek()),n=0;while(c.test(this._input.peek()))this._ch=this._input.next(),t&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e},f.prototype.foundNestedPseudoClass=function(){var t=0,e=1,n=this._input.peek(e);while(n){if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1;e++,n=this._input.peek(e)}return!1},f.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},f.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===e&&(e="\n",t&&l.test(t||"")&&(e=t.match(l)[0])),t=t.replace(u,"\n");var n=t.match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new o(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;var r,s,f,m=0,g=!1,v=!1,_=!1,y=!1,b=!1,w=!1,x=this._ch,k=!1;while(1){if(r=this._input.read(h),s=""!==r,f=x,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),x=this._ch,!this._ch)break;if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var C=this._input.read(p),S=a.get_directives(C);S&&"start"===S.ignore&&(C+=a.readIgnored(this._input)),this.print_string(C),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if("@"===this._ch||"$"===this._ch)if(this.preserveSingleSpace(s),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s$/,""),this.print_string(T),this._output.space_before_token=!0),T=T.replace(/\s$/,""),"extend"===T?y=!0:"import"===T&&(b=!0),T in this.NESTED_AT_RULE?(this._nestedLevel+=1,T in this.CONDITIONAL_GROUP_RULE&&(_=!0)):g||0!==m||-1===T.indexOf(":")||(v=!0,this.indent())}else if("#"===this._ch&&"{"===this._input.peek())this.preserveSingleSpace(s),this.print_string(this._ch+this.eatString("}"));else if("{"===this._ch)v&&(v=!1,this.outdent()),_?(_=!1,g=this._indentLevel>=this._nestedLevel):g=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&g&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):("("===f?this._output.space_before_token=!1:","!==f&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if("}"===this._ch)this.outdent(),this._output.add_new_line(),"{"===f&&this._output.trim(!0),b=!1,y=!1,v&&(this.outdent(),v=!1),this.print_string(this._ch),g=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0),")"===this._input.peek()&&(this._output.trim(!0),"expand"===this._options.brace_style&&this._output.add_new_line(!0));else if(":"===this._ch){for(var E=0;E<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;E++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[E])){k=!0;break}!g&&!_||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||y||0!==m?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),v||(v=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent()))}else if('"'===this._ch||"'"===this._ch){var O='"'===f||"'"===f;this.preserveSingleSpace(O||s),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(";"===this._ch)k=!1,0===m?(v&&(this.outdent(),v=!1),y=!1,b=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if("("===this._ch)if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),m++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),m&&(m--,this.outdent()));else{var M=!1;this._input.lookBack("with")&&(M=!0),this.preserveSingleSpace(s||M),this.print_string(this._ch),v&&"$"===f&&this._options.selector_separator_newline?(this._output.add_new_line(),w=!0):(this.eatWhitespace(),m++,this.indent())}else if(")"===this._ch)m&&(m--,this.outdent()),w&&";"===this._input.peek()&&this._options.selector_separator_newline&&(w=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(","===this._ch)this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||v&&!w||0!==m||b||y?this._output.space_before_token=!0:this._output.add_new_line();else if(">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||v||0!==m)if("]"===this._ch)this.print_string(this._ch);else if("["===this._ch)this.preserveSingleSpace(s),this.print_string(this._ch);else if("="===this._ch)this.eatWhitespace(),this.print_string("="),c.test(this._ch)&&(this._ch="");else if("!"!==this._ch||this._input.lookBack("\\")){var N='"'===f||"'"===f;this.preserveSingleSpace(N||s),this.print_string(this._ch),!this._output.just_added_newline()&&"\n"===this._input.peek()&&k&&this._output.add_new_line()}else this._output.space_before_token=!0,this.print_string(this._ch);else this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&c.test(this._ch)&&(this._ch=""))}var A=this._output.get_code(e);return A},t.exports.Beautifier=f},function(t,e,n){var r=n(6).Options;function i(t){r.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<n.length;i++)"expand"!==n[i]?this.brace_style="collapse":this.brace_style=n[i]}i.prototype=new r,t.exports.Options=i}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}var i=r(15);n=i})();var o=n;r=[],i=function(){return{css_beautify:o}}.apply(e,r),void 0===i||(t.exports=i)})()},"53fe":function(t,e,n){var r,i;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */(function(o){"use strict";r=o,i="function"===typeof r?r.call(e,n,e,t):r,void 0===i||(t.exports=i)})((function(){"use strict";if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,r,i,o,s,a,l,u,c,h,p,d,f,m,g,v,_,y,b,w,x,k,C,S,T=[],E=!1,O=!1,M=!1,N=[],A=!1,D=!1,L=[],I=/\s+/g,R="Sortable"+(new Date).getTime(),P=window,B=P.document,j=P.parseInt,F=P.setTimeout,z=P.jQuery||P.Zepto,H=P.Polymer,$={capture:!1,passive:!1},W=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),V=!!navigator.userAgent.match(/Edge/i),U=!!navigator.userAgent.match(/firefox/i),q=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),K=!!navigator.userAgent.match(/iP(ad|od|hone)/i),G=K,X=V||W?"cssFloat":"float",Y="draggable"in B.createElement("div"),J=function(){if(W)return!1;var t=B.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),Q=!1,Z=!1,tt=Math.abs,et=Math.min,nt=Math.max,rt=[],it=function(t,e){var n=Ot(t),r=j(n.width)-j(n.paddingLeft)-j(n.paddingRight)-j(n.borderLeftWidth)-j(n.borderRightWidth),i=Rt(t,0,e),o=Rt(t,1,e),s=i&&Ot(i),a=o&&Ot(o),l=s&&j(s.marginLeft)+j(s.marginRight)+Yt(i).width,u=a&&j(a.marginLeft)+j(a.marginRight)+Yt(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==s.float){var c="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[X]||o&&"none"===n[X]&&l+u>r)?"vertical":"horizontal"},ot=function(t,e){for(var n=0;n<N.length;n++)if(!Pt(N[n])){var r=Yt(N[n]),i=N[n][R].options.emptyInsertThreshold,o=t>=r.left-i&&t<=r.right+i,s=e>=r.top-i&&e<=r.bottom+i;if(o&&s)return N[n]}},st=function(t,e,n,r,i){var o=Yt(n),s="vertical"===r?o.left:o.top,a="vertical"===r?o.right:o.bottom,l="vertical"===r?t:e;return s<l&&l<a},at=function(e,n,r){var i=e===t&&S||Yt(e),o=n===t&&S||Yt(n),s="vertical"===r?i.left:i.top,a="vertical"===r?i.right:i.bottom,l="vertical"===r?i.width:i.height,u="vertical"===r?o.left:o.top,c="vertical"===r?o.right:o.bottom,h="vertical"===r?o.width:o.height;return s===u||a===c||s+l/2===u+h/2},lt=function(t,e){if(!t||!t.getBoundingClientRect)return ut();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Ot(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n||!n.getBoundingClientRect||n===B.body)return ut();if(r||e)return n;r=!0}}}while(n=n.parentNode);return ut()},ut=function(){return W?B.documentElement:B.scrollingElement},ct=function(t,e,n){t.scrollLeft+=e,t.scrollTop+=n},ht=Wt((function(t,e,n,r){if(e.scroll){var i=n?n[R]:window,o=e.scrollSensitivity,s=e.scrollSpeed,c=t.clientX,h=t.clientY,p=ut(),d=!1;l!==n&&(pt(),a=e.scroll,u=e.scrollFn,!0===a&&(a=lt(n,!0),l=a));var f=0,m=a;do{var g,v,y,b,w,x,k,C,S,O=m,M=Yt(O),N=M.top,A=M.bottom,D=M.left,L=M.right,I=M.width,P=M.height;if(g=O.scrollWidth,v=O.scrollHeight,y=Ot(O),C=O.scrollLeft,S=O.scrollTop,O===p?(x=I<g&&("auto"===y.overflowX||"scroll"===y.overflowX||"visible"===y.overflowX),k=P<v&&("auto"===y.overflowY||"scroll"===y.overflowY||"visible"===y.overflowY)):(x=I<g&&("auto"===y.overflowX||"scroll"===y.overflowX),k=P<v&&("auto"===y.overflowY||"scroll"===y.overflowY)),b=x&&(tt(L-c)<=o&&C+I<g)-(tt(D-c)<=o&&!!C),w=k&&(tt(A-h)<=o&&S+P<v)-(tt(N-h)<=o&&!!S),!T[f])for(var B=0;B<=f;B++)T[B]||(T[B]={});T[f].vx==b&&T[f].vy==w&&T[f].el===O||(T[f].el=O,T[f].vx=b,T[f].vy=w,clearInterval(T[f].pid),!O||0==b&&0==w||(d=!0,T[f].pid=setInterval(function(){r&&0===this.layer&&(wt.active._emulateDragOver(!0),wt.active._onTouchMove(_,!0));var e=T[this.layer].vy?T[this.layer].vy*s:0,n=T[this.layer].vx?T[this.layer].vx*s:0;"function"===typeof u&&"continue"!==u.call(i,n,e,t,_,T[this.layer].el)||ct(T[this.layer].el,n,e)}.bind({layer:f}),24))),f++}while(e.bubbleScroll&&m!==p&&(m=lt(m,!1)));E=d}}),30),pt=function(){T.forEach((function(t){clearInterval(t.pid)})),T=[]},dt=function(t){function e(t,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},r=t.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},ft=function(e){t&&t.parentNode&&t.parentNode[R]&&t.parentNode[R]._computeIsAligned(e)},mt=function(t,e){var n=e;while(!n[R])n=n.parentNode;return t===n},gt=function(t,e,n){var r=t.parentNode;while(r&&!r[R])r=r.parentNode;r&&r[R][n](Ut(e,{artificialBubble:!0}))},vt=function(){!J&&n&&Ot(n,"display","none")},_t=function(){!J&&n&&Ot(n,"display","")};B.addEventListener("click",(function(t){if(M)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),M=!1,!1}),!0);var yt,bt=function(e){if(e=e.touches?e.touches[0]:e,t){var n=ot(e.clientX,e.clientY);n&&n[R]._onDragOver({clientX:e.clientX,clientY:e.clientY,target:n,rootEl:n})}};function wt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Ut({},e),t[R]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return it(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:j(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==wt.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var r in n)!(r in e)&&(e[r]=n[r]);for(var i in dt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Y,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?St(t,"pointerdown",this._onTapStart):(St(t,"mousedown",this._onTapStart),St(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(St(t,"dragover",this),St(t,"dragenter",this)),N.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function xt(t,e,n,r){if(t){n=n||B;do{if(null!=e&&(">"===e[0]&&t.parentNode===n&&$t(t,e.substring(1))||$t(t,e))||r&&t===n)return t;if(t===n)break}while(t=kt(t))}return null}function kt(t){return t.host&&t!==B&&t.host.nodeType?t.host:t.parentNode}function Ct(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function St(t,e,n){t.addEventListener(e,n,$)}function Tt(t,e,n){t.removeEventListener(e,n,$)}function Et(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(I," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(I," ")}}function Ot(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"===typeof n?"":"px")}}function Mt(t){var e="";do{var n=Ot(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function Nt(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function At(t,e,n,i,o,s,a,l,u){t=t||e[R];var c,h=t.options,p="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||W||V?(c=B.createEvent("Event"),c.initEvent(n,!0,!0)):c=new CustomEvent(n,{bubbles:!0,cancelable:!0}),c.to=o||e,c.from=s||e,c.item=i||e,c.clone=r,c.oldIndex=a,c.newIndex=l,c.originalEvent=u,c.pullMode=d?d.lastPutMode:void 0,e&&e.dispatchEvent(c),h[p]&&h[p].call(t,c)}function Dt(t,e,n,r,i,o,s,a){var l,u,c=t[R],h=c.options.onMove;return!window.CustomEvent||W||V?(l=B.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||Yt(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(u=h.call(c,l,s)),u}function Lt(t){t.draggable=!1}function It(){Q=!1}function Rt(e,r,i){var o=0,s=0,a=e.children;while(s<a.length){if("none"!==a[s].style.display&&a[s]!==n&&a[s]!==t&&xt(a[s],i.draggable,e,!1)){if(o===r)return a[s];o++}s++}return null}function Pt(t){var e=t.lastElementChild;while(e&&(e===n||"none"===e.style.display))e=e.previousElementSibling;return e||null}function Bt(t,e,n){var r=Yt(Pt(n)),i="vertical"===e?t.clientY:t.clientX,o="vertical"===e?t.clientX:t.clientY,s="vertical"===e?r.bottom:r.right,a="vertical"===e?r.left:r.top,l="vertical"===e?r.right:r.bottom,u=10;return"vertical"===e?o>l+u||o<=l&&i>s&&o>=a:i>s&&o>a||i<=s&&o>l+u}function jt(e,n,r,i,o,s,a){var l=Yt(n),u="vertical"===r?e.clientY:e.clientX,c="vertical"===r?l.height:l.width,h="vertical"===r?l.top:l.left,p="vertical"===r?l.bottom:l.right,d=Yt(t),f=!1;if(!s)if(a&&k<c*i)if(!A&&(1===w?u>h+c*o/2:u<p-c*o/2)&&(A=!0),A)f=!0;else{"vertical"===r?d.top:d.left,"vertical"===r?d.bottom:d.right;if(1===w?u<h+k:u>p-k)return-1*w}else if(u>h+c*(1-i)/2&&u<p-c*(1-i)/2)return Ft(n);return f=f||s,f&&(u<h+c*o/2||u>p-c*o/2)?u>h+c/2?1:-1:0}function Ft(e){var n=Ht(t),r=Ht(e);return n<r?1:-1}function zt(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;while(n--)r+=e.charCodeAt(n);return r.toString(36)}function Ht(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t&&(t=t.previousElementSibling))"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==r&&n++;return n}function $t(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}function Wt(t,e){return function(){if(!yt){var n=arguments,r=this;yt=F((function(){1===n.length?t.call(r,n[0]):t.apply(r,n),yt=void 0}),e)}}}function Vt(){clearTimeout(yt),yt=void 0}function Ut(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function qt(t){return H&&H.dom?H.dom(t).cloneNode(!0):z?z(t).clone(!0)[0]:t.cloneNode(!0)}function Kt(t){rt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var r=e[n];r.checked&&rt.push(r)}}function Gt(t){return F(t,0)}function Xt(t){return clearTimeout(t)}function Yt(t,e,n,r){if(t.getBoundingClientRect||t===P){var i,o,s,a,l,u,c;if(t!==P&&t!==ut()?(i=t.getBoundingClientRect(),o=i.top,s=i.left,a=i.bottom,l=i.right,u=i.height,c=i.width):(o=0,s=0,a=window.innerHeight,l=window.innerWidth,u=window.innerHeight,c=window.innerWidth),r&&t!==P&&(n=n||t.parentNode,!W))do{if(n&&n.getBoundingClientRect&&"none"!==Ot(n,"transform")){var h=n.getBoundingClientRect();o-=h.top+j(Ot(n,"border-top-width")),s-=h.left+j(Ot(n,"border-left-width")),a=o+i.height,l=s+i.width;break}}while(n=n.parentNode);if(e&&t!==P){var p=Mt(n||t),d=p&&p.a,f=p&&p.d;p&&(o/=f,s/=d,c/=d,u/=f,a=o+u,l=s+c)}return{top:o,left:s,bottom:a,right:l,width:c,height:u}}}function Jt(t,e){var n=lt(t,!0),r=Yt(t)[e];while(n){var i,o=Yt(n)[e];if(i="top"===e||"left"===e?r>=o:r<=o,!i)return n;if(n===ut())break;n=lt(n,!1)}return!1}function Qt(t){var e=0,n=0,r=ut();if(t)do{var i=Mt(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}return St(B,"dragover",bt),St(B,"mousemove",bt),St(B,"touchmove",bt),wt.prototype={constructor:wt,_computeIsAligned:function(e){var r;if(n&&!J?(vt(),r=B.elementFromPoint(e.clientX,e.clientY),_t()):r=e.target,r=xt(r,this.options.draggable,this.el,!1),!Z&&t&&t.parentNode===this.el){for(var i=this.el.children,o=0;o<i.length;o++)xt(i[o],this.options.draggable,this.el,!1)&&i[o]!==r&&(i[o].sortableMouseAligned=st(e.clientX,e.clientY,i[o],this._getDirection(e,null),this.options));xt(r,this.options.draggable,this.el,!0)||(b=null),Z=!0,F((function(){Z=!1}),30)}},_getDirection:function(e,n){return"function"===typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,r=this,i=this.el,o=this.options,a=o.preventOnFilter,l=e.type,u=e.touches&&e.touches[0],c=(u||e).target,h=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,p=o.filter;if(Kt(i),(!W||e.artificialBubble||mt(i,c))&&!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||o.disabled)&&!h.isContentEditable)if(c=xt(c,o.draggable,i,!1),c){if(s!==c){if(n=Ht(c,o.draggable),"function"===typeof p){if(p.call(this,e,c,this))return At(r,h,"filter",c,i,i,n),void(a&&e.cancelable&&e.preventDefault())}else if(p&&(p=p.split(",").some((function(t){if(t=xt(h,t.trim(),i,!1),t)return At(r,t,"filter",c,i,i,n),!0})),p))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!xt(h,o.handle,i,!1)||this._prepareDragStart(e,u,c,n)}}else W&&gt(i,e,"_onTapStart")}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var r=e.clientX,i=e.clientY,o=B.elementFromPoint(r,i),s=this;if(n||V||W||q){ht(e,s.options,o,n);var a=lt(o,!0);!E||f&&r===m&&i===g||(f&&clearInterval(f),f=setInterval((function(){if(t){var o=lt(B.elementFromPoint(r,i),!0);o!==a&&(a=o,pt(),ht(e,s.options,a,n))}}),10),m=r,g=i)}else{if(!s.options.bubbleScroll||lt(o,!0)===ut())return void pt();ht(e,s.options,lt(o,!1),!1)}}},_prepareDragStart:function(n,r,a,l){var u,h=this,d=h.el,f=h.options,m=d.ownerDocument;a&&!t&&a.parentNode===d&&(i=d,t=a,e=t.parentNode,o=t.nextSibling,s=a,p=f.group,c=l,v={target:t,clientX:(r||n).clientX,clientY:(r||n).clientY},this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",u=function(){h._disableDelayedDragEvents(),!U&&h.nativeDraggable&&(t.draggable=!0),h._triggerDragStart(n,r),At(h,i,"choose",t,i,i,c),Et(t,f.chosenClass,!0)},f.ignore.split(",").forEach((function(e){Nt(t,e.trim(),Lt)})),f.supportPointer?St(m,"pointerup",h._onDrop):(St(m,"mouseup",h._onDrop),St(m,"touchend",h._onDrop),St(m,"touchcancel",h._onDrop)),U&&this.nativeDraggable&&(this.options.touchStartThreshold=4,t.draggable=!0),!f.delay||this.nativeDraggable&&(V||W)?u():(St(m,"mouseup",h._disableDelayedDrag),St(m,"touchend",h._disableDelayedDrag),St(m,"touchcancel",h._disableDelayedDrag),St(m,"mousemove",h._delayedDragTouchMoveHandler),St(m,"touchmove",h._delayedDragTouchMoveHandler),f.supportPointer&&St(m,"pointermove",h._delayedDragTouchMoveHandler),h._dragStartTimer=F(u,f.delay)))},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;nt(tt(e.clientX-this._lastX),tt(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){t&&Lt(t),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Tt(t,"mouseup",this._disableDelayedDrag),Tt(t,"touchend",this._disableDelayedDrag),Tt(t,"touchcancel",this._disableDelayedDrag),Tt(t,"mousemove",this._delayedDragTouchMoveHandler),Tt(t,"touchmove",this._delayedDragTouchMoveHandler),Tt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?St(B,"pointermove",this._onTouchMove):St(B,n?"touchmove":"mousemove",this._onTouchMove):(St(t,"dragend",this),St(i,"dragstart",this._onDragStart));try{B.selection?Gt((function(){B.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,n){if(O=!1,i&&t){this.nativeDraggable&&(St(B,"dragover",this._handleAutoScroll),St(B,"dragover",ft));var r=this.options;!e&&Et(t,r.dragClass,!1),Et(t,r.ghostClass,!0),Ot(t,"transform",""),wt.active=this,e&&this._appendGhost(),At(this,i,"start",t,i,i,c,void 0,n)}else this._nulling()},_emulateDragOver:function(e){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY&&!e)return;this._lastX=_.clientX,this._lastY=_.clientY,vt();var n=B.elementFromPoint(_.clientX,_.clientY),r=n;while(n&&n.shadowRoot)n=n.shadowRoot.elementFromPoint(_.clientX,_.clientY),r=n;if(r)do{var i;if(r[R])if(i=r[R]._onDragOver({clientX:_.clientX,clientY:_.clientY,target:n,rootEl:r}),i&&!this.options.dragoverBubble)break;n=r}while(r=r.parentNode);t.parentNode[R]._computeIsAligned(_),_t()}},_onTouchMove:function(t,e){if(v){var r=this.options,i=r.fallbackTolerance,o=r.fallbackOffset,s=t.touches?t.touches[0]:t,a=n&&Mt(n),l=n&&a&&a.a,u=n&&a&&a.d,c=G&&C&&Qt(C),h=(s.clientX-v.clientX+o.x)/(l||1)+(c?c[0]-L[0]:0)/(l||1),p=(s.clientY-v.clientY+o.y)/(u||1)+(c?c[1]-L[1]:0)/(u||1),d=t.touches?"translate3d("+h+"px,"+p+"px,0)":"translate("+h+"px,"+p+"px)";if(!wt.active&&!O){if(i&&et(tt(s.clientX-this._lastX),tt(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}!e&&this._handleAutoScroll(s,!0),y=!0,_=s,Ot(n,"webkitTransform",d),Ot(n,"mozTransform",d),Ot(n,"msTransform",d),Ot(n,"transform",d),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=this.options.fallbackOnBody?B.body:i,r=Yt(t,!0,e,!G),o=(Ot(t),this.options);if(G){C=e;while("static"===Ot(C,"position")&&"none"===Ot(C,"transform")&&C!==B)C=C.parentNode;if(C!==B){var s=Yt(C,!0);r.top-=s.top,r.left-=s.left}C!==B.body&&C!==B.documentElement?(C===B&&(C=ut()),r.top+=C.scrollTop,r.left+=C.scrollLeft):C=ut(),L=Qt(C)}n=t.cloneNode(!0),Et(n,o.ghostClass,!1),Et(n,o.fallbackClass,!0),Et(n,o.dragClass,!0),Ot(n,"box-sizing","border-box"),Ot(n,"margin",0),Ot(n,"top",r.top),Ot(n,"left",r.left),Ot(n,"width",r.width),Ot(n,"height",r.height),Ot(n,"opacity","0.8"),Ot(n,"position",G?"absolute":"fixed"),Ot(n,"zIndex","100000"),Ot(n,"pointerEvents","none"),e.appendChild(n)}},_onDragStart:function(e,n){var o=this,s=e.dataTransfer,a=o.options;r=qt(t),r.draggable=!1,r.style["will-change"]="",this._hideClone(),Et(r,o.options.chosenClass,!1),o._cloneId=Gt((function(){o.options.removeCloneOnHide||i.insertBefore(r,t),At(o,i,"clone",t)})),!n&&Et(t,a.dragClass,!0),n?(M=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Tt(B,"mouseup",o._onDrop),Tt(B,"touchend",o._onDrop),Tt(B,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(o,s,t)),St(B,"drop",o),Ot(t,"transform","translateZ(0)")),O=!0,o._dragStartId=Gt(o._dragStarted.bind(o,n,e)),St(B,"selectstart",o),q&&Ot(B.body,"user-select","none")},_onDragOver:function(n){var r,s,a,l=this.el,u=n.target,h=this.options,f=h.group,m=wt.active,g=p===f,v=h.sort,_=this;if(!Q&&(!W||n.rootEl||n.artificialBubble||mt(l,u))){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),y=!0,u=xt(u,h.draggable,l,!0),xt(n.target,null,t,!0)||u.animated)return V(!1);if(u!==t&&(M=!1),m&&!h.disabled&&(g?v||(a=!i.contains(t)):d===this||(this.lastPutMode=p.checkPull(this,m,t,n))&&f.checkPut(this,m,t,n))){var C=this._getDirection(n,u);if(r=Yt(t),a)return this._hideClone(),e=i,o?i.insertBefore(t,o):i.appendChild(t),V(!0);var T=Pt(l);if(!T||Bt(n,C,l)&&!T.animated){if(T&&l===n.target&&(u=T),u&&(s=Yt(u)),g?m._hideClone():m._showClone(this),!1!==Dt(i,l,t,r,u,s,n,!!u))return l.appendChild(t),e=l,S=null,U(),V(!0)}else if(u&&u!==t&&u.parentNode===l){var E,O=0,N=u.sortableMouseAligned,L=t.parentNode!==l,I="vertical"===C?"top":"left",P=Jt(u,"top")||Jt(t,"top"),j=P?P.scrollTop:void 0;if(b!==u&&(x=null,E=Yt(u)[I],A=!1),at(t,u,C)&&N||L||P||h.invertSwap||"insert"===x||"swap"===x?("swap"!==x&&(D=h.invertSwap||L),O=jt(n,u,C,h.swapThreshold,null==h.invertedSwapThreshold?h.swapThreshold:h.invertedSwapThreshold,D,b===u),x="swap"):(O=Ft(u),x="insert"),0===O)return V(!1);S=null,b=u,w=O,s=Yt(u);var z=u.nextElementSibling,H=!1;H=1===O;var $=Dt(i,l,t,r,u,s,n,H);if(!1!==$)return 1!==$&&-1!==$||(H=1===$),Q=!0,F(It,30),g?m._hideClone():m._showClone(this),H&&!z?l.appendChild(t):u.parentNode.insertBefore(t,H?z:u),P&&ct(P,0,j-P.scrollTop),e=t.parentNode,void 0===E||D||(k=tt(E-Yt(u)[I])),U(),V(!0)}if(l.contains(t))return V(!1)}return W&&!n.rootEl&&gt(l,n,"_onDragOver"),!1}function V(e){return e&&(g?m._hideClone():m._showClone(_),m&&(Et(t,d?d.options.ghostClass:m.options.ghostClass,!1),Et(t,h.ghostClass,!0)),d!==_&&_!==wt.active?d=_:_===wt.active&&(d=null),r&&_._animate(r,t),u&&s&&_._animate(s,u)),(u===t&&!t.animated||u===l&&!u.animated)&&(b=null),h.dragoverBubble||n.rootEl||u===B||(_._handleAutoScroll(n),t.parentNode[R]._computeIsAligned(n)),!h.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function U(){At(_,i,"change",u,l,i,c,Ht(t,h.draggable),n)}},_animate:function(e,n){var r=this.options.animation;if(r){var i=Yt(n);if(n===t&&(S=i),1===e.nodeType&&(e=Yt(e)),e.left+e.width/2!==i.left+i.width/2||e.top+e.height/2!==i.top+i.height/2){var o=Mt(this.el),s=o&&o.a,a=o&&o.d;Ot(n,"transition","none"),Ot(n,"transform","translate3d("+(e.left-i.left)/(s||1)+"px,"+(e.top-i.top)/(a||1)+"px,0)"),n.offsetWidth,Ot(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Ot(n,"transform","translate3d(0,0,0)")}"number"===typeof n.animated&&clearTimeout(n.animated),n.animated=F((function(){Ot(n,"transition",""),Ot(n,"transform",""),n.animated=!1}),r)}},_offUpEvents:function(){var t=this.el.ownerDocument;Tt(B,"touchmove",this._onTouchMove),Tt(B,"pointermove",this._onTouchMove),Tt(t,"mouseup",this._onDrop),Tt(t,"touchend",this._onDrop),Tt(t,"pointerup",this._onDrop),Tt(t,"touchcancel",this._onDrop),Tt(B,"selectstart",this)},_onDrop:function(s){var a=this.el,l=this.options;O=!1,E=!1,D=!1,A=!1,clearInterval(this._loopId),clearInterval(f),pt(),Vt(),clearTimeout(this._dragStartTimer),Xt(this._cloneId),Xt(this._dragStartId),Tt(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(Tt(B,"drop",this),Tt(a,"dragstart",this._onDragStart),Tt(B,"dragover",this._handleAutoScroll),Tt(B,"dragover",ft)),q&&Ot(B.body,"user-select",""),this._offUpEvents(),s&&(y&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(i===e||d&&"clone"!==d.lastPutMode)&&r&&r.parentNode&&r.parentNode.removeChild(r),t&&(this.nativeDraggable&&Tt(t,"dragend",this),Lt(t),t.style["will-change"]="",Et(t,d?d.options.ghostClass:this.options.ghostClass,!1),Et(t,this.options.chosenClass,!1),At(this,i,"unchoose",t,e,i,c,null,s),i!==e?(h=Ht(t,l.draggable),h>=0&&(At(null,e,"add",t,e,i,c,h,s),At(this,i,"remove",t,e,i,c,h,s),At(null,e,"sort",t,e,i,c,h,s),At(this,i,"sort",t,e,i,c,h,s)),d&&d.save()):t.nextSibling!==o&&(h=Ht(t,l.draggable),h>=0&&(At(this,i,"update",t,e,i,c,h,s),At(this,i,"sort",t,e,i,c,h,s))),wt.active&&(null!=h&&-1!==h||(h=c),At(this,i,"end",t,e,i,c,h,s),this.save()))),this._nulling()},_nulling:function(){i=t=e=n=o=r=s=a=l=T.length=f=m=g=v=_=y=h=c=b=w=S=d=p=wt.active=null,rt.forEach((function(t){t.checked=!0})),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),Ct(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)t=n[r],xt(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||zt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var i=n.children[r];xt(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return xt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&dt(n)},destroy:function(){var t=this.el;t[R]=null,Tt(t,"mousedown",this._onTapStart),Tt(t,"touchstart",this._onTapStart),Tt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Tt(t,"dragover",this),Tt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),N.splice(N.indexOf(this.el),1),this.el=t=null},_hideClone:function(){r.cloneHidden||(Ot(r,"display","none"),r.cloneHidden=!0,r.parentNode&&this.options.removeCloneOnHide&&r.parentNode.removeChild(r))},_showClone:function(e){"clone"===e.lastPutMode?r.cloneHidden&&(i.contains(t)&&!this.options.group.revertClone?i.insertBefore(r,t):o?i.insertBefore(r,o):i.appendChild(r),this.options.group.revertClone&&this._animate(t,r),Ot(r,"display",""),r.cloneHidden=!1):this._hideClone()}},St(B,"touchmove",(function(t){(wt.active||O)&&t.cancelable&&t.preventDefault()})),wt.utils={on:St,off:Tt,css:Ot,find:Nt,is:function(t,e){return!!xt(t,e,t,!1)},extend:Ut,throttle:Wt,closest:xt,toggleClass:Et,clone:qt,index:Ht,nextTick:Gt,cancelNextTick:Xt,detectDirection:it,getChild:Rt},wt.create=function(t,e){return new wt(t,e)},wt.version="1.8.4",wt}))},"542c":function(t,e,n){},"56b3":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),u=l&&/Qt\/\d+\.\d+/.test(t),c=!o&&/Chrome\//.test(t),h=/Opera\//.test(t),p=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),f=/PhantomJS/.test(t),m=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),_=m||/Mac/.test(e),y=/\bCrOS\b/.test(t),b=/win/i.test(e),w=h&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,l=!0);var x=_&&(u||h&&(null==w||w<12.11)),k=n||s&&a>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var S,T=function(t,e){var n=t.className,r=C(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function E(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return E(t).appendChild(e)}function M(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function N(t,e,n,r){var i=M(t,e,n,r);return i.setAttribute("role","presentation"),i}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function D(){var t;try{t=document.activeElement}catch(e){t=document.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement)t=t.shadowRoot.activeElement;return t}function L(t,e){var n=t.className;C(e).test(n)||(t.className+=(n?" ":"")+e)}function I(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(e)&&(e+=" "+n[r]);return e}S=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var R=function(t){t.select()};function P(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function B(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function j(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=r||0,s=i||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}m?R=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(R=function(t){try{t.select()}catch(e){}});var F=function(){this.id=null};function z(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}F.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var H=30,$={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},V={origin:"*mouse"},U={origin:"+move"};function q(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var s=o-r;if(o==t.length||i+s>=e)return r+Math.min(s,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}}var K=[""];function G(t){while(K.length<=t)K.push(X(K)+" ");return K[t]}function X(t){return t[t.length-1]}function Y(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function J(t,e,n){var r=0,i=n(e);while(r<t.length&&n(t[r])<=i)r++;t.splice(r,0,e)}function Q(){}function Z(t,e){var n;return Object.create?n=Object.create(t):(Q.prototype=t,n=new Q),e&&B(e,n),n}var tt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function et(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||tt.test(t))}function nt(t,e){return e?!!(e.source.indexOf("\\w")>-1&&et(t))||e.test(t):et(t)}function rt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ot(t){return t.charCodeAt(0)>=768&&it.test(t)}function st(t,e,n){while((n<0?e>0:e<t.length)&&ot(t.charAt(e)))e+=n;return e}function at(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}function lt(t,e,r){var i=this;this.input=r,i.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=N("div",null,"CodeMirror-code"),i.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=M("div",null,"CodeMirror-cursors"),i.measure=M("div",null,"CodeMirror-measure"),i.lineMeasure=M("div",null,"CodeMirror-measure"),i.lineSpace=N("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=N("div",[i.lineSpace],"CodeMirror-lines");i.mover=M("div",[o],null,"position: relative"),i.sizer=M("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=M("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),i.gutters=M("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=M("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=M("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),s&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&v||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function ut(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");var n=t;while(!n.lines)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function ct(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i})),r}function ht(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function pt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function dt(t){if(null==t.parent)return null;for(var e=t.parent,n=z(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==e)break;n+=r.children[i].chunkSize()}return n+e.first}function ft(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],l=a.height;if(e<l)break;e-=l}return n+s}function mt(t,e){return e>=t.first&&e<t.first+t.size}function gt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function vt(t,e,n){if(void 0===n&&(n=null),!(this instanceof vt))return new vt(t,e,n);this.line=t,this.ch=e,this.sticky=n}function _t(t,e){return t.line-e.line||t.ch-e.ch}function yt(t,e){return t.sticky==e.sticky&&0==_t(t,e)}function bt(t){return vt(t.line,t.ch)}function wt(t,e){return _t(t,e)<0?e:t}function xt(t,e){return _t(t,e)<0?t:e}function kt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Ct(t,e){if(e.line<t.first)return vt(t.first,0);var n=t.first+t.size-1;return e.line>n?vt(n,ut(t,n).text.length):St(e,ut(t,e.line).text.length)}function St(t,e){var n=t.ch;return null==n||n>e?vt(t.line,e):n<0?vt(t.line,0):t}function Tt(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=Ct(t,e[r]);return n}var Et=!1,Ot=!1;function Mt(){Et=!0}function Nt(){Ot=!0}function At(t,e,n){this.marker=t,this.from=e,this.to=n}function Dt(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Lt(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function It(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Rt(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new At(s,o.from,l?null:o.to))}}return r}function Pt(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new At(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}function Bt(t,e){if(e.full)return null;var n=mt(t,e.from.line)&&ut(t,e.from.line).markedSpans,r=mt(t,e.to.line)&&ut(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,s=0==_t(e.from,e.to),a=Rt(n,i,s),l=Pt(r,o,s),u=1==e.text.length,c=X(e.text).length+(u?i:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var d=Dt(l,p.marker);d?u&&(p.to=null==d.to?null:d.to+c):p.to=i}}if(l)for(var f=0;f<l.length;++f){var m=l[f];if(null!=m.to&&(m.to+=c),null==m.from){var g=Dt(a,m.marker);g||(m.from=c,u&&(a||(a=[])).push(m))}else m.from+=c,u&&(a||(a=[])).push(m)}a&&(a=jt(a)),l&&l!=a&&(l=jt(l));var v=[a];if(!u){var _,y=e.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(_||(_=[])).push(new At(a[b].marker,null,null));for(var w=0;w<y;++w)v.push(_);v.push(l)}return v}function jt(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ft(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var u=i[l];if(!(_t(u.to,a.from)<0||_t(u.from,a.to)>0)){var c=[l,1],h=_t(u.from,a.from),p=_t(u.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&c.push({from:u.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&c.push({from:a.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function zt(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Ht(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function $t(t){return t.inclusiveLeft?-1:0}function Wt(t){return t.inclusiveRight?1:0}function Vt(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=_t(r.from,i.from)||$t(t)-$t(e);if(o)return-o;var s=_t(r.to,i.to)||Wt(t)-Wt(e);return s||e.id-t.id}function Ut(t,e){var n,r=Ot&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||Vt(n,i.marker)<0)&&(n=i.marker);return n}function qt(t){return Ut(t,!0)}function Kt(t){return Ut(t,!1)}function Gt(t,e){var n,r=Ot&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Vt(n,o.marker)<0)&&(n=o.marker)}return n}function Xt(t,e,n,r,i){var o=ut(t,e),s=Ot&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=_t(u.from,n)||$t(l.marker)-$t(i),h=_t(u.to,r)||Wt(l.marker)-Wt(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?_t(u.to,n)>=0:_t(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?_t(u.from,r)<=0:_t(u.from,r)<0)))return!0}}}function Yt(t){var e;while(e=qt(t))t=e.find(-1,!0).line;return t}function Jt(t){var e;while(e=Kt(t))t=e.find(1,!0).line;return t}function Qt(t){var e,n;while(e=Kt(t))t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function Zt(t,e){var n=ut(t,e),r=Yt(n);return n==r?e:dt(r)}function te(t,e){if(e>t.lastLine())return e;var n,r=ut(t,e);if(!ee(t,r))return e;while(n=Kt(r))r=n.find(1,!0).line;return dt(r)+1}function ee(t,e){var n=Ot&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ne(t,e,r))return!0}}function ne(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return ne(t,r.line,Dt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ne(t,e,i))return!0}function re(t){t=Yt(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function ie(t){if(0==t.height)return 0;var e,n=t.text.length,r=t;while(e=qt(r)){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}r=t;while(e=Kt(r)){var o=e.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function oe(t){var e=t.display,n=t.doc;e.maxLine=ut(n,n.first),e.maxLineLength=ie(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=ie(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}function se(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(r(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}var ae=null;function le(t,e,n){var r;ae=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:ae=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:ae=i)}return null!=r?r:ae}var ue=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?t.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?e.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;function l(t,e,n){this.level=t,this.from=e,this.to=n}return function(t,e){var u="ltr"==e?"L":"R";if(0==t.length||"ltr"==e&&!r.test(t))return!1;for(var c=t.length,h=[],p=0;p<c;++p)h.push(n(t.charCodeAt(p)));for(var d=0,f=u;d<c;++d){var m=h[d];"m"==m?h[d]=f:f=m}for(var g=0,v=u;g<c;++g){var _=h[g];"1"==_&&"r"==v?h[g]="n":o.test(_)&&(v=_,"r"==_&&(h[g]="R"))}for(var y=1,b=h[0];y<c-1;++y){var w=h[y];"+"==w&&"1"==b&&"1"==h[y+1]?h[y]="1":","!=w||b!=h[y+1]||"1"!=b&&"n"!=b||(h[y]=b),b=w}for(var x=0;x<c;++x){var k=h[x];if(","==k)h[x]="N";else if("%"==k){var C=void 0;for(C=x+1;C<c&&"%"==h[C];++C);for(var S=x&&"!"==h[x-1]||C<c&&"1"==h[C]?"1":"N",T=x;T<C;++T)h[T]=S;x=C-1}}for(var E=0,O=u;E<c;++E){var M=h[E];"L"==O&&"1"==M?h[E]="L":o.test(M)&&(O=M)}for(var N=0;N<c;++N)if(i.test(h[N])){var A=void 0;for(A=N+1;A<c&&i.test(h[A]);++A);for(var D="L"==(N?h[N-1]:u),L="L"==(A<c?h[A]:u),I=D==L?D?"L":"R":u,R=N;R<A;++R)h[R]=I;N=A-1}for(var P,B=[],j=0;j<c;)if(s.test(h[j])){var F=j;for(++j;j<c&&s.test(h[j]);++j);B.push(new l(0,F,j))}else{var z=j,H=B.length;for(++j;j<c&&"L"!=h[j];++j);for(var $=z;$<j;)if(a.test(h[$])){z<$&&B.splice(H,0,new l(1,z,$));var W=$;for(++$;$<j&&a.test(h[$]);++$);B.splice(H,0,new l(2,W,$)),z=$}else++$;z<j&&B.splice(H,0,new l(1,z,j))}return"ltr"==e&&(1==B[0].level&&(P=t.match(/^\s+/))&&(B[0].from=P[0].length,B.unshift(new l(0,0,P[0].length))),1==X(B).level&&(P=t.match(/\s+$/))&&(X(B).to-=P[0].length,B.push(new l(0,c-P[0].length,c)))),"rtl"==e?B.reverse():B}}();function ce(t,e){var n=t.order;return null==n&&(n=t.order=ue(t.text,e)),n}var he=[],pe=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||he).concat(n)}};function de(t,e){return t._handlers&&t._handlers[e]||he}function fe(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=z(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function me(t,e){var n=de(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ge(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),me(t,n||e.type,t,e),xe(e)||e.codemirrorIgnore}function ve(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==z(n,e[r])&&n.push(e[r])}function _e(t,e){return de(t,e).length>0}function ye(t){t.prototype.on=function(t,e){pe(this,t,e)},t.prototype.off=function(t,e){fe(this,t,e)}}function be(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function we(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function xe(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function ke(t){be(t),we(t)}function Ce(t){return t.target||t.srcElement}function Se(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),_&&t.ctrlKey&&1==e&&(e=3),e}var Te,Ee,Oe=function(){if(s&&a<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t}();function Me(t){if(null==Te){var e=M("span","​");O(t,M("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Te=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=Te?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ne(t){if(null!=Ee)return Ee;var e=O(t,document.createTextNode("AخA")),n=S(e,0,1).getBoundingClientRect(),r=S(e,1,2).getBoundingClientRect();return E(t),!(!n||n.left==n.right)&&(Ee=r.right-n.right<3)}var Ae=3!="\n\nb".split(/\n/).length?function(t){var e=0,n=[],r=t.length;while(e<=r){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},De=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Le=function(){var t=M("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ie=null;function Re(t){if(null!=Ie)return Ie;var e=O(t,M("span","x")),n=e.getBoundingClientRect(),r=S(e,0,1).getBoundingClientRect();return Ie=Math.abs(n.left-r.left)>1}var Pe={},Be={};function je(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Pe[t]=e}function Fe(t,e){Be[t]=e}function ze(t){if("string"==typeof t&&Be.hasOwnProperty(t))t=Be[t];else if(t&&"string"==typeof t.name&&Be.hasOwnProperty(t.name)){var e=Be[t.name];"string"==typeof e&&(e={name:e}),t=Z(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return ze("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return ze("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function He(t,e){e=ze(e);var n=Pe[e.name];if(!n)return He(t,"text/plain");var r=n(t,e);if($e.hasOwnProperty(e.name)){var i=$e[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)r[s]=e.modeProps[s];return r}var $e={};function We(t,e){var n=$e.hasOwnProperty(t)?$e[t]:$e[t]={};B(e,n)}function Ve(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ue(t,e){var n;while(t.innerMode){if(n=t.innerMode(e),!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}}function qe(t,e,n){return!t.startState||t.startState(e,n)}var Ke=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(t){var e,n=this.string.charAt(this.pos);if(e="string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)),e)return++this.pos,n},Ke.prototype.eatWhile=function(t){var e=this.pos;while(this.eat(t));return this.pos>e},Ke.prototype.eatSpace=function(){var t=this,e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++t.pos;return this.pos>e},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ke.prototype.backUp=function(t){this.pos-=t},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=j(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return j(this.string,null,this.tabSize)-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==e&&(this.pos+=t.length),!0},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ke.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ke.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var Ge=function(t,e){this.state=t,this.lookAhead=e},Xe=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function Ye(t,e,n,r){var i=[t.state.modeGen],o={};sn(t,e.text,t.doc.mode,n,(function(t,e){return i.push(t,e)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=t.state.overlays[r],l=1,u=0;n.state=!0,sn(t,e.text,a.mode,n,(function(t,e){var n=l;while(u<t){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(a.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Je(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=Qe(t,dt(e)),i=e.text.length>t.options.maxHighlightLength&&Ve(t.doc.mode,r.state),o=Ye(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function Qe(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new Xe(r,!0,e);var o=an(t,e,n),s=o>r.first&&ut(r,o-1).stateAfter,a=s?Xe.fromSaved(r,s,o):new Xe(r,qe(r.mode),o);return r.iter(o,e,(function(n){Ze(t,n.text,a);var r=a.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function Ze(t,e,n,r){var i=t.doc.mode,o=new Ke(e,t.options.tabSize,n);o.start=o.pos=r||0,""==e&&tn(i,n.state);while(!o.eol())en(i,o,n.state),o.start=o.pos}function tn(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ue(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function en(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ue(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}Xe.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},Xe.prototype.baseToken=function(t){var e=this;if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=t)e.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},Xe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Xe.fromSaved=function(t,e,n){return e instanceof Ge?new Xe(t,Ve(t.mode,e.state),n,e.lookAhead):new Xe(t,Ve(t.mode,e),n)},Xe.prototype.save=function(t){var e=!1!==t?Ve(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ge(e,this.maxLookAhead):e};var nn=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function rn(t,e,n,r){var i,o=t.doc,s=o.mode;e=Ct(o,e);var a,l=ut(o,e.line),u=Qe(t,e.line,n),c=new Ke(l.text,t.options.tabSize,u);r&&(a=[]);while((r||c.pos<e.ch)&&!c.eol())c.start=c.pos,i=en(s,c,u.state),r&&a.push(new nn(c,i,Ve(o.mode,u.state)));return r?a:new nn(c,i,u.state)}function on(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function sn(t,e,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,u=0,c=null,h=new Ke(e,t.options.tabSize,r),p=t.options.addModeClass&&[null];""==e&&on(tn(n,r.state),o);while(!h.eol()){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Ze(t,e,r,h.pos),h.pos=e.length,l=null):l=on(en(n,h,r.state,p),o),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||c!=l){while(u<h.start)u=Math.min(h.start,u+5e3),i(u,c);c=l}h.start=h.pos}while(u<h.pos){var f=Math.min(h.pos,u+5e3);i(f,c),u=f}}function an(t,e,n){for(var r,i,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=ut(o,a-1),u=l.stateAfter;if(u&&(!n||a+(u instanceof Ge?u.lookAhead:0)<=o.modeFrontier))return a;var c=j(l.text,null,t.options.tabSize);(null==i||r>c)&&(i=a-1,r=c)}return i}function ln(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=ut(t,r).stateAfter;if(i&&(!(i instanceof Ge)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}var un=function(t,e,n){this.text=t,Ht(this,e),this.height=n?n(this):1};function cn(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),zt(t),Ht(t,n);var i=r?r(t):1;i!=t.height&&pt(t,i)}function hn(t){t.parent=null,zt(t)}un.prototype.lineNo=function(){return dt(this)},ye(un);var pn={},dn={};function fn(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?dn:pn;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function mn(t,e){var n=N("span",null,null,l?"padding-right: .1px":null),r={pre:N("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,s=void 0;r.pos=0,r.addToken=vn,Ne(t.display.measure)&&(s=ce(o,t.doc.direction))&&(r.addToken=yn(r.addToken,s)),r.map=[];var a=e!=t.display.externalMeasured&&dt(o);wn(o,r,Je(t,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Me(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function gn(t){var e=M("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function vn(t,e,n,r,i,o,l){if(e){var u,c=t.splitSpaces?_n(e,t.trailingSpace):e,h=t.cm.state.specialChars,p=!1;if(h.test(e)){u=document.createDocumentFragment();var d=0;while(1){h.lastIndex=d;var f=h.exec(e),m=f?f.index-d:e.length-d;if(m){var g=document.createTextNode(c.slice(d,d+m));s&&a<9?u.appendChild(M("span",[g])):u.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!f)break;d+=m+1;var v=void 0;if("\t"==f[0]){var _=t.cm.options.tabSize,y=_-t.col%_;v=u.appendChild(M("span",G(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=y}else"\r"==f[0]||"\n"==f[0]?(v=u.appendChild(M("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",f[0]),t.col+=1):(v=t.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),s&&a<9?u.appendChild(M("span",[v])):u.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,u=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,u),s&&a<9&&(p=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||r||i||p||o){var b=n||"";r&&(b+=r),i&&(b+=i);var w=M("span",[u],b,o);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,l[x]);return t.content.appendChild(w)}t.content.appendChild(u)}}function _n(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function yn(t,e){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var h=void 0,p=0;p<e.length;p++)if(h=e[p],h.to>u&&h.from<=u)break;if(h.to>=c)return t(n,r,i,o,s,a,l);t(n,r.slice(0,h.to-u),i,o,null,a,l),o=null,r=r.slice(h.to-u),u=h.to}}}function bn(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function wn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var s,a,l,u,c,h,p,d=i.length,f=0,m=1,g="",v=0;;){if(v==f){l=u=c=a="",p=null,h=null,v=1/0;for(var _=[],y=void 0,b=0;b<r.length;++b){var w=r[b],x=w.marker;if("bookmark"==x.type&&w.from==f&&x.widgetNode)_.push(x);else if(w.from<=f&&(null==w.to||w.to>f||x.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,u=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==f&&(c+=" "+x.startStyle),x.endStyle&&w.to==v&&(y||(y=[])).push(x.endStyle,w.to),x.title&&((p||(p={})).title=x.title),x.attributes)for(var k in x.attributes)(p||(p={}))[k]=x.attributes[k];x.collapsed&&(!h||Vt(h.marker,x)<0)&&(h=w)}else w.from>f&&v>w.from&&(v=w.from)}if(y)for(var C=0;C<y.length;C+=2)y[C+1]==v&&(u+=" "+y[C]);if(!h||h.from==f)for(var S=0;S<_.length;++S)bn(e,0,_[S]);if(h&&(h.from||0)==f){if(bn(e,(null==h.to?d+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=d)break;var T=Math.min(d,v);while(1){if(g){var E=f+g.length;if(!h){var O=E>T?g.slice(0,T-f):g;e.addToken(e,O,s?s+l:l,c,f+O.length==v?u:"",a,p)}if(E>=T){g=g.slice(T-f),f=T;break}f=E,c=""}g=i.slice(o,o=n[m++]),s=fn(n[m++],e.cm.options)}}else for(var M=1;M<n.length;M+=2)e.addToken(e,i.slice(o,o=n[M]),fn(n[M+1],e.cm.options))}function xn(t,e,n){this.line=e,this.rest=Qt(e),this.size=this.rest?dt(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ee(t,e)}function kn(t,e,n){for(var r,i=[],o=e;o<n;o=r){var s=new xn(t.doc,ut(t.doc,o),o);r=o+s.size,i.push(s)}return i}var Cn=null;function Sn(t){Cn?Cn.ops.push(t):t.ownsGroup=Cn={ops:[t],delayedCallbacks:[]}}function Tn(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function En(t,e){var n=t.ownsGroup;if(n)try{Tn(n)}finally{Cn=null,e(n)}}var On=null;function Mn(t,e){var n=de(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:On?r=On:(r=On=[],setTimeout(Nn,0));for(var o=function(t){r.push((function(){return n[t].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function Nn(){var t=On;On=null;for(var e=0;e<t.length;++e)t[e]()}function An(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?Rn(t,e):"gutter"==o?Bn(t,e,n,r):"class"==o?Pn(t,e):"widget"==o&&jn(t,e,r)}e.changes=null}function Dn(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function Ln(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=Dn(e);e.background=r.insertBefore(M("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}function In(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):mn(t,e)}function Rn(t,e){var n=e.text.className,r=In(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,Pn(t,e)):n&&(e.text.className=n)}function Pn(t,e){Ln(t,e),e.line.wrapClass?Dn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Bn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=Dn(e);e.gutterBackground=M("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=Dn(e),a=e.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(M("div",gt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.options.gutters.length;++l){var u=t.options.gutters[l],c=o.hasOwnProperty(u)&&o[u];c&&a.appendChild(M("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function jn(t,e,n){e.alignable&&(e.alignable=null);for(var r=e.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&e.node.removeChild(r);zn(t,e,n)}function Fn(t,e,n,r){var i=In(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),Pn(t,e),Bn(t,e,n,r),zn(t,e,r),e.node}function zn(t,e,n){if(Hn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)Hn(t,e.rest[r],e,n,!1)}function Hn(t,e,n,r,i){if(e.widgets)for(var o=Dn(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],u=M("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),$n(l,u,n,r),t.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Mn(l,"redraw")}}function $n(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function Wn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,M("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Vn(t,e){for(var n=Ce(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Un(t){return t.lineSpace.offsetTop}function qn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Kn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,M("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Gn(t){return H-t.display.nativeBarWidth}function Xn(t){return t.display.scroller.clientWidth-Gn(t)-t.display.barWidth}function Yn(t){return t.display.scroller.clientHeight-Gn(t)-t.display.barHeight}function Jn(t,e,n){var r=t.options.lineWrapping,i=r&&Xn(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(dt(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Zn(t,e){e=Yt(e);var n=dt(e),r=t.display.externalMeasured=new xn(t.doc,e,n);r.lineN=n;var i=r.built=mn(t,r);return r.text=i.pre,O(t.display.lineMeasure,i.pre),r}function tr(t,e,n,r){return rr(t,nr(t,e),n,r)}function er(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Pr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function nr(t,e){var n=dt(e),r=er(t,n);r&&!r.text?r=null:r&&r.changes&&(An(t,r,n,Ar(t)),t.curOp.forceUpdate=!0),r||(r=Zn(t,e));var i=Qn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function rr(t,e,n,r,i){e.before&&(n=-1);var o,s=n+(r||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Jn(t,e.view,e.rect),e.hasHeights=!0),o=lr(t,e,n,r),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var ir,or={left:0,right:0,top:0,bottom:0};function sr(t,e,n){for(var r,i,o,s,a,l,u=0;u<t.length;u+=3)if(a=t[u],l=t[u+1],e<a?(i=0,o=1,s="left"):e<l?(i=e-a,o=i+1):(u==t.length-3||e==l&&t[u+3]>e)&&(o=l-a,i=o-1,e>=l&&(s="right")),null!=i){if(r=t[u+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)while(u&&t[u-2]==t[u-3]&&t[u-1].insertLeft)r=t[2+(u-=3)],s="left";if("right"==n&&i==l-a)while(u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft)r=t[(u+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function ar(t,e){var n=or;if("left"==e){for(var r=0;r<t.length;r++)if((n=t[r]).left!=n.right)break}else for(var i=t.length-1;i>=0;i--)if((n=t[i]).left!=n.right)break;return n}function lr(t,e,n,r){var i,o=sr(e.map,n,r),l=o.node,u=o.start,c=o.end,h=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){while(u&&ot(e.line.text.charAt(o.coverStart+u)))--u;while(o.coverStart+c<o.coverEnd&&ot(e.line.text.charAt(o.coverStart+c)))++c;if(i=s&&a<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():ar(S(l,u,c).getClientRects(),r),i.left||i.right||0==u)break;c=u,u-=1,h="right"}s&&a<11&&(i=ur(t.display.measure,i))}else{var d;u>0&&(h=r="right"),i=t.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!u&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+Nr(t.display),top:f.top,bottom:f.bottom}:or}for(var m=i.top-e.rect.top,g=i.bottom-e.rect.top,v=(m+g)/2,_=e.view.measure.heights,y=0;y<_.length-1;y++)if(v<_[y])break;var b=y?_[y-1]:0,w=_[y],x={left:("right"==h?i.right:i.left)-e.rect.left,right:("left"==h?i.left:i.right)-e.rect.left,top:b,bottom:w};return i.left||i.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}function ur(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Re(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function cr(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function hr(t){t.display.externalMeasure=null,E(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)cr(t.display.view[e])}function pr(t){hr(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function dr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function fr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=Wn(t.widgets[n]));return e}function gr(t,e,n,r,i){if(!i){var o=mr(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=re(e);if("local"==r?s+=Un(t.display):s-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:fr());var l=a.left+("window"==r?0:dr());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function vr(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=dr(),i-=fr();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function _r(t,e,n,r,i){return r||(r=ut(t.doc,e.line)),gr(t,r,tr(t,r,e.ch,i),n)}function yr(t,e,n,r,i,o){function s(e,s){var a=rr(t,i,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,gr(t,r,a,n)}r=r||ut(t.doc,e.line),i||(i=nr(t,r));var a=ce(r,t.doc.direction),l=e.ch,u=e.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!a)return s("before"==u?l-1:l,"before"==u);function c(t,e,n){var r=a[e],i=1==r.level;return s(n?t-1:t,i!=n)}var h=le(a,l,u),p=ae,d=c(l,h,"before"==u);return null!=p&&(d.other=c(l,p,"before"!=u)),d}function br(t,e){var n=0;e=Ct(t.doc,e),t.options.lineWrapping||(n=Nr(t.display)*e.ch);var r=ut(t.doc,e.line),i=re(r)+Un(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function wr(t,e,n,r,i){var o=vt(t,e,n);return o.xRel=i,r&&(o.outside=!0),o}function xr(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,n<0)return wr(r.first,0,null,!0,-1);var i=ft(r,n),o=r.first+r.size-1;if(i>o)return wr(r.first+r.size-1,ut(r,o).text.length,null,!0,1);e<0&&(e=0);for(var s=ut(r,i);;){var a=Tr(t,s,i,e,n),l=Gt(s,a.ch+(a.xRel>0?1:0));if(!l)return a;var u=l.find(1);if(u.line==i)return u;s=ut(r,i=u.line)}}function kr(t,e,n,r){r-=mr(e);var i=e.text.length,o=at((function(e){return rr(t,n,e-1).bottom<=r}),i,0);return i=at((function(e){return rr(t,n,e).top>r}),o,i),{begin:o,end:i}}function Cr(t,e,n,r){n||(n=nr(t,e));var i=gr(t,e,rr(t,n,r),"line").top;return kr(t,e,n,i)}function Sr(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function Tr(t,e,n,r,i){i-=re(e);var o=nr(t,e),s=mr(e),a=0,l=e.text.length,u=!0,c=ce(e,t.doc.direction);if(c){var h=(t.options.lineWrapping?Or:Er)(t,e,n,o,c,r,i);u=1!=h.level,a=u?h.from:h.to-1,l=u?h.to:h.from-1}var p,d,f=null,m=null,g=at((function(e){var n=rr(t,o,e);return n.top+=s,n.bottom+=s,!!Sr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(f=e,m=n),!0)}),a,l),v=!1;if(m){var _=r-m.left<m.right-r,y=_==u;g=f+(y?0:1),d=y?"after":"before",p=_?m.left:m.right}else{u||g!=l&&g!=a||g++,d=0==g?"after":g==e.text.length?"before":rr(t,o,g-(u?1:0)).bottom+s<=i==u?"after":"before";var b=yr(t,vt(n,g,d),"line",e,o);p=b.left,v=i<b.top||i>=b.bottom}return g=st(e.text,g,1),wr(n,g,d,v,r-p)}function Er(t,e,n,r,i,o,s){var a=at((function(a){var l=i[a],u=1!=l.level;return Sr(yr(t,vt(n,u?l.to:l.from,u?"before":"after"),"line",e,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var u=1!=l.level,c=yr(t,vt(n,u?l.from:l.to,u?"after":"before"),"line",e,r);Sr(c,o,s,!0)&&c.top>s&&(l=i[a-1])}return l}function Or(t,e,n,r,i,o,s){var a=kr(t,e,r,s),l=a.begin,u=a.end;/\s/.test(e.text.charAt(u-1))&&u--;for(var c=null,h=null,p=0;p<i.length;p++){var d=i[p];if(!(d.from>=u||d.to<=l)){var f=1!=d.level,m=rr(t,r,f?Math.min(u,d.to)-1:Math.max(l,d.from)).right,g=m<o?o-m+1e9:m-o;(!c||h>g)&&(c=d,h=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Mr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==ir){ir=M("pre");for(var e=0;e<49;++e)ir.appendChild(document.createTextNode("x")),ir.appendChild(M("br"));ir.appendChild(document.createTextNode("x"))}O(t.measure,ir);var n=ir.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),E(t.measure),n||1}function Nr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=M("span","xxxxxxxxxx"),n=M("pre",[e]);O(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function Ar(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[s]]=o.clientWidth;return{fixedPos:Dr(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function Dr(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Lr(t){var e=Mr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/Nr(t.display)-3);return function(i){if(ee(t.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function Ir(t){var e=t.doc,n=Lr(t);e.iter((function(t){var e=n(t);e!=t.height&&pt(t,e)}))}function Rr(t,e,n,r){var i=t.display;if(!n&&"true"==Ce(e).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,u=xr(t,o,s);if(r&&1==u.xRel&&(l=ut(t.doc,u.line).text).length==u.ch){var c=j(l,l.length,t.options.tabSize)-l.length;u=vt(u.line,Math.max(0,Math.round((o-Kn(t.display).left)/Nr(t.display))-c))}return u}function Pr(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,e<0)return r}function Br(t){t.display.input.showSelection(t.display.input.prepareSelection())}function jr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Fr(t,a.head,i),l||Hr(t,a,o)}}return r}function Fr(t,e,n){var r=yr(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(M("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function zr(t,e){return t.top-e.top||t.left-e.left}function Hr(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),s=Kn(t.display),a=s.left,l=Math.max(r.sizerWidth,Xn(t)-r.sizer.offsetLeft)-s.right,u="ltr"==i.direction;function c(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function h(e,n,r){var o,s,h=ut(i,e),p=h.text.length;function d(n,r){return _r(t,vt(e,n),"div",h,r)}function f(e,n,r){var i=Cr(t,h,null,e),o="ltr"==n==("after"==r)?"left":"right",s="after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1);return d(s,o)[o]}var m=ce(h,i.direction);return se(m,n||0,null==r?p:r,(function(t,e,i,h){var g="ltr"==i,v=d(t,g?"left":"right"),_=d(e-1,g?"right":"left"),y=null==n&&0==t,b=null==r&&e==p,w=0==h,x=!m||h==m.length-1;if(_.top-v.top<=3){var k=(u?y:b)&&w,C=(u?b:y)&&x,S=k?a:(g?v:_).left,T=C?l:(g?_:v).right;c(S,v.top,T-S,v.bottom)}else{var E,O,M,N;g?(E=u&&y&&w?a:v.left,O=u?l:f(t,i,"before"),M=u?a:f(e,i,"after"),N=u&&b&&x?l:_.right):(E=u?f(t,i,"before"):a,O=!u&&y&&w?l:v.right,M=!u&&b&&x?a:_.left,N=u?f(e,i,"after"):l),c(E,v.top,O-E,v.bottom),v.bottom<_.top&&c(a,v.bottom,null,_.top),c(M,_.top,N-M,_.bottom)}(!o||zr(v,o)<0)&&(o=v),zr(_,o)<0&&(o=_),(!s||zr(v,s)<0)&&(s=v),zr(_,s)<0&&(s=_)})),{start:o,end:s}}var p=e.from(),d=e.to();if(p.line==d.line)h(p.line,p.ch,d.ch);else{var f=ut(i,p.line),m=ut(i,d.line),g=Yt(f)==Yt(m),v=h(p.line,p.ch,g?f.text.length+1:null).end,_=h(d.line,g?0:null,d.ch).start;g&&(v.top<_.top-2?(c(v.right,v.top,null,v.bottom),c(a,_.top,_.left,_.bottom)):c(v.right,v.top,_.left-v.right,v.bottom)),v.bottom<_.top&&c(a,v.bottom,null,_.top)}n.appendChild(o)}function $r(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Wr(t){t.state.focused||(t.display.input.focus(),Ur(t))}function Vr(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,qr(t))}),100)}function Ur(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(me(t,"focus",t,e),t.state.focused=!0,L(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),$r(t))}function qr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(me(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Kr(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(s&&a<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var h=i.node.getBoundingClientRect();l=h.bottom-h.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-h.left-1)}var p=i.line.height-l;if((p>.005||p<-.005)&&(pt(i.line,l),Gr(i.line),i.rest))for(var d=0;d<i.rest.length;d++)Gr(i.rest[d]);if(u>t.display.sizerWidth){var f=Math.ceil(u/Nr(t.display));f>t.display.maxLineLength&&(t.display.maxLineLength=f,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function Gr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Xr(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-Un(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=ft(e,r),s=ft(e,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=ft(e,re(ut(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=ft(e,re(ut(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Yr(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=Dr(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function Jr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=gt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ki(t),!0}return!1}function Qr(t,e){if(!ge(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var o=M("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Un(t.display))+"px;\n                         height: "+(e.bottom-e.top+Gn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function Zr(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(e=e.ch?vt(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?vt(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=yr(t,e),l=n&&n!=e?yr(t,n):a;i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r};var u=ei(t,i),c=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=u.scrollTop&&(li(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(s=!0)),null!=u.scrollLeft&&(ci(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return i}function ti(t,e){var n=ei(t,e);null!=n.scrollTop&&li(t,n.scrollTop),null!=n.scrollLeft&&ci(t,n.scrollLeft)}function ei(t,e){var n=t.display,r=Mr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=Yn(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+qn(n),l=e.top<r,u=e.bottom>a-r;if(e.top<i)s.scrollTop=l?0:e.top;else if(e.bottom>i+o){var c=Math.min(e.top,(u?a:e.bottom)-o);c!=i&&(s.scrollTop=c)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,p=Xn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),d=e.right-e.left>p;return d&&(e.right=e.left+p),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left-(d?0:10)):e.right>p+h-3&&(s.scrollLeft=e.right+(d?0:10)-p),s}function ni(t,e){null!=e&&(si(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function ri(t){si(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function ii(t,e,n){null==e&&null==n||si(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function oi(t,e){si(t),t.curOp.scrollToPos=e}function si(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=br(t,e.from),r=br(t,e.to);ai(t,n,r,e.margin)}}function ai(t,e,n,r){var i=ei(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});ii(t,i.scrollLeft,i.scrollTop)}function li(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||Ui(t,{top:e}),ui(t,e,!0),n&&Ui(t),Bi(t,100))}function ui(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function ci(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,Yr(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function hi(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+qn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Gn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var pi=function(t,e,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),pe(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),pe(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};pi.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},pi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},pi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},pi.prototype.zeroWidthHack=function(){var t=_&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},pi.prototype.enableZeroWidthBar=function(t,e,n){function r(){var i=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,r)}t.style.pointerEvents="auto",e.set(1e3,r)},pi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var di=function(){};function fi(t,e){e||(e=hi(t));var n=t.display.barWidth,r=t.display.barHeight;mi(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Kr(t),mi(t,hi(t)),n=t.display.barWidth,r=t.display.barHeight}function mi(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}di.prototype.update=function(){return{bottom:0,right:0}},di.prototype.setScrollLeft=function(){},di.prototype.setScrollTop=function(){},di.prototype.clear=function(){};var gi={native:pi,null:di};function vi(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new gi[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),pe(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?ci(t,e):li(t,e)}),t),t.display.scrollbars.addClass&&L(t.display.wrapper,t.display.scrollbars.addClass)}var _i=0;function yi(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_i},Sn(t.curOp)}function bi(t){var e=t.curOp;e&&En(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;wi(t)}))}function wi(t){for(var e=t.ops,n=0;n<e.length;n++)xi(e[n]);for(var r=0;r<e.length;r++)ki(e[r]);for(var i=0;i<e.length;i++)Ci(e[i]);for(var o=0;o<e.length;o++)Si(e[o]);for(var s=0;s<e.length;s++)Ti(e[s])}function xi(t){var e=t.cm,n=e.display;zi(e),t.updateMaxLine&&oe(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new Fi(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ki(t){t.updatedDisplay=t.mustUpdate&&Wi(t.cm,t.update)}function Ci(t){var e=t.cm,n=e.display;t.updatedDisplay&&Kr(e),t.barMeasure=hi(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=tr(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Gn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Xn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Si(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&ci(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==D();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&fi(e,t.barMeasure),t.updatedDisplay&&Gi(e,t.barMeasure),t.selectionChanged&&$r(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Wr(t.cm)}function Ti(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&Vi(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&ui(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&ci(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=Zr(e,Ct(r,t.scrollToPos.from),Ct(r,t.scrollToPos.to),t.scrollToPos.margin);Qr(e,i)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||me(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&me(s[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&me(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ei(t,e){if(t.curOp)return e();yi(t);try{return e()}finally{bi(t)}}function Oi(t,e){return function(){if(t.curOp)return e.apply(t,arguments);yi(t);try{return e.apply(t,arguments)}finally{bi(t)}}}function Mi(t){return function(){if(this.curOp)return t.apply(this,arguments);yi(this);try{return t.apply(this,arguments)}finally{bi(this)}}}function Ni(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);yi(e);try{return t.apply(this,arguments)}finally{bi(e)}}}function Ai(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Ot&&Zt(t.doc,e)<i.viewTo&&Li(t);else if(n<=i.viewFrom)Ot&&te(t.doc,n+r)>i.viewFrom?Li(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)Li(t);else if(e<=i.viewFrom){var o=Ii(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Li(t)}else if(n>=i.viewTo){var s=Ii(t,e,e,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):Li(t)}else{var a=Ii(t,e,e,-1),l=Ii(t,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(kn(t,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Li(t)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:e<u.lineN+u.size&&(i.externalMeasured=null))}function Di(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[Pr(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==z(s,n)&&s.push(n)}}}function Li(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Ii(t,e,n,r){var i,o=Pr(t,e),s=t.display.view;if(!Ot||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-e,o++}else i=a-e;e+=i,n+=i}while(Zt(t.doc,n)!=n){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Ri(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=kn(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=kn(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(Pr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(kn(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Pr(t,n)))),r.viewTo=n}function Pi(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function Bi(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,P(ji,t))}function ji(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=Qe(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(r.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Ve(e.mode,r.state):null,l=Ye(t,o,r,!0);a&&(r.state=a),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),p=0;!h&&p<s.length;++p)h=s[p]!=o.styles[p];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&Ze(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Bi(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Ei(t,(function(){for(var e=0;e<i.length;e++)Di(t,i[e],"text")}))}}var Fi=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Xr(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Xn(t),this.force=n,this.dims=Ar(t),this.events=[]};function zi(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Gn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Gn(t)+"px",e.scrollbarsClipped=!0)}function Hi(t){if(t.hasFocus())return null;var e=D();if(!e||!A(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&A(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function $i(t){if(t&&t.activeElt&&t.activeElt!=D()&&(t.activeElt.focus(),t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}function Wi(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return Li(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Pi(t))return!1;Jr(t)&&(Li(t),e.dims=Ar(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),s=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),Ot&&(o=Zt(t.doc,o),s=te(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Ri(t,o,s),n.viewOffset=re(ut(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=Pi(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Hi(t);return l>4&&(n.lineDiv.style.display="none"),qi(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,$i(u),E(n.cursorDiv),E(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,Bi(t,400)),n.updateLineNumbers=null,!0}function Vi(t,e){for(var n=e.viewport,r=!0;;r=!1){if((!r||!t.options.lineWrapping||e.oldDisplayWidth==Xn(t))&&(n&&null!=n.top&&(n={top:Math.min(t.doc.height+qn(t.display)-Yn(t),n.top)}),e.visible=Xr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo))break;if(!Wi(t,e))break;Kr(t);var i=hi(t);Br(t),fi(t,i),Gi(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Ui(t,e){var n=new Fi(t,e);if(Wi(t,n)){Kr(t),Vi(t,n);var r=hi(t);Br(t),fi(t,r),Gi(t,r),n.finish()}}function qi(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&_&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var u=r.view,c=r.viewFrom,h=0;h<u.length;h++){var p=u[h];if(p.hidden);else if(p.node&&p.node.parentNode==o){while(s!=p.node)s=a(s);var d=i&&null!=e&&e<=c&&p.lineNumber;p.changes&&(z(p.changes,"gutter")>-1&&(d=!1),An(t,p,c,n)),d&&(E(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(gt(t.options,c)))),s=p.node.nextSibling}else{var f=Fn(t,p,c,n);o.insertBefore(f,s)}c+=p.size}while(s)s=a(s)}function Ki(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function Gi(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Gn(t)+"px"}function Xi(t){var e=t.display.gutters,n=t.options.gutters;E(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(M("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",Ki(t)}function Yi(t){var e=z(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}Fi.prototype.signal=function(t,e){_e(t,e)&&this.events.push(arguments)},Fi.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)me.apply(null,t.events[e])};var Ji=0,Qi=null;function Zi(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function to(t){var e=Zi(t);return e.x*=Qi,e.y*=Qi,e}function eo(t,e){var r=Zi(e),i=r.x,o=r.y,s=t.display,a=s.scroller,u=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(i&&u||o&&c){if(o&&_&&l)t:for(var p=e.target,d=s.view;p!=a;p=p.parentNode)for(var f=0;f<d.length;f++)if(d[f].node==p){t.display.currentWheelTarget=p;break t}if(i&&!n&&!h&&null!=Qi)return o&&c&&li(t,Math.max(0,a.scrollTop+o*Qi)),ci(t,Math.max(0,a.scrollLeft+i*Qi)),(!o||o&&c)&&be(e),void(s.wheelStartX=null);if(o&&null!=Qi){var m=o*Qi,g=t.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(t.doc.height,v+m+50),Ui(t,{top:g,bottom:v})}Ji<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,n=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Qi=(Qi*Ji+n)/(Ji+1),++Ji)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}s?Qi=-.53:n?Qi=15:c?Qi=-.7:p&&(Qi=-1/3);var no=function(t,e){this.ranges=t,this.primIndex=e};no.prototype.primary=function(){return this.ranges[this.primIndex]},no.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=e.ranges[n],i=t.ranges[n];if(!yt(r.anchor,i.anchor)||!yt(r.head,i.head))return!1}return!0},no.prototype.deepCopy=function(){for(var t=this,e=[],n=0;n<this.ranges.length;n++)e[n]=new ro(bt(t.ranges[n].anchor),bt(t.ranges[n].head));return new no(e,this.primIndex)},no.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},no.prototype.contains=function(t,e){var n=this;e||(e=t);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(_t(e,i.from())>=0&&_t(t,i.to())<=0)return r}return-1};var ro=function(t,e){this.anchor=t,this.head=e};function io(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort((function(t,e){return _t(t.from(),e.from())})),n=z(e,i);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=_t(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var u=xt(a.from(),s.from()),c=wt(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new ro(h?c:u,h?u:c))}}return new no(e,n)}function oo(t,e){return new no([new ro(t,e||t)],0)}function so(t){return t.text?vt(t.from.line+t.text.length-1,X(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function ao(t,e){if(_t(t,e.from)<0)return t;if(_t(t,e.to)<=0)return so(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=so(e).ch-e.to.ch),vt(n,r)}function lo(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new ro(ao(i.anchor,e),ao(i.head,e)))}return io(t.cm,n,t.sel.primIndex)}function uo(t,e,n){return t.line==e.line?vt(n.line,t.ch-e.ch+n.ch):vt(n.line+(t.line-e.line),t.ch)}function co(t,e,n){for(var r=[],i=vt(t.first,0),o=i,s=0;s<e.length;s++){var a=e[s],l=uo(a.from,i,o),u=uo(so(a),i,o);if(i=a.to,o=u,"around"==n){var c=t.sel.ranges[s],h=_t(c.head,c.anchor)<0;r[s]=new ro(h?u:l,h?l:u)}else r[s]=new ro(l,l)}return new no(r,t.sel.primIndex)}function ho(t){t.doc.mode=He(t.options,t.doc.modeOption),po(t)}function po(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Bi(t,100),t.state.modeGen++,t.curOp&&Ai(t)}function fo(t,e){return 0==e.from.ch&&0==e.to.ch&&""==X(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function mo(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){cn(t,n,i,r),Mn(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new un(u[o],i(o),r));return n}var a=e.from,l=e.to,u=e.text,c=ut(t,a.line),h=ut(t,l.line),p=X(u),d=i(u.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,u.length)),t.remove(u.length,t.size-u.length);else if(fo(t,e)){var m=s(0,u.length-1);o(h,h.text,d),f&&t.remove(a.line,f),m.length&&t.insert(a.line,m)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,a.ch)+p+c.text.slice(l.ch),d);else{var g=s(1,u.length-1);g.push(new un(p+c.text.slice(l.ch),d,r)),o(c,c.text.slice(0,a.ch)+u[0],i(0)),t.insert(a.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+h.text.slice(l.ch),i(0)),t.remove(a.line+1,f);else{o(c,c.text.slice(0,a.ch)+u[0],i(0)),o(h,p+h.text.slice(l.ch),d);var v=s(1,u.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,v)}Mn(t,"change",t,e)}function go(t,e,n){function r(t,i,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),r(a.doc,t,l))}}}r(t,null,!0)}function vo(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,Ir(t),ho(t),_o(t),t.options.lineWrapping||oe(t),t.options.mode=e.modeOption,Ai(t)}function _o(t){("rtl"==t.doc.direction?L:T)(t.display.lineDiv,"CodeMirror-rtl")}function yo(t){Ei(t,(function(){_o(t),Ai(t)}))}function bo(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function wo(t,e){var n={from:bt(e.from),to:so(e),text:ct(t,e.from,e.to)};return Oo(t,n,e.from.line,e.to.line+1),go(t,(function(t){return Oo(t,n,e.from.line,e.to.line+1)}),!0),n}function xo(t){while(t.length){var e=X(t);if(!e.ranges)break;t.pop()}}function ko(t,e){return e?(xo(t.done),X(t.done)):t.done.length&&!X(t.done).ranges?X(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),X(t.done)):void 0}function Co(t,e,n,r){var i=t.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=ko(i,i.lastOp==r)))s=X(o.changes),0==_t(e.from,e.to)&&0==_t(e.from,s.to)?s.to=so(e):o.changes.push(wo(t,e));else{var l=X(i.done);l&&l.ranges||Eo(t.sel,i.done),o={changes:[wo(t,e)],generation:i.generation},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||me(t,"historyAdded")}function So(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function To(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||So(t,o,X(i.done),e))?i.done[i.done.length-1]=e:Eo(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&xo(i.undone)}function Eo(t,e){var n=X(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Oo(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function Mo(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function No(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Mo(n[i]));return r}function Ao(t,e){var n=No(t,e),r=Bt(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else s&&(n[i]=s)}return n}function Do(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?no.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var u=s[l],c=void 0;if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&z(e,Number(c[1]))>-1&&(X(a)[h]=u[h],delete u[h])}}}return r}function Lo(t,e,n,r){if(r){var i=t.anchor;if(n){var o=_t(e,i)<0;o!=_t(n,i)<0?(i=e,e=n):o!=_t(e,n)<0&&(e=n)}return new ro(i,e)}return new ro(n||e,e)}function Io(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),zo(t,new no([Lo(t.sel.primary(),e,n,i)],0),r)}function Ro(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Lo(t.sel.ranges[o],e[o],null,i);var s=io(t.cm,r,t.sel.primIndex);zo(t,s,n)}function Po(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,zo(t,io(t.cm,i,t.sel.primIndex),r)}function Bo(t,e,n,r){zo(t,oo(e,n),r)}function jo(t,e,n){var r={ranges:e.ranges,update:function(e){var n=this;this.ranges=[];for(var r=0;r<e.length;r++)n.ranges[r]=new ro(Ct(t,e[r].anchor),Ct(t,e[r].head))},origin:n&&n.origin};return me(t,"beforeSelectionChange",t,r),t.cm&&me(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?io(t.cm,r.ranges,r.ranges.length-1):e}function Fo(t,e,n){var r=t.history.done,i=X(r);i&&i.ranges?(r[r.length-1]=e,Ho(t,e,n)):zo(t,e,n)}function zo(t,e,n){Ho(t,e,n),To(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Ho(t,e,n){(_e(t,"beforeSelectionChange")||t.cm&&_e(t.cm,"beforeSelectionChange"))&&(e=jo(t,e,n));var r=n&&n.bias||(_t(e.primary().head,t.sel.primary().head)<0?-1:1);$o(t,Vo(t,e,r,!0)),n&&!1===n.scroll||!t.cm||ri(t.cm)}function $o(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,ve(t.cm)),Mn(t,"cursorActivity",t))}function Wo(t){$o(t,Vo(t,t.sel,null,!1))}function Vo(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=qo(t,s.anchor,a&&a.anchor,n,r),u=qo(t,s.head,a&&a.head,n,r);(i||l!=s.anchor||u!=s.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new ro(l,u))}return i?io(t.cm,i,e.primIndex):e}function Uo(t,e,n,r,i){var o=ut(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(i&&(me(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ko(t,u,-r,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=_t(u,n))&&(r<0?c<0:c>0))return Uo(t,u,e,r,i)}var h=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(h=Ko(t,h,r,h.line==e.line?o:null)),h?Uo(t,h,e,r,i):null}}return e}function qo(t,e,n,r,i){var o=r||1,s=Uo(t,e,n,o,i)||!i&&Uo(t,e,n,o,!0)||Uo(t,e,n,-o,i)||!i&&Uo(t,e,n,-o,!0);return s||(t.cantEdit=!0,vt(t.first,0))}function Ko(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?Ct(t,vt(e.line-1)):null:n>0&&e.ch==(r||ut(t,e.line)).text.length?e.line<t.first+t.size-1?vt(e.line+1,0):null:new vt(e.line,e.ch+n)}function Go(t){t.setSelection(vt(t.firstLine(),0),vt(t.lastLine()),W)}function Xo(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=Ct(t,e)),n&&(r.to=Ct(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),me(t,"beforeChange",t,r),t.cm&&me(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Yo(t,e,n){if(t.cm){if(!t.cm.curOp)return Oi(t.cm,Yo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(_e(t,"beforeChange")||t.cm&&_e(t.cm,"beforeChange"))||(e=Xo(t,e,!0),e)){var r=Et&&!n&&Ft(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)Jo(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else Jo(t,e)}}function Jo(t,e){if(1!=e.text.length||""!=e.text[0]||0!=_t(e.from,e.to)){var n=lo(t,e);Co(t,e,n,t.cm?t.cm.curOp.id:NaN),ts(t,e,n,Bt(t,e));var r=[];go(t,(function(t,n){n||-1!=z(r,t.history)||(os(t.history,e),r.push(t.history)),ts(t,e,null,Bt(t,e))}))}}function Qo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,u=0;u<a.length;u++)if(i=a[u],n?i.ranges&&!i.equals(t.sel):!i.ranges)break;if(u!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=a.pop(),!i.ranges){if(r)return void a.push(i);break}if(Eo(i,l),n&&!i.equals(t.sel))return void zo(t,i,{clearRedo:!1});s=i}var c=[];Eo(s,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=_e(t,"beforeChange")||t.cm&&_e(t.cm,"beforeChange"),p=function(n){var r=i.changes[n];if(r.origin=e,h&&!Xo(t,r,!1))return a.length=0,{};c.push(wo(t,r));var o=n?lo(t,r):X(a);ts(t,r,o,Ao(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:so(r)});var s=[];go(t,(function(t,e){e||-1!=z(s,t.history)||(os(t.history,r),s.push(t.history)),ts(t,r,null,Ao(t,r))}))},d=i.changes.length-1;d>=0;--d){var f=p(d);if(f)return f.v}}}}function Zo(t,e){if(0!=e&&(t.first+=e,t.sel=new no(Y(t.sel.ranges,(function(t){return new ro(vt(t.anchor.line+e,t.anchor.ch),vt(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){Ai(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)Di(t.cm,r,"gutter")}}function ts(t,e,n,r){if(t.cm&&!t.cm.curOp)return Oi(t.cm,ts)(t,e,n,r);if(e.to.line<t.first)Zo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Zo(t,i),e={from:vt(t.first,0),to:vt(e.to.line+i,e.to.ch),text:[X(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:vt(o,ut(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=ct(t,e.from,e.to),n||(n=lo(t,e)),t.cm?es(t.cm,e,r):mo(t,e,r),Ho(t,n,W)}}function es(t,e,n){var r=t.doc,i=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=dt(Yt(ut(r,o.line))),r.iter(l,s.line+1,(function(t){if(t==i.maxLine)return a=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&ve(t),mo(r,e,n,Lr(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,(function(t){var e=ie(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),ln(r,o.line),Bi(t,400);var u=e.text.length-(s.line-o.line)-1;e.full?Ai(t):o.line!=s.line||1!=e.text.length||fo(t.doc,e)?Ai(t,o.line,s.line+1,u):Di(t,o.line,"text");var c=_e(t,"changes"),h=_e(t,"change");if(h||c){var p={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&Mn(t,"change",t,p),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function ns(t,e,n,r,i){var o;r||(r=n),_t(r,n)<0&&(o=[r,n],n=o[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),Yo(t,{from:n,to:r,text:e,origin:i})}function rs(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function is(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],s=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)rs(o.ranges[a].anchor,e,n,r),rs(o.ranges[a].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=vt(u.from.line+r,u.from.ch),u.to=vt(u.to.line+r,u.to.ch);else if(e<=u.to.line){s=!1;break}}s||(t.splice(0,i+1),i=0)}}}function os(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;is(t.done,n,r,i),is(t.undone,n,r,i)}function ss(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=ut(t,kt(t,e)):i=dt(e),null==i?null:(r(o,i)&&t.cm&&Di(t.cm,i,n),o)}function as(t){var e=this;this.lines=t,this.parent=null;for(var n=0,r=0;r<t.length;++r)t[r].parent=e,n+=t[r].height;this.height=n}function ls(t){var e=this;this.children=t;for(var n=0,r=0,i=0;i<t.length;++i){var o=t[i];n+=o.chunkSize(),r+=o.height,o.parent=e}this.size=n,this.height=r,this.parent=null}ro.prototype.from=function(){return xt(this.anchor,this.head)},ro.prototype.to=function(){return wt(this.anchor,this.head)},ro.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},as.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=this,r=t,i=t+e;r<i;++r){var o=n.lines[r];n.height-=o.height,hn(o),Mn(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=r},iterN:function(t,e,n){for(var r=this,i=t+e;t<i;++t)if(n(r.lines[t]))return!0}},ls.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){var n=this;this.size-=e;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(t<o){var s=Math.min(e,o-t),a=i.height;if(i.removeInner(t,s),n.height-=a-i.height,o==s&&(n.children.splice(r--,1),i.parent=null),0==(e-=s))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof as))){var l=[];this.collapse(l),this.children=[new as(l)],this.children[0].parent=this}},collapse:function(t){for(var e=this,n=0;n<this.children.length;++n)e.children[n].collapse(t)},insertInner:function(t,e,n){var r=this;this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(t<=s){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var u=new as(o.lines.slice(l,l+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,a),r.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new ls(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=z(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new ls(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(t<s){var a=Math.min(e,s-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=s}}};var us=function(t,e,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=t,this.node=e};function cs(t,e,n){re(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&ni(t,n)}function hs(t,e,n,r){var i=new us(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ss(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!ee(t,e)){var r=re(e)<t.scrollTop;pt(e,e.height+Wn(i)),r&&ni(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Mn(o,"lineWidgetAdded",o,i,"number"==typeof e?e:dt(e)),i}us.prototype.clear=function(){var t=this,e=this.doc.cm,n=this.line.widgets,r=this.line,i=dt(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==t&&n.splice(o--,1);n.length||(r.widgets=null);var s=Wn(this);pt(r,Math.max(0,r.height-s)),e&&(Ei(e,(function(){cs(e,r,-s),Di(e,i,"widget")})),Mn(e,"lineWidgetCleared",e,this,i))}},us.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Wn(this)-e;i&&(ee(this.doc,r)||pt(r,r.height+i),n&&Ei(n,(function(){n.curOp.forceUpdate=!0,cs(n,r,i),Mn(n,"lineWidgetChanged",n,t,dt(r))})))},ye(us);var ps=0,ds=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ps};function fs(t,e,n,r,i){if(r&&r.shared)return gs(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Oi(t.cm,fs)(t,e,n,r,i);var o=new ds(t,i),s=_t(e,n);if(r&&B(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=N("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Xt(t,e.line,e,n,o)||e.line!=n.line&&Xt(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Nt()}o.addToHistory&&Co(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,u=t.cm;if(t.iter(l,n.line+1,(function(t){u&&o.collapsed&&!u.options.lineWrapping&&Yt(t)==u.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&pt(t,0),It(t,new At(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){ee(t,e)&&pt(e,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Mt(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ps,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)Ai(u,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=n.line;c++)Di(u,c,"text");o.atomic&&Wo(u.doc),Mn(u,"markerAdded",u,o)}return o}ds.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&yi(e),_e(this,"clear")){var r=this.find();r&&Mn(this,"clear",r.from,r.to)}for(var i=null,o=null,s=0;s<this.lines.length;++s){var a=t.lines[s],l=Dt(a.markedSpans,t);e&&!t.collapsed?Di(e,dt(a),"text"):e&&(null!=l.to&&(o=dt(a)),null!=l.from&&(i=dt(a))),a.markedSpans=Lt(a.markedSpans,l),null==l.from&&t.collapsed&&!ee(t.doc,a)&&e&&pt(a,Mr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Yt(t.lines[u]),h=ie(c);h>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Ai(e,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Wo(e.doc)),e&&Mn(e,"markerCleared",e,this,i,o),n&&bi(e),this.parent&&this.parent.clear()}},ds.prototype.find=function(t,e){var n,r,i=this;null==t&&"bookmark"==this.type&&(t=1);for(var o=0;o<this.lines.length;++o){var s=i.lines[o],a=Dt(s.markedSpans,i);if(null!=a.from&&(n=vt(e?s:dt(s),a.from),-1==t))return n;if(null!=a.to&&(r=vt(e?s:dt(s),a.to),1==t))return r}return n&&{from:n,to:r}},ds.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Ei(r,(function(){var i=e.line,o=dt(e.line),s=er(r,o);if(s&&(cr(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ee(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Wn(n)-a;l&&pt(i,i.height+l)}Mn(r,"markerChanged",r,t)}))},ds.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=z(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},ds.prototype.detachLine=function(t){if(this.lines.splice(z(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ye(ds);var ms=function(t,e){var n=this;this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=n};function gs(t,e,n,r,i){r=B(r),r.shared=!1;var o=[fs(t,e,n,r,i)],s=o[0],a=r.widgetNode;return go(t,(function(t){a&&(r.widgetNode=a.cloneNode(!0)),o.push(fs(t,Ct(t,e),Ct(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=X(o)})),new ms(o,s)}function vs(t){return t.findMarks(vt(t.first,0),t.clipPos(vt(t.lastLine())),(function(t){return t.parent}))}function _s(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),s=t.clipPos(i.to);if(_t(o,s)){var a=fs(t,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function ys(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];go(n.primary.doc,(function(t){return r.push(t)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}ms.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();Mn(this,"clear")}},ms.prototype.find=function(t,e){return this.primary.find(t,e)},ye(ms);var bs=0,ws=function(t,e,n,r,i){if(!(this instanceof ws))return new ws(t,e,n,r,i);null==n&&(n=0),ls.call(this,[new as([new un("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=vt(n,0);this.sel=oo(o),this.history=new bo(null),this.id=++bs,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),mo(this,{from:o,to:o,text:t}),zo(this,oo(o),W)};ws.prototype=Z(ls.prototype,{constructor:ws,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ht(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Ni((function(t){var e=vt(this.first,0),n=this.first+this.size-1;Yo(this,{from:e,to:vt(n,ut(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&ii(this.cm,0,0),zo(this,oo(e),W)})),replaceRange:function(t,e,n,r){e=Ct(this,e),n=n?Ct(this,n):e,ns(this,t,e,n,r)},getRange:function(t,e,n){var r=ct(this,Ct(this,t),Ct(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(mt(this,t))return ut(this,t)},getLineNumber:function(t){return dt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=ut(this,t)),Yt(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Ct(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||!1===t?n.to():n.from(),e},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ni((function(t,e,n){Bo(this,Ct(this,"number"==typeof t?vt(t,e||0):t),null,n)})),setSelection:Ni((function(t,e,n){Bo(this,Ct(this,t),Ct(this,e||t),n)})),extendSelection:Ni((function(t,e,n){Io(this,Ct(this,t),e&&Ct(this,e),n)})),extendSelections:Ni((function(t,e){Ro(this,Tt(this,t),e)})),extendSelectionsBy:Ni((function(t,e){var n=Y(this.sel.ranges,t);Ro(this,Tt(this,n),e)})),setSelections:Ni((function(t,e,n){var r=this;if(t.length){for(var i=[],o=0;o<t.length;o++)i[o]=new ro(Ct(r,t[o].anchor),Ct(r,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),zo(this,io(this.cm,i,e),n)}})),addSelection:Ni((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new ro(Ct(this,t),Ct(this,e||t))),zo(this,io(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=ct(n,r[i].from(),r[i].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=ct(e,r[i].from(),r[i].to());!1!==t&&(o=o.join(t||e.lineSeparator())),n[i]=o}return n},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Ni((function(t,e,n){for(var r=this,i=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];i[s]={from:a.from(),to:a.to(),text:r.splitLines(t[s]),origin:n}}for(var l=e&&"end"!=e&&co(this,i,e),u=i.length-1;u>=0;u--)Yo(r,i[u]);l?Fo(this,l):this.cm&&ri(this.cm)})),undo:Ni((function(){Qo(this,"undo")})),redo:Ni((function(){Qo(this,"redo")})),undoSelection:Ni((function(){Qo(this,"undo",!0)})),redoSelection:Ni((function(){Qo(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new bo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(t){var e=this.history=new bo(this.history.maxGeneration);e.done=Do(t.done.slice(0),null,!0),e.undone=Do(t.undone.slice(0),null,!0)},setGutterMarker:Ni((function(t,e,n){return ss(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&rt(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:Ni((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&ss(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,rt(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!mt(this,t))return null;if(e=t,t=ut(this,t),!t)return null}else if(e=dt(t),null==e)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Ni((function(t,e,n){return ss(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(C(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:Ni((function(t,e,n){return ss(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(C(n));if(!o)return!1;var s=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:Ni((function(t,e,n){return hs(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return fs(this,Ct(this,t),Ct(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=Ct(this,t),fs(this,t,t,n,"bookmark")},findMarksAt:function(t){t=Ct(this,t);var e=[],n=ut(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=Ct(this,t),e=Ct(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n})),Ct(this,vt(n,e))},indexFromPos:function(t){t=Ct(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new ws(ht(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new ws(ht(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],_s(r,vs(this)),r},unlinkDoc:function(t){var e=this;if(t instanceof Pa&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=e.linked[n];if(r.doc==t){e.linked.splice(n,1),t.unlinkDoc(e),ys(vs(e));break}}if(t.history==this.history){var i=[t.id];go(t,(function(t){return i.push(t.id)}),!0),t.history=new bo(null),t.history.done=Do(this.history.done,i),t.history.undone=Do(this.history.undone,i)}},iterLinkedDocs:function(t){go(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Ae(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ni((function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&yo(this.cm))}))}),ws.prototype.eachLine=ws.prototype.iter;var xs=0;function ks(t){var e=this;if(Ts(e),!ge(e,t)&&!Vn(e.display,t)){be(t),s&&(xs=+new Date);var n=Rr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(t,r){if(!e.options.allowDropFileTypes||-1!=z(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=Oi(e,(function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=Ct(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Yo(e.doc,l),Fo(e.doc,oo(n,so(l)))}})),s.readAsText(t)}},u=0;u<i;++u)l(r[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var c=t.dataTransfer.getData("Text");if(c){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Ho(e.doc,oo(n,n)),h)for(var p=0;p<h.length;++p)ns(e.doc,"",h[p].anchor,h[p].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Cs(t,e){if(s&&(!t.state.draggingText||+new Date-xs<100))ke(e);else if(!ge(t,e)&&!Vn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!p)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}function Ss(t,e){var n=Rr(t,e);if(n){var r=document.createDocumentFragment();Fr(t,n,r),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}function Ts(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Es(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Os=!1;function Ms(){Os||(Ns(),Os=!0)}function Ns(){var t;pe(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Es(As)}),100))})),pe(window,"blur",(function(){return Es(qr)}))}function As(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Ds={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ls=0;Ls<10;Ls++)Ds[Ls+48]=Ds[Ls+96]=String(Ls);for(var Is=65;Is<=90;Is++)Ds[Is]=String.fromCharCode(Is);for(var Rs=1;Rs<=12;Rs++)Ds[Rs+111]=Ds[Rs+63235]="F"+Rs;var Ps={};function Bs(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function js(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=Y(n.split(" "),Bs),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var u in e)t[u]=e[u];return t}function Fs(t,e,n,r){e=Ws(e);var i=e.call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Fs(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var s=Fs(t,e.fallthrough[o],n,r);if(s)return s}}}function zs(t){var e="string"==typeof t?t:Ds[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Hs(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(x?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(x?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function $s(t,e){if(h&&34==t.keyCode&&t["char"])return!1;var n=Ds[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Hs(n,t,e))}function Ws(t){return"string"==typeof t?Ps[t]:t}function Vs(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){var o=e(n[i]);while(r.length&&_t(o.from,X(r).to)<=0){var s=r.pop();if(_t(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Ei(t,(function(){for(var e=r.length-1;e>=0;e--)ns(t.doc,"",r[e].from,r[e].to,"+delete");ri(t)}))}function Us(t,e,n){var r=st(t.text,e+n,n);return r<0||r>t.text.length?null:r}function qs(t,e,n){var r=Us(t,e.ch,n);return null==r?null:new vt(e.line,r,n<0?"after":"before")}function Ks(t,e,n,r,i){if(t){var o=ce(n,e.doc.direction);if(o){var s,a=i<0?X(o):o[0],l=i<0==(1==a.level),u=l?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=nr(e,n);s=i<0?n.text.length-1:0;var h=rr(e,c,s).top;s=at((function(t){return rr(e,c,t).top==h}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==u&&(s=Us(n,s,1))}else s=i<0?a.to:a.from;return new vt(r,s,u)}}return new vt(r,i<0?n.text.length:0,i<0?"before":"after")}function Gs(t,e,n,r){var i=ce(e,t.doc.direction);if(!i)return qs(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=le(i,n.ch,n.sticky),s=i[o];if("ltr"==t.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return qs(e,n,r);var a,l=function(t,n){return Us(e,t instanceof vt?t.ch:t,n)},u=function(n){return t.options.lineWrapping?(a=a||nr(t,e),Cr(t,e,a,n)):{begin:0,end:e.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==r<0,p=l(n,h?1:-1);if(null!=p&&(h?p<=s.to&&p<=c.end:p>=s.from&&p>=c.begin)){var d=h?"before":"after";return new vt(n.line,p,d)}}var f=function(t,e,r){for(var o=function(t,e){return e?new vt(n.line,l(t,1),"before"):new vt(n.line,t,"after")};t>=0&&t<i.length;t+=e){var s=i[t],a=e>0==(1!=s.level),u=a?r.begin:l(r.end,-1);if(s.from<=u&&u<s.to)return o(u,a);if(u=a?s.from:l(s.to,-1),r.begin<=u&&u<r.end)return o(u,a)}},m=f(o+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==e.text.length||(m=f(r>0?0:i.length-1,r,u(g)),!m)?null:m}Ps.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ps.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ps.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ps.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ps["default"]=_?Ps.macDefault:Ps.pcDefault;var Xs={selectAll:Go,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),W)},killLine:function(t){return Vs(t,(function(e){if(e.empty()){var n=ut(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:vt(e.head.line+1,0)}:{from:e.head,to:vt(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Vs(t,(function(e){return{from:vt(e.from().line,0),to:Ct(t.doc,vt(e.to().line+1,0))}}))},delLineLeft:function(t){return Vs(t,(function(t){return{from:vt(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Vs(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}}))},delWrappedLineRight:function(t){return Vs(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(vt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(vt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return Ys(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return Qs(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return Js(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?Qs(t,e.head):r}),U)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=j(t.getLine(o.line),o.ch,r);e.push(G(r-s%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Ei(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=ut(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new vt(i.line,i.ch-1)),i.ch>0)i=new vt(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),vt(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var s=ut(t.doc,i.line-1).text;s&&(i=new vt(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),vt(i.line-1,s.length-1),i,"+transpose"))}n.push(new ro(i,i))}t.setSelections(n)}))},newlineAndIndent:function(t){return Ei(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);ri(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Ys(t,e){var n=ut(t.doc,e),r=Yt(n);return r!=n&&(e=dt(r)),Ks(!0,t,r,e,1)}function Js(t,e){var n=ut(t.doc,e),r=Jt(n);return r!=n&&(e=dt(r)),Ks(!0,t,n,e,-1)}function Qs(t,e){var n=Ys(t,e.line),r=ut(t.doc,n.line),i=ce(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return vt(n.line,s?0:o,n.sticky)}return n}function Zs(t,e,n){if("string"==typeof e&&(e=Xs[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=$}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function ta(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Fs(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Fs(e,t.options.extraKeys,n,t)||Fs(e,t.options.keyMap,n,t)}var ea=new F;function na(t,e,n,r){var i=t.state.keySeq;if(i){if(zs(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ea.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),ra(t,i+" "+e,n,r))return!0}return ra(t,e,n,r)}function ra(t,e,n,r){var i=ta(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&Mn(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(be(n),$r(t)),!!i}function ia(t,e){var n=$s(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?na(t,"Shift-"+n,e,(function(e){return Zs(t,e,!0)}))||na(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Zs(t,e)})):na(t,n,e,(function(e){return Zs(t,e)})))}function oa(t,e,n){return na(t,"'"+n+"'",e,(function(e){return Zs(t,e,!0)}))}var sa=null;function aa(t){var e=this;if(e.curOp.focus=D(),!ge(e,t)){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=ia(e,t);h&&(sa=r?n:null,r||88!=n||Le||!(_?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||la(e)}}function la(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),fe(document,"keyup",n),fe(document,"mouseover",n))}L(e,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function ua(t){16==t.keyCode&&(this.doc.sel.shift=!1),ge(this,t)}function ca(t){var e=this;if(!(Vn(e.display,t)||ge(e,t)||t.ctrlKey&&!t.altKey||_&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(h&&n==sa)return sa=null,void be(t);if(!h||t.which&&!(t.which<10)||!ia(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(oa(e,t,i)||e.display.input.onKeyPress(t))}}}var ha,pa,da=400,fa=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ma(t,e){var n=+new Date;return pa&&pa.compare(n,t,e)?(ha=pa=null,"triple"):ha&&ha.compare(n,t,e)?(pa=new fa(n,t,e),ha=null,"double"):(ha=new fa(n,t,e),pa=null,"single")}function ga(t){var e=this,n=e.display;if(!(ge(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Vn(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Sa(e,t)){var r=Rr(e,t),i=Se(t),o=r?ma(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&va(e,i,r,o,t)||(1==i?r?ya(e,r,o,t):Ce(t)==n.scroller&&be(t):2==i?(r&&Io(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(k?e.display.input.onContextMenu(t):Vr(e)))}}function va(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==e?"Left":2==e?"Middle":"Right")+o,na(t,Hs(o,i),i,(function(e){if("string"==typeof e&&(e=Xs[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=$}finally{t.state.suppressEdits=!1}return r}))}function _a(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=_?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(_?n.altKey:n.ctrlKey)),i}function ya(t,e,n,r){s?setTimeout(P(Wr,t),0):t.curOp.focus=D();var i,o=_a(t,n,r),a=t.doc.sel;t.options.dragDrop&&Oe&&!t.isReadOnly()&&"single"==n&&(i=a.contains(e))>-1&&(_t((i=a.ranges[i]).from(),e)<0||e.xRel>0)&&(_t(i.to(),e)>0||e.xRel<0)?ba(t,r,e,o):xa(t,r,e,o)}function ba(t,e,n,r){var i=t.display,o=!1,u=Oi(t,(function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,fe(i.wrapper.ownerDocument,"mouseup",u),fe(i.wrapper.ownerDocument,"mousemove",c),fe(i.scroller,"dragstart",h),fe(i.scroller,"drop",u),o||(be(e),r.addNew||Io(t.doc,n,null,null,r.extend),l||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()}),20):i.input.focus())})),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",h),pe(i.scroller,"drop",u),Vr(t),setTimeout((function(){return i.input.focus()}),20)}function wa(t,e,n){if("char"==n)return new ro(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new ro(vt(e.line,0),Ct(t.doc,vt(e.line+1,0)));var r=n(t,e);return new ro(r.from,r.to)}function xa(t,e,n,r){var i=t.display,o=t.doc;be(e);var s,a,l=o.sel,u=l.ranges;if(r.addNew&&!r.extend?(a=o.sel.contains(n),s=a>-1?u[a]:new ro(n,n)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new ro(n,n)),n=Rr(t,e,!0,!0),a=-1;else{var c=wa(t,n,r.unit);s=r.extend?Lo(s,c.anchor,c.head,r.extend):c}r.addNew?-1==a?(a=u.length,zo(o,io(t,u.concat([s]),a),{scroll:!1,origin:"*mouse"})):u.length>1&&u[a].empty()&&"char"==r.unit&&!r.extend?(zo(o,io(t,u.slice(0,a).concat(u.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Po(o,a,s,V):(a=0,zo(o,new no([s],0),V),l=o.sel);var h=n;function p(e){if(0!=_t(h,e))if(h=e,"rectangle"==r.unit){for(var i=[],u=t.options.tabSize,c=j(ut(o,n.line).text,n.ch,u),p=j(ut(o,e.line).text,e.ch,u),d=Math.min(c,p),f=Math.max(c,p),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var v=ut(o,m).text,_=q(v,d,u);d==f?i.push(new ro(vt(m,_),vt(m,_))):v.length>_&&i.push(new ro(vt(m,_),vt(m,q(v,f,u))))}i.length||i.push(new ro(n,n)),zo(o,io(t,l.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y,b=s,w=wa(t,e,r.unit),x=b.anchor;_t(w.anchor,x)>0?(y=w.head,x=xt(b.from(),w.anchor)):(y=w.anchor,x=wt(b.to(),w.head));var k=l.ranges.slice(0);k[a]=ka(t,new ro(Ct(o,x),y)),zo(o,io(t,k,a),V)}}var d=i.wrapper.getBoundingClientRect(),f=0;function m(e){var n=++f,s=Rr(t,e,!0,"rectangle"==r.unit);if(s)if(0!=_t(s,h)){t.curOp.focus=D(),p(s);var a=Xr(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Oi(t,(function(){f==n&&m(e)})),150)}else{var l=e.clientY<d.top?-20:e.clientY>d.bottom?20:0;l&&setTimeout(Oi(t,(function(){f==n&&(i.scroller.scrollTop+=l,m(e))})),50)}}function g(e){t.state.selectingText=!1,f=1/0,be(e),i.input.focus(),fe(i.wrapper.ownerDocument,"mousemove",v),fe(i.wrapper.ownerDocument,"mouseup",_),o.history.lastSelOrigin=null}var v=Oi(t,(function(t){0!==t.buttons&&Se(t)?m(t):g(t)})),_=Oi(t,g);t.state.selectingText=_,pe(i.wrapper.ownerDocument,"mousemove",v),pe(i.wrapper.ownerDocument,"mouseup",_)}function ka(t,e){var n=e.anchor,r=e.head,i=ut(t.doc,n.line);if(0==_t(n,r)&&n.sticky==r.sticky)return e;var o=ce(i);if(!o)return e;var s=le(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,u=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==u||u==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=le(o,r.ch,r.sticky),h=c-s||(r.ch-n.ch)*(1==a.level?-1:1);l=c==u-1||c==u?h<0:h>0}var p=o[u+(l?-1:0)],d=l==(1==p.level),f=d?p.from:p.to,m=d?"after":"before";return n.ch==f&&n.sticky==m?e:new ro(new vt(n.line,f,m),r)}function Ca(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&be(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!_e(t,n))return xe(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=ft(t.doc,o),h=t.options.gutters[l];return me(t,n,t,c,h,e),xe(e)}}}function Sa(t,e){return Ca(t,e,"gutterClick",!0)}function Ta(t,e){Vn(t.display,e)||Ea(t,e)||ge(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function Ea(t,e){return!!_e(t,"gutterContextMenu")&&Ca(t,e,"gutterContextMenu",!1)}function Oa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pr(t)}fa.prototype.compare=function(t,e,n){return this.time+da>t&&0==_t(e,this.pos)&&n==this.button};var Ma={toString:function(){return"CodeMirror.Init"}},Na={},Aa={};function Da(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=Ma&&i(t,e,n)}:i)}t.defineOption=n,t.Init=Ma,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,ho(t)}),!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){po(t),pr(t),Ai(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(vt(r,o))}r++}));for(var i=n.length-1;i>=0;i--)ns(t.doc,e,n[i],vt(n[i].line,n[i].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=Ma&&t.refresh()})),n("specialCharPlaceholder",gn,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){Oa(t),La(t)}),!0),n("keyMap","default",(function(t,e,n){var r=Ws(e),i=n!=Ma&&Ws(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ra,!0),n("gutters",[],(function(t){Yi(t.options),La(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?Dr(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return fi(t)}),!0),n("scrollbarStyle","native",(function(t){vi(t),fi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t){Yi(t.options),La(t)}),!0),n("firstLineNumber",1,La,!0),n("lineNumberFormatter",(function(t){return t}),La,!0),n("showCursorWhenSelecting",!1,Br,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(qr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Ia),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Br,!0),n("singleCursorHeightPerLine",!0,Br,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,po,!0),n("addModeClass",!1,po,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,po,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}function La(t){Xi(t),Ai(t),Yr(t)}function Ia(t,e,n){var r=n&&n!=Ma;if(!e!=!r){var i=t.display.dragFunctions,o=e?pe:fe;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function Ra(t){t.options.lineWrapping?(L(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),oe(t)),Ir(t),Ai(t),pr(t),setTimeout((function(){return fi(t)}),100)}function Pa(t,e){var n=this;if(!(this instanceof Pa))return new Pa(t,e);this.options=e=e?B(e):{},B(Na,e,!1),Yi(e);var r=e.value;"string"==typeof r?r=new ws(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new Pa.inputStyles[e.inputStyle](this),o=this.display=new lt(t,r,i);for(var u in o.wrapper.CodeMirror=this,Xi(this),Oa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),vi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ba(this),Ms(),yi(this),this.curOp.forceUpdate=!0,vo(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout(P(Ur,this),20):qr(this),Aa)Aa.hasOwnProperty(u)&&Aa[u](n,e[u],Ma);Jr(this),e.finishInit&&e.finishInit(this);for(var c=0;c<ja.length;++c)ja[c](n);bi(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ba(t){var e=t.display;pe(e.scroller,"mousedown",Oi(t,ga)),pe(e.scroller,"dblclick",s&&a<11?Oi(t,(function(e){if(!ge(t,e)){var n=Rr(t,e);if(n&&!Sa(t,e)&&!Vn(t.display,e)){be(e);var r=t.findWordAt(n);Io(t.doc,r.anchor,r.head)}}})):function(e){return ge(t,e)||be(e)}),pe(e.scroller,"contextmenu",(function(e){return Ta(t,e)}));var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),r=e.activeTouch,r.end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}pe(e.scroller,"touchstart",(function(i){if(!ge(t,i)&&!o(i)&&!Sa(t,i)){e.input.ensurePolled(),clearTimeout(n);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),pe(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),pe(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!Vn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=t.coordsChar(e.activeTouch,"page");o=!r.prev||l(r,r.prev)?new ro(s,s):!r.prev.prev||l(r,r.prev.prev)?t.findWordAt(s):new ro(vt(s.line,0),Ct(t.doc,vt(s.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),be(n)}i()})),pe(e.scroller,"touchcancel",i),pe(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(li(t,e.scroller.scrollTop),ci(t,e.scroller.scrollLeft,!0),me(t,"scroll",t))})),pe(e.scroller,"mousewheel",(function(e){return eo(t,e)})),pe(e.scroller,"DOMMouseScroll",(function(e){return eo(t,e)})),pe(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){ge(t,e)||ke(e)},over:function(e){ge(t,e)||(Ss(t,e),ke(e))},start:function(e){return Cs(t,e)},drop:Oi(t,ks),leave:function(e){ge(t,e)||Ts(t)}};var u=e.input.getField();pe(u,"keyup",(function(e){return ua.call(t,e)})),pe(u,"keydown",Oi(t,aa)),pe(u,"keypress",Oi(t,ca)),pe(u,"focus",(function(e){return Ur(t,e)})),pe(u,"blur",(function(e){return qr(t,e)}))}Pa.defaults=Na,Pa.optionHandlers=Aa;var ja=[];function Fa(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Qe(t,e).state:n="prev");var s=t.options.tabSize,a=ut(o,e),l=j(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(u=o.mode.indent(i,a.text.slice(c.length),a.text),u==$||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?j(ut(o,e-1).text,null,s):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var h="",p=0;if(t.options.indentWithTabs)for(var d=Math.floor(u/s);d;--d)p+=s,h+="\t";if(p<u&&(h+=G(u-p)),h!=c)return ns(o,h,vt(e,0),vt(e,c.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==e&&m.head.ch<c.length){var g=vt(e,c.length);Po(o,f,new ro(g,g));break}}}Pa.defineInitHook=function(t){return ja.push(t)};var za=null;function Ha(t){za=t}function $a(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||t.state.pasteIncoming>s,l=Ae(e),u=null;if(a&&r.ranges.length>1)if(za&&za.text.join("\n")==e){if(r.ranges.length%za.text.length==0){u=[];for(var c=0;c<za.text.length;c++)u.push(o.splitLines(za.text[c]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(u=Y(l,(function(t){return[t]})));for(var h=t.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var d=r.ranges[p],f=d.from(),m=d.to();d.empty()&&(n&&n>0?f=vt(f.line,f.ch-n):t.state.overwrite&&!a?m=vt(m.line,Math.min(ut(o,m.line).text.length,m.ch+X(l).length)):a&&za&&za.lineWise&&za.text.join("\n")==e&&(f=m=vt(f.line,0)));var g={from:f,to:m,text:u?u[p%u.length]:l,origin:i||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};Yo(t.doc,g),Mn(t,"inputRead",t,g)}e&&!a&&Va(t,e),ri(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Wa(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ei(e,(function(){return $a(e,n,0,null,"paste")})),!0}function Va(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Fa(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ut(t.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Fa(t,i.head.line,"smart"));s&&Mn(t,"electricInput",t,i.head.line)}}}function Ua(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:vt(i,0),head:vt(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function qa(t,e,n,r){t.setAttribute("autocorrect",!!n),t.setAttribute("autocapitalize",!!r),t.setAttribute("spellcheck",!!e)}function Ka(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),qa(t),e}function Ga(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&Oi(this,e[t])(this,n,i),me(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ws(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Mi((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,Ai(this)})),removeOverlay:Mi((function(t){for(var e=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return n.splice(r,1),e.state.modeGen++,void Ai(e)}})),indentLine:Mi((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),mt(this.doc,t)&&Fa(this,t,e,n)})),indentSelection:Mi((function(t){for(var e=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Fa(e,o.head.line,t,!0),r=o.head.line,i==e.doc.sel.primIndex&&ri(e));else{var s=o.from(),a=o.to(),l=Math.max(r,s.line);r=Math.min(e.lastLine(),a.line-(a.ch?0:1))+1;for(var u=l;u<r;++u)Fa(e,u,t);var c=e.doc.sel.ranges;0==s.ch&&n.length==c.length&&c[i].from().ch>0&&Po(e.doc,i,new ro(s,c[i].to()),W)}}})),getTokenAt:function(t,e){return rn(this,t,e)},getLineTokens:function(t,e){return rn(this,vt(t),e,!0)},getTokenTypeAt:function(t){t=Ct(this.doc,t);var e,n=Je(this,ut(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}r=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=this,i=[];if(!n.hasOwnProperty(e))return i;var o=n[e],s=this.getModeAt(t);if("string"==typeof s[e])o[s[e]]&&i.push(o[s[e]]);else if(s[e])for(var a=0;a<s[e].length;a++){var l=o[s[e][a]];l&&i.push(l)}else s.helperType&&o[s.helperType]?i.push(o[s.helperType]):o[s.name]&&i.push(o[s.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(s,r)&&-1==z(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var n=this.doc;return t=kt(n,null==t?n.first+n.size-1:t),Qe(this,t+1,e).state},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?Ct(this.doc,t):t?r.from():r.to(),yr(this,n,e||"page")},charCoords:function(t,e){return _r(this,Ct(this.doc,t),e||"page")},coordsChar:function(t,e){return t=vr(this,t,e||"page"),xr(this,t.left,t.top)},lineAtHeight:function(t,e){return t=vr(this,{top:t,left:0},e||"page").top,ft(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=ut(this.doc,t)}else r=t;return gr(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-re(r):0)},defaultTextHeight:function(){return Mr(this.display)},defaultCharWidth:function(){return Nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=yr(this,Ct(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)s=t.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>u&&(a=u-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==i?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&ti(this,{left:a,top:s,right:a+e.offsetWidth,bottom:s+e.offsetHeight})},triggerOnKeyDown:Mi(aa),triggerOnKeyPress:Mi(ca),triggerOnKeyUp:ua,triggerOnMouseDown:Mi(ga),execCommand:function(t){if(Xs.hasOwnProperty(t))return Xs[t].call(null,this)},triggerElectric:Mi((function(t){Va(this,t)})),findPosH:function(t,e,n,r){var i=this,o=1;e<0&&(o=-1,e=-e);for(var s=Ct(this.doc,t),a=0;a<e;++a)if(s=Xa(i.doc,s,o,n,r),s.hitSide)break;return s},moveH:Mi((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xa(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),U)})),deleteH:Mi((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Vs(this,(function(n){var i=Xa(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(t,e,n,r){var i=this,o=1,s=r;e<0&&(o=-1,e=-e);for(var a=Ct(this.doc,t),l=0;l<e;++l){var u=yr(i,a,"div");if(null==s?s=u.left:u.left=s,a=Ya(i,u,o,n),a.hitSide)break}return a},moveV:Mi((function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=yr(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Ya(n,a,t,e);return"page"==e&&s==r.sel.primary()&&ni(n,_r(n,l,"div").top-a.top),l}),U),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(t){var e=this.doc,n=ut(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=n.length||!r?++i:--r;var s=n.charAt(r),a=nt(s,o)?function(t){return nt(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!nt(t)};while(r>0&&a(n.charAt(r-1)))--r;while(i<n.length&&a(n.charAt(i)))++i}return new ro(vt(t.line,r),vt(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mi((function(t,e){ii(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Gn(this)-this.display.barHeight,width:t.scrollWidth-Gn(this)-this.display.barWidth,clientHeight:Yn(this),clientWidth:Xn(this)}},scrollIntoView:Mi((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:vt(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?oi(this,t):ai(this,t.from,t.to,t.margin)})),setSize:Mi((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&hr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Di(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,me(this,"refresh",this)})),operation:function(t){return Ei(this,t)},startOperation:function(){return yi(this)},endOperation:function(){return bi(this)},refresh:Mi((function(){var t=this.display.cachedTextHeight;Ai(this),this.curOp.forceUpdate=!0,pr(this),ii(this,this.doc.scrollLeft,this.doc.scrollTop),Ki(this),(null==t||Math.abs(t-Mr(this.display))>.5)&&Ir(this),me(this,"refresh",this)})),swapDoc:Mi((function(t){var e=this.doc;return e.cm=null,vo(this,t),pr(this),this.display.input.reset(),ii(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Mn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}function Xa(t,e,n,r,i){var o=e,s=n,a=ut(t,e.line);function l(){var r=e.line+n;return!(r<t.first||r>=t.first+t.size)&&(e=new vt(r,e.ch,e.sticky),a=ut(t,r))}function u(r){var o;if(o=i?Gs(t.cm,a,e,n):qs(a,e,n),null==o){if(r||!l())return!1;e=Ks(i,t.cm,a,e.line,n)}else e=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var c=null,h="group"==r,p=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;;d=!1){if(n<0&&!u(!d))break;var f=a.text.charAt(e.ch)||"\n",m=nt(f,p)?"w":h&&"\n"==f?"n":!h||/\s/.test(f)?null:"p";if(!h||d||m||(m="s"),c&&c!=m){n<0&&(n=1,u(),e.sticky="after");break}if(m&&(c=m),n>0&&!u(!d))break}var g=qo(t,e,o,s,!0);return yt(o,g)&&(g.hitSide=!0),g}function Ya(t,e,n,r){var i,o,s=t.doc,a=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Mr(t.display),3);i=(n>0?e.bottom:e.top)+n*u}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){if(o=xr(t,a,i),!o.outside)break;if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Ja=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qa(t,e){var n=er(t,e.line);if(!n||n.hidden)return null;var r=ut(t.doc,e.line),i=Qn(n,r,e.line),o=ce(r,t.doc.direction),s="left";if(o){var a=le(o,e.ch);s=a%2?"right":"left"}var l=sr(i.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function Za(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function tl(t,e){return e&&(t.bad=!0),t}function el(t,e,n,r,i){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function u(t){return function(e){return e.id==t}}function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function h(t){t&&(c(),o+=t)}function p(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void h(n);var o,d=e.getAttribute("cm-marker");if(d){var f=t.findMarks(vt(r,0),vt(i+1,0),u(+d));return void(f.length&&(o=f[0].find(0))&&h(ct(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;m&&c();for(var g=0;g<e.childNodes.length;g++)p(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),m&&(s=!0)}else 3==e.nodeType&&h(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(p(e),e==n)break;e=e.nextSibling,l=!1}return o}function nl(t,e,n){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[n],!r)return tl(t.clipPos(vt(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return rl(o,e,n)}}function rl(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!A(r,e))return tl(vt(dt(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?X(t.rest):t.line;return tl(vt(dt(o),o.text.length),i)}var s=3==e.nodeType?e:null,a=e;s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));while(a.parentNode!=r)a=a.parentNode;var l=t.measure,u=l.maps;function c(e,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var c=dt(i<0?t.line:t.rest[i]),h=o[s]+r;return(r<0||a!=e)&&(h=o[s+(r?1:0)]),vt(c,h)}}}var h=c(s,a,n);if(h)return tl(h,i);for(var p=a.nextSibling,d=s?s.nodeValue.length-n:0;p;p=p.nextSibling){if(h=c(p,p.firstChild,0),h)return tl(vt(h.line,h.ch-d),i);d+=p.textContent.length}for(var f=a.previousSibling,m=n;f;f=f.previousSibling){if(h=c(f,f.firstChild,-1),h)return tl(vt(h.line,h.ch+m),i);m+=f.textContent.length}}Ja.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){if(!ge(r,t)){if(r.somethingSelected())Ha({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Ua(r);Ha({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,W),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var o=za.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=Ka(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=za.text.join("\n");var l=document.activeElement;R(a),setTimeout((function(){r.display.lineSpace.removeChild(s),l.focus(),l==i&&n.showPrimarySelection()}),50)}}qa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",(function(t){ge(r,t)||Wa(t,r)||a<=11&&setTimeout(Oi(r,(function(){return e.updateFromDOM()})),20)})),pe(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),pe(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),pe(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),pe(i,"touchstart",(function(){return n.forceCompositionEnd()})),pe(i,"input",(function(){e.composing||e.readFromDOMSoon()})),pe(i,"copy",o),pe(i,"cut",o)},Ja.prototype.prepareSelection=function(){var t=jr(this.cm,!1);return t.focus=this.cm.state.focused,t},Ja.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ja.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ja.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=nl(e,t.anchorNode,t.anchorOffset),a=nl(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=_t(xt(s,a),i)||0!=_t(wt(s,a),o)){var l=e.display.view,u=i.line>=e.display.viewFrom&&Qa(e,i)||{node:l[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&Qa(e,o);if(!c){var h=l[l.length-1].measure,p=h.maps?h.maps[h.maps.length-1]:h.map;c={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(u&&c){var d,f=t.rangeCount&&t.getRangeAt(0);try{d=S(u.node,u.offset,c.offset,c.node)}catch(m){}d&&(!n&&e.state.focused?(t.collapse(u.node,u.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),f&&null==t.anchorNode?t.addRange(f):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ja.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Ja.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},Ja.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ja.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},Ja.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ja.prototype.blur=function(){this.div.blur()},Ja.prototype.getField=function(){return this.div},Ja.prototype.supportsTouch=function(){return!0},Ja.prototype.receivedFocus=function(){var t=this;function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}this.selectionInEditor()?this.pollSelection():Ei(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,e)},Ja.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ja.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(g&&c&&this.cm.options.gutters.length&&Za(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(e,t.anchorNode,t.anchorOffset),r=nl(e,t.focusNode,t.focusOffset);n&&r&&Ei(e,(function(){zo(e.doc,oo(n,r),W),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},Ja.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=vt(s.line-1,ut(r.doc,s.line-1).length)),a.ch==ut(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=vt(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(t=Pr(r,s.line))?(e=dt(i.view[0].line),n=i.view[0].node):(e=dt(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,u,c=Pr(r,a.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=dt(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;var h=r.doc.splitLines(el(r,n,u,e,l)),p=ct(r.doc,vt(e,0),vt(l,ut(r.doc,l).text.length));while(h.length>1&&p.length>1)if(X(h)==X(p))h.pop(),p.pop(),l--;else{if(h[0]!=p[0])break;h.shift(),p.shift(),e++}var d=0,f=0,m=h[0],g=p[0],v=Math.min(m.length,g.length);while(d<v&&m.charCodeAt(d)==g.charCodeAt(d))++d;var _=X(h),y=X(p),b=Math.min(_.length-(1==h.length?d:0),y.length-(1==p.length?d:0));while(f<b&&_.charCodeAt(_.length-f-1)==y.charCodeAt(y.length-f-1))++f;if(1==h.length&&1==p.length&&e==s.line)while(d&&d>s.ch&&_.charCodeAt(_.length-f-1)==y.charCodeAt(y.length-f-1))d--,f++;h[h.length-1]=_.slice(0,_.length-f).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var w=vt(e,d),x=vt(l,p.length?X(p).length-f:0);return h.length>1||h[0]||_t(w,x)?(ns(r.doc,h,w,x,"+input"),!0):void 0},Ja.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ja.prototype.reset=function(){this.forceCompositionEnd()},Ja.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ja.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Ja.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Ei(this.cm,(function(){return Ai(t.cm)}))},Ja.prototype.setUneditable=function(t){t.contentEditable="false"},Ja.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Oi(this.cm,$a)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ja.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ja.prototype.onContextMenu=function(){},Ja.prototype.resetPosition=function(){},Ja.prototype.needsContentAttribute=!0;var il=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};function ol(t,e){if(e=e?B(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=D();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=a.getValue()}var i;if(t.form&&(pe(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(l){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(fe(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var a=Pa((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a}function sl(t){t.off=fe,t.on=pe,t.wheelEventPixels=to,t.Doc=ws,t.splitLines=Ae,t.countColumn=j,t.findColumn=q,t.isWordChar=et,t.Pass=$,t.signal=me,t.Line=un,t.changeEnd=so,t.scrollbarModel=gi,t.Pos=vt,t.cmpPos=_t,t.modes=Pe,t.mimeModes=Be,t.resolveMode=ze,t.getMode=He,t.modeExtensions=$e,t.extendMode=We,t.copyState=Ve,t.startState=qe,t.innerMode=Ue,t.commands=Xs,t.keyMap=Ps,t.keyName=$s,t.isModifierKey=zs,t.lookupKey=Fs,t.normalizeKeyMap=js,t.StringStream=Ke,t.SharedTextMarker=ms,t.TextMarker=ds,t.LineWidget=us,t.e_preventDefault=be,t.e_stopPropagation=we,t.e_stop=ke,t.addClass=L,t.contains=A,t.rmClass=T,t.keyNames=Ds}il.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!ge(r,t)){if(r.somethingSelected())Ha({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Ua(r);Ha({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,W):(n.prevInput="",i.value=e.text.join("\n"),R(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),pe(i,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),pe(i,"paste",(function(t){ge(r,t)||Wa(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,"cut",o),pe(i,"copy",o),pe(t.scroller,"paste",(function(e){if(!Vn(t,e)&&!ge(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}})),pe(t.lineSpace,"selectstart",(function(e){Vn(t,e)||be(e)})),pe(i,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(t){this.wrapper=Ka(),this.textarea=this.wrapper.firstChild},il.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=jr(t);if(t.options.moveInputWithCursor){var i=yr(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},il.prototype.showSelection=function(t){var e=this.cm,n=e.display;O(n.cursorDiv,t.cursors),O(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},il.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&R(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||D()!=this.textarea))try{this.textarea.focus()}catch(t){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},il.prototype.fastPoll=function(){var t=!1,e=this;function n(){var r=e.poll();r||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}e.pollingFast=!0,e.polling.set(20,n)},il.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||De(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||_&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}var l=0,u=Math.min(r.length,i.length);while(l<u&&r.charCodeAt(l)==i.charCodeAt(l))++l;return Ei(e,(function(){$a(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=Rr(n,t),u=r.scroller.scrollTop;if(o&&!h){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(o)&&Oi(n,zo)(n.doc,oo(o),W);var p,d=i.style.cssText,f=e.wrapper.style.cssText,m=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-m.top-5)+"px; left: "+(t.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(p=window.scrollY),r.input.focus(),l&&window.scrollTo(null,p),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=_,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&v(),k){ke(t);var g=function(){fe(window,"mouseup",g),setTimeout(_,20)};pe(window,"mouseup",g)}else setTimeout(_,50)}function v(){if(null!=i.selectionStart){var t=n.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function _(){if(e.contextMenuPending==_&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,i.style.cssText=d,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!s||s&&a<9)&&v();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?Oi(n,Go)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},il.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,Da(Pa),Ga(Pa);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in ws.prototype)ws.prototype.hasOwnProperty(ll)&&z(al,ll)<0&&(Pa.prototype[ll]=function(t){return function(){return t.apply(this.doc,arguments)}}(ws.prototype[ll]));return ye(ws),Pa.inputStyles={textarea:il,contenteditable:Ja},Pa.defineMode=function(t){Pa.defaults.mode||"null"==t||(Pa.defaults.mode=t),je.apply(this,arguments)},Pa.defineMIME=Fe,Pa.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Pa.defineMIME("text/plain","null"),Pa.defineExtension=function(t,e){Pa.prototype[t]=e},Pa.defineDocExtension=function(t,e){ws.prototype[t]=e},Pa.fromTextArea=ol,sl(Pa),Pa.version="5.45.0",Pa}))},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},5865:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f8}));var r=n("6f27"),i=n("703f"),o=n("b923"),s=n("6ffb"),a=n("e3da"),l=n("442c"),u=n("72a8"),c=n("f201"),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},h(t,e)};function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},d.apply(this,arguments)};function f(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function g(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}var v=g;function _(t,e){var n,r,i,o,s=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)s.call(n,r)&&(t[r]=n[r]);return t}var y=_;function b(t){return"string"===typeof t||t instanceof String}var w=b;function x(t){return t instanceof Array}var k=x;function C(t,e,n){var r=0,i=t.length;for(n=n||null;r<i;r+=1)if(!1===e.call(n,t[r],r,t))break}var S=C,T=k,E=S,O=v;function M(t,e,n){T(t)?E(t,e,n):O(t,e,n)}var N=M,A=w,D=N;function L(t,e,n){var r=t.style;A(e)?r[e]=n:D(e,(function(t,e){r[e]=t}))}var I=L,R=k;function P(t,e,n){var r,i;if(n=n||0,!R(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,r=n;n>=0&&r<i;r+=1)if(e[r]===t)return r;return-1}var B=P;function j(t){return void 0===t}var F=j,z=F;function H(t){return t&&t.className?z(t.className.baseVal)?t.className:t.className.baseVal:""}var $=H,W=k,V=F;function U(t,e){e=W(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),V(t.className.baseVal)?t.className=e:t.className.baseVal=e}var q=U,K=N,G=B,X=$,Y=q;function J(t){var e,n=Array.prototype.slice.call(arguments,1),r=t.classList,i=[];r?K(n,(function(e){t.classList.add(e)})):(e=X(t),e&&(n=[].concat(e.split(/\s+/),n)),K(n,(function(t){G(t,i)<0&&i.push(t)})),Y(t,i))}var Q=J,Z=S,tt=B,et=$,nt=q;function rt(t){var e,n,r=Array.prototype.slice.call(arguments,1),i=t.classList;i?Z(r,(function(t){i.remove(t)})):(e=et(t).split(/\s+/),n=[],Z(e,(function(t){tt(t,r)<0&&n.push(t)})),nt(t,n))}var it=rt;function ot(t){return"number"===typeof t||t instanceof Number}var st=ot;function at(t){return null===t}var lt=at,ut=v;function ct(t,e){var n=document.createElement("img"),r="";return ut(e,(function(t,e){r+="&"+e+"="+t})),r=r.substring(1),n.src=t+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}var ht=ct,pt=F,dt=ht,ft=6048e5;function mt(t){var e=(new Date).getTime();return e-t>ft}function gt(t,e){var n="https://www.google-analytics.com/collect",r=location.hostname,i="event",o="use",s="TOAST UI "+t+" for "+r+": Statistics",a=window.localStorage.getItem(s);(pt(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!mt(a)||(window.localStorage.setItem(s,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||dt(n,{v:1,t:i,tid:e,cid:r,dp:r,dh:t,el:t,ec:o})}),1e3)))}var vt=gt;/Mac/.test(navigator.platform);var _t=/[\u0020]+/g,yt=/[>(){}[\]+-.!#|]/g,bt=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,wt=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,xt=/[*_~`]/g,kt=/!\[.*\]\(.*\)/g,Ct=/[[\]]/g,St=/(?:^|[^\\])\\(?!\\)/g,Tt='[&<>"]',Et=new RegExp(Tt,"g");function Ot(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Mt(t){return Et.test(t)?t.replace(Et,Ot):t}function Nt(){vt("editor","UA-129966929-1")}function At(t,e){return-1!==t.indexOf(e)}var Dt=["rel","target","hreflang","type"],Lt={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function It(t){if(!t)return null;var e={};return Dt.forEach((function(n){F(t[n])||(e[n]=t[n])})),e}function Rt(t,e){for(var n="",r=0;r<e;r+=1)n+=t;return n}function Pt(t){var e=!1;return v(Lt,(function(n){return n.test(t)&&(e=!0),!e})),e}function Bt(t){var e=[],n=kt.exec(t);while(n)e.push([n.index,n.index+n[0].length]),n=kt.exec(t);return t.replace(Ct,(function(t,n){var r=e.some((function(t){return n>t[0]&&n<t[1]}));return r?t:"\\"+t}))}function jt(t){var e=function(t){return"\\"+t},n=function(t){return t+"\\"},r=t.replace(_t," ");return wt.test(r)&&(r=r.replace(wt,e)),St.test(r)&&(r=r.replace(St,n)),r=r.replace(xt,e),bt.test(r)&&(r=r.replace(bt,e)),Pt(r)&&(r=r.replace(yt,e)),r}function Ft(t){var e;return e=-1===t.indexOf('"')?'""':-1===t.indexOf("'")?"''":"()",e[0]+t+e[1]}function zt(t){return lt(t)||F(t)}function Ht(t,e){if(null===t&&t===e)return!0;if("object"!==typeof t||"object"!==typeof e||zt(t)||zt(e))return t===e;for(var n in t)if(t[n]!==e[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function $t(t){return t[t.length-1]}function Wt(t,e,n){return t>=e&&t<=n}function Vt(t){return"object"===typeof t&&null!==t}function Ut(t,e){var n=d({},t);return t&&e&&Object.keys(e).forEach((function(t){Vt(n[t])?Array.isArray(e[t])?n[t]=qt(e[t]):n.hasOwnProperty(t)?n[t]=Ut(n[t],e[t]):n[t]=Kt(e[t]):n[t]=e[t]})),n}function qt(t){return t.map((function(t){return Vt(t)?Array.isArray(t)?qt(t):Kt(t):t}))}function Kt(t){var e=Object.keys(t);return e.length?e.reduce((function(e,n){return Vt(t[n])?e[n]=Array.isArray(t[n])?qt(t[n]):Kt(t[n]):e[n]=t[n],e}),{}):t}function Gt(t,e){return void 0===e&&(e={}),Object.keys(e).forEach((function(n){t.hasOwnProperty(n)&&"object"===typeof t[n]?Array.isArray(e[n])?t[n]=e[n]:Gt(t[n],e[n]):t[n]=e[n]})),t}function Xt(t,e){return t>e?[e,t]:[t,e]}function Yt(t){var e=/^\s(\S*)/g;return e.test(t)}function Jt(t){var e=/(\S*)\s$/g;return e.test(t)}var Qt=S;function Zt(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],Qt(t,(function(t){e.push(t)}))}return e}var te=Zt;function ee(t,e){var n=t.nodes.paragraph;return e?n.create(null,w(e)?t.text(e):e):n.createAndFill()}function ne(t,e,n){return t.text(e,n)}function re(t,e,n){void 0===n&&(n=e);var r=t.doc.content.size,i=r>0?r-1:1;return s["h"].create(t.doc,Math.min(e,i),Math.min(n,i))}function ie(t,e,n){var r=e.pos;return t.replaceWith(r,r,ee(n)),t.setSelection(re(t,r+1))}function oe(t){for(var e=t.state,n=t.from,i=t.startIndex,o=t.endIndex,s=t.createText,a=e.tr,l=e.doc,u=e.schema,c=i;c<=o;c+=1){var h=l.child(c),p=h.nodeSize,d=h.textContent,f=h.content,m=s(d),g=m?ne(u,m):r["c"].empty,v=a.mapping.map(n),_=v+f.size;a.replaceWith(v,_,g),n+=p}return a}function se(t,e,n,r){var i=n.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),r).setSelection(re(t,t.mapping.map(e)-i))}function ae(t){return t.sourcepos[0][0]}function le(t){return t.sourcepos[1][0]}function ue(t){return t.sourcepos[0][1]}function ce(t){return t.sourcepos[1][1]}function he(t){var e=t.type;return"htmlBlock"===e||"htmlInline"===e}function pe(t){var e=t.type;return"strike"===e||"strong"===e||"emph"===e||"code"===e||"link"===e||"image"===e}function de(t){return t&&"codeBlock"===t.type}function fe(t){return t&&("item"===t.type||"list"===t.type)}function me(t){return fe(t)&&"ordered"===t.listData.type}function ge(t){return fe(t)&&"ordered"!==t.listData.type}function ve(t){return t&&("tableCell"===t.type||"tableDelimCell"===t.type)}function _e(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function ye(t,e,n){void 0===n&&(n=!0),t=n?t:t.parent;while(t&&"document"!==t.type){if(e(t))return t;t=t.parent}return null}function be(t,e,n){void 0===n&&(n=!0),t=n?t:t.parent;while(t&&"document"!==t.type)e(t),t=t.parent}function we(t,e){return[t[0],t[1]+e]}function xe(t,e){return[t[0],e]}function ke(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var n=t,r=n.destination,i=n.title,o="link"===t.type?"":"!";return o+"["+e+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function Ce(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function Se(t){var e=[],n=t.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var Te=[],Ee={},Oe=/\$\$widget\d+\s/;function Me(t){var e=t.search(Oe);if(-1!==e){var n=t.substring(e),r=n.replace(Oe,"").replace("$$","");t=t.substring(0,e),t+=Me(r)}return t}function Ne(t,e){return"$$"+t+" "+e+"$$"}function Ae(t,e){var n=Ee[t],r=n.rule,i=n.toDOM,o=Me(e).match(r);return o&&(e=o[0]),i(e)}function De(){return Te}function Le(t){Te=t,Te.forEach((function(t,e){Ee["widget"+e]=t}))}function Ie(t,e,n,r){return t.concat(Re(e,n,r))}function Re(t,e,n){void 0===n&&(n=0);var r=[],i=(Te[n]||{}).rule,o=n+1;if(t=Me(t),i&&i.test(t)){var s=void 0;while(-1!==(s=t.search(i))){var a=t.substring(0,s);a&&(r=Ie(r,a,e,o)),t=t.substring(s);var l=t.match(i)[0],u="widget"+n;r.push(e.nodes.widget.create({info:u},e.text(Ne(u,l)))),t=t.substring(l.length)}t&&(r=Ie(r,t,e,o))}else t&&(r=n<Te.length-1?Ie(r,t,e,o):[e.text(t)]);return r}function Pe(t){var e,n="",r=t.walker();while(e=r.next()){var i=e.node,o=e.entering;o&&(i!==t&&"text"!==i.type?(n+=ke(i),r.resumeAt(t,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}function Be(){return{deleteSelection:function(){return l["c"]},selectAll:function(){return l["g"]},undo:function(){return c["c"]},redo:function(){return c["b"]}}}function je(t){return new s["d"]({props:{decorations:function(e){var n=e.doc;if(t.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return Q(r,"placeholder"),t.className&&Q(r,t.className),r.textContent=t.text,i["b"].create(n,[i["a"].widget(1,r)])}return null}}})}var Fe=B,ze=$;function He(t,e){var n;return t.classList?t.classList.contains(e):(n=ze(t).split(/\s+/),Fe(e,n)>-1)}var $e=He,We=B,Ve=te,Ue=Element.prototype,qe=Ue.matches||Ue.webkitMatchesSelector||Ue.mozMatchesSelector||Ue.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return We(this,Ve(e.querySelectorAll(t)))>-1};function Ke(t,e){return qe.call(t,e)}var Ge=Ke,Xe="[A-Za-z][A-Za-z0-9-]*",Ye="[a-zA-Z_:][a-zA-Z0-9:._-]*",Je="[^\"'=<>`\\x00-\\x20]+",Qe="'[^']*'",Ze='"[^"]*"',tn="(?:"+Je+"|"+Qe+"|"+Ze+")",en="(?:\\s*=\\s*"+tn+")",nn="(?:\\s+"+Ye+en+"?)",rn="<("+Xe+")("+nn+")*\\s*/?>",on="</("+Xe+")\\s*[>]",sn="(?:"+rn+"|"+on+")",an=new RegExp("^"+sn,"i"),ln=/<br\s*\/*>/i,un=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,cn="</p><p>",hn="a";function pn(t,e,n){var r=parseInt(t.left,10),i=parseInt(t.top,10),o=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),s=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=r&&e<=r+o&&n>=i&&n<=i+s}var dn="toastui-editor-";function fn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=void 0;s=Array.isArray(o)?o[0]?o[1]:null:o,s&&n.push(""+dn+s)}return n.join(" ")}function mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return dn+"md-"+t})).join(" ")}function gn(t){return(null===t||void 0===t?void 0:t.nodeType)===Node.TEXT_NODE}function vn(t){return t&&t.nodeType===Node.ELEMENT_NODE}function _n(t,e){var n=te(t.querySelectorAll(e));return n.length?n:[]}function yn(t,e){e=k(e)?te(e):[e],e.forEach((function(e){t.appendChild(e)}))}function bn(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function wn(t){t.parentNode&&t.parentNode.removeChild(t)}function xn(t){var e=[];while(t.firstChild)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return wn(t),e}function kn(t,e,n){F(n)&&(n=!$e(t,e));var r=n?Q:it;r(t,e)}function Cn(t,e){var n=document.createElement("div");w(t)?n.innerHTML=t:n.appendChild(t);var r=n.firstChild;return e&&e.appendChild(r),r}function Sn(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce((function(t,n){return t+parseInt(e.getPropertyValue(n),10)}),0)+t.offsetWidth}function Tn(t,e){var n;n=w(e)?function(t){return Ge(t,e)}:function(t){return t===e};while(t&&t!==document){if(vn(t)&&n(t))return t;t=t.parentNode}return null}function En(t,e){var n=0,r=0;while(t&&t!==e){var i=t.offsetTop,o=t.offsetLeft,s=t.offsetParent;if(n+=i,r+=o,s===e.offsetParent)break;t=t.offsetParent}return{offsetTop:n,offsetLeft:r}}function On(t,e){Object.keys(t).forEach((function(n){zt(t[n])?e.removeAttribute(n):e.setAttribute(n,t[n])}))}function Mn(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),n=new RegExp(sn,"ig"),r=e.match(n);return null===r||void 0===r||r.forEach((function(t,n){if(ln.test(t)){var i=cn;if(n){var o=r[n-1],s=o.match(rn);if(s&&!/br/i.test(s[1])){var a=s[1];i="</"+a+"><"+a+">"}}e=e.replace(ln,i)}})),e}function Nn(t){var e=/<img class="ProseMirror-separator" alt="">/g,n=/ class="ProseMirror-trailingBreak"/g,r=t;return r=r.replace(e,""),r=r.replace(n,""),r}var An=new s["e"]("widget"),Dn=5,Ln=function(){function t(t,e){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=t.dom.parentElement,this.eventEmitter=e,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",(function(){n.rootEl=Tn(t.dom.parentElement,"."+fn("defaultUI"))})),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(t){var e=An.getState(t.state);if(this.removeWidget(),e){var n=e.node,r=e.style,i=t.coordsAtPos(e.pos),o=i.top,s=i.left,a=i.bottom,l=a-o,u=this.rootEl.getBoundingClientRect(),c=o-u.top;I(n,{opacity:"0"}),this.rootEl.appendChild(n),I(n,{position:"absolute",left:s-u.left+Dn+"px",top:("bottom"===r?c+l-Dn:c-l)+"px",opacity:"1"}),this.popup=n,t.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function In(t){return new s["d"]({key:An,state:{init:function(){return null},apply:function(t){return t.getMeta("widget")}},view:function(e){return new Ln(e,t)}})}function Rn(t){t.listen("addImageBlobHook",(function(t,e){var n=new FileReader;n.onload=function(t){var n=t.target;return e(n.result)},n.readAsDataURL(t)}))}function Pn(t,e,n){var r=function(n,r){t.emit("command","addImage",{imageUrl:n,altText:r||e.name||"image"})};t.emit("addImageBlobHook",e,r,n)}function Bn(t){var e=te(t).filter((function(t){var e=t.type;return-1!==e.indexOf("image")}));if(1===e.length){var n=e[0];if(n)return n.getAsFile()}return null}function jn(t){var e=t.eventEmitter;return new s["d"]({props:{handleDOMEvents:{drop:function(t,n){var r,i=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return i&&S(i,(function(t){return-1===t.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),Pn(e,t,n.type),!1)})),!0}}}})}var Fn=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function zn(t){var e=document.createElement("span"),n=Ae(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(n),{dom:e}}function Hn(t){return"widget"===t.type.name}var $n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var e=t.textContent,n=e.match(/\$\$(widget\d+)/),r=n[1];return{info:r}}}]}},enumerable:!1,configurable:!0}),e}(Fn),Wn=function(){function t(t){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=t,this.placeholder={text:""}}return t.prototype.createState=function(){return s["b"].create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var t=this,e=t.eventEmitter,n=t.view,r=t.editorType;n.dom.addEventListener("focus",(function(){return e.emit("focus",r)})),n.dom.addEventListener("blur",(function(){return e.emit("blur",r)}))},t.prototype.emitChangeEvent=function(t){this.eventEmitter.emit("caretChange",this.editorType),t.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var t=this.createInputRules(),e=f(f([],this.keymaps),[Object(a["a"])(d({"Shift-Enter":l["a"].Enter},l["a"])),Object(c["a"])(),je(this.placeholder),In(this.eventEmitter),jn(this.context)]);return t?e.concat(t):e},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var t=De(),e=t.map((function(t){var e=t.rule;return new u["a"](e,(function(t,n,r,i){var o=t.schema,s=t.tr,a=t.doc,l=n.input.match(new RegExp(e,"g")),u=a.resolve(r),c=u.parent,h=0;if(Hn(c)&&(c=u.node(u.depth-1)),c.forEach((function(t){return Hn(t)&&(h+=1)})),l.length>h){var p=$t(l),d=Re(p,o);return s.replaceWith(i-p.length+1,i,d)}return null}))}));return e.length?Object(u["b"])({rules:e}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new r["i"]({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(t){var e=Be(),n=e.undo,r=e.redo,i=this.specs.keymaps(t),o={"Mod-z":n(),"Shift-Mod-z":r()};return t?i.concat(Object(a["a"])(o)):i},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var t=this;return this.extraPlugins.map((function(e){return e(t.eventEmitter)}))},t.prototype.focus=function(){var t=this;this.clearTimer(),this.timer=setTimeout((function(){t.view.focus(),t.view.dispatch(t.view.state.tr.scrollIntoView())}))},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var t=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach((function(e){delete t[e]}))},t.prototype.moveCursorToStart=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(re(e,1)).scrollIntoView()),t&&this.focus()},t.prototype.moveCursorToEnd=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(re(e,e.doc.content.size-1)).scrollIntoView()),t&&this.focus()},t.prototype.setScrollTop=function(t){this.view.dom.scrollTop=t},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(t){this.placeholder.text=t,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(t){I(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){I(this.el,{minHeight:t+"px"})},t.prototype.getElement=function(){return this.el},t}();function Vn(t){return t instanceof Function}var Un=Vn,qn=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Kn(t,e,n){return t.focus(),e(n)(t.state,t.dispatch,t)}var Gn=function(){function t(t){this.specs=t}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return d(d({},t),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return d(d({},t),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(t,e){var n=this.specs.filter((function(t){var e=t.commands;return e})).reduce((function(e,n){var r={},i=n.commands();return Un(i)?r[n.name]=function(e){return Kn(t,i,e)}:Object.keys(i).forEach((function(e){r[e]=function(n){return Kn(t,i[e],n)}})),d(d({},e),r)}),{}),r=Be();return Object.keys(r).forEach((function(e){n[e]=function(n){return Kn(t,r[e],n)}})),e&&Object.keys(e).forEach((function(r){n[r]=function(n){return Kn(t,e[r],n)}})),n},t.prototype.keymaps=function(t){var e=this.specs.filter((function(t){return t.keymaps})).map((function(t){return t.keymaps()}));return e.map((function(e){return t||Object.keys(e).forEach((function(t){At(qn,t)||delete e[t]})),Object(a["a"])(e)}))},t.prototype.setContext=function(t){this.specs.forEach((function(e){e.setContext(t)}))},t}();function Xn(t){var e=t.from,n=t.to;return t instanceof s["a"]?[e+1,n-1]:[e,n]}function Yn(t){return t.index(0)+1}function Jn(t,e,n){void 0===n&&(n=1);var r=0;return t.forEach((function(t,i){Hn(t)&&i+2<e&&(r+=2*n)})),r}function Qn(t,e,n){void 0===n&&(n=e);var r=e===n,i=t.resolve(e),o=Yn(i),s=o,a=i.start(1),l=a;if(!r){var u=t.resolve(n===t.content.size?n-1:n);l=u.start(1),s=Yn(u),u.pos===t.content.size&&(n=t.content.size-2)}var c=Math.max(e-a+1,1),h=Math.max(n-l+1,1);return[[o,c+Jn(t.child(o-1),c,-1)],[s,h+Jn(t.child(s-1),h,-1)]]}function Zn(t,e){for(var n=[],r=0,i=0;r<e;r+=1){var o=t.child(r);n[r]=i,i+=o.nodeSize}return n}function tr(t,e,n){var r=Zn(t,n[0]),i=e[0]-1,o=n[0]-1,s=t.child(i),a=t.child(o),l=r[i],u=r[o];return l+=e[1]+Jn(s,e[1]-1),u+=n[1]+Jn(a,n[1]-1),[l,Math.min(u,t.content.size)]}function er(t){var e=t.$from,n=t.$to,r=t.from,i=t.to,o=e.doc;return t instanceof s["a"]&&(e=o.resolve(r+1),n=o.resolve(i-1)),0===e.depth&&(e=o.resolve(r-1),n=e),{startFromOffset:e.start(1),endFromOffset:n.start(1),startToOffset:e.end(1),endToOffset:n.end(1),startIndex:e.index(0),endIndex:n.index(0),from:e.pos,to:n.pos}}function nr(t,e){for(var n=1,r=1,i=0,o=0;i<t.childCount;i+=1){var s=t.child(i).nodeSize;if(n=o+1,r=o+s-1,i===e)break;o+=s}return{startOffset:n,endOffset:r}}var rr="heading",ir="blockQuote",or="listItem",sr="table",ar="tableCell",lr="codeBlock",ur="thematicBreak",cr="link",hr="code",pr="meta",dr="delimiter",fr="taskDelimiter",mr="markedText",gr="html",vr="customBlock",_r={strong:2,emph:1,strike:2};function yr(t,e,n,r){return{start:t,end:e,spec:{type:n,attrs:r}}}function br(t,e,n){var r=t.level,i=t.headingType,o=[yr(e,n,rr,{level:r})];return"atx"===i?o.push(yr(e,we(e,r),dr)):o.push(yr(xe(n,0),n,rr,{seText:!0})),o}function wr(t,e,n){var r=t.type,i=we(e,_r[r]),o=we(n,-_r[r]);return[yr(i,o,r),yr(e,i,dr),yr(o,n,dr)]}function xr(t,e,n,r){return[yr(t,e,cr),yr(xe(t,n[1]+1),xe(e,r),cr,{desc:!0}),yr(xe(e,r+2),we(e,-1),cr,{url:!0})]}function kr(t,e,n){var r=t.lastChild,i=r?ce(r)+1:3,o=we(e,1);return f([yr(e,o,pr)],xr(e,n,o,i))}function Cr(t,e,n){var r=t.lastChild,i=t.extendedAutolink,o=r?ce(r)+1:2;return i?[yr(e,n,cr,{desc:!0})]:xr(e,n,e,o)}function Sr(t,e,n){var r=t.tickCount,i=we(e,r),o=we(n,-r);return[yr(e,n,hr),yr(e,i,hr,{start:!0}),yr(i,o,hr,{marked:!0}),yr(o,n,hr,{end:!0})]}function Tr(t,e,n,r){var i={start:e,end:n,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==t.type&&"blockQuote"!==t.type?[d(d({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),d(d({},i),{start:[Math.min(e[0]+1,n[0]),e[1]]})]:null}function Er(t,e,n,r){var i=t.fenceOffset,o=t.fenceLength,s=t.fenceChar,a=t.info,l=t.infoPadding,u=t.parent,c=i+o,h=[yr(xe(e,1),n,lr)];s&&h.push(yr(e,we(e,c),dr)),a&&h.push(yr(we(e,o),we(e,o+l+a.length),pr));var p="^(\\s{0,4})("+s+"{"+o+",})",d=new RegExp(p);d.test(r)&&h.push(yr(xe(n,1),n,dr));var f=Tr(u,e,n,"code-block");return f?h.concat(f):h}function Or(t,e,n){var r=t,i=r.offset,o=r.syntaxLength,s=r.info,a=r.parent,l=i+o,u=[yr(xe(e,1),n,vr)];u.push(yr(e,we(e,l),dr)),s&&u.push(yr(we(e,l),we(e,o+s.length),pr)),u.push(yr(xe(n,1),n,dr));var c=Tr(a,e,n,"custom-block");return c?u.concat(c):u}function Mr(t,e){var n=[];while(t){var r=t.type;"paragraph"!==r&&"codeBlock"!==r||n.push(yr([ae(t),ue(t)-1],[le(t),ce(t)+1],e)),t=t.next}return n}function Nr(t){var e=[];while(t)e.push(yr([ae(t),ue(t)],[le(t),ce(t)+1],mr)),t=t.next;return e}function Ar(t,e,n){var r=t.parent&&"blockQuote"!==t.parent.type?[yr(e,n,ir)]:[];if(t.firstChild){var i=[];"paragraph"===t.firstChild.type?i=Nr(t.firstChild.firstChild):"list"===t.firstChild.type&&(i=Mr(t.firstChild,mr)),r=f(f([],r),i)}return r}function Dr(t){var e=0;while(t.parent.parent&&"item"===t.parent.parent.type)t=t.parent.parent,e+=1;var n=[{odd:!0},{even:!0}][e%2];return[or,d(d({},n),{listStyle:!0})]}function Lr(t,e){var n=t.listData,r=n.padding,i=n.task,o=Dr(t),s=[yr.apply(void 0,f([e,we(e,r)],o))];return i&&(s.push(yr(we(e,r),we(e,r+3),fr)),s.push(yr(we(e,r+1),we(e,r+2),pr))),s.concat(Mr(t.firstChild,mr))}var Ir={heading:br,strong:wr,emph:wr,strike:wr,link:Cr,image:kr,code:Sr,codeBlock:Er,blockQuote:Ar,item:Lr,customBlock:Or},Rr={thematicBreak:ur,table:sr,tableCell:ar,htmlInline:gr};function Pr(t,e,n,r){var i=t.type;return Un(Ir[i])?Ir[i](t,e,n,r):Rr[i]?[yr(e,n,Rr[i])]:null}var Br={};function jr(t){var e=t.schema,n=t.toastMark;return new s["d"]({appendTransaction:function(t,r,i){var o=t[0],s=i.tr;if(o.docChanged){var a=[],l=o.getMeta("editResult");l.forEach((function(t){var e=t.nodes,r=t.removedNodeRange;if(e.length){a=a.concat(Vr(s,e));for(var i=0,o=e;i<o.length;i++){var l=o[i],u=l.walker(),c=u.next();while(c){var h=c.node,p=c.entering;p&&(a=a.concat(Ur(h,n))),c=u.next()}}}else if(r)for(var d=s.doc.childCount-1,f=r.line,m=f[0],g=f[1],v=Math.min(m,d),_=Math.min(g,d),y=v;y<=_;y+=1)Br[y]=!0})),Hr(s,e,a)}return s.setMeta("widget",o.getMeta("widget"))}})}function Fr(t,e,n){return Object.keys(n).some((function(r){return n[r]!==t.child(e).attrs[r]}))}function zr(t,e,n,r,i){void 0===i&&(i={});for(var o=r.startIndex,s=r.endIndex,a=r.from,l=r.to,u=!1,c=o;c<=s;c+=1)delete Br[c],u=Fr(e,c,i);u&&t.setBlockType(a,l,n,i)}function Hr(t,e,n){var r=t.doc,i=e.nodes.paragraph,o=Zn(r,r.childCount);n.forEach((function(n){var s=n.start,a=n.end,l=n.spec,u=n.lineBackground,c=Math.min(s[0],r.childCount)-1,h=Math.min(a[0],r.childCount)-1,p=r.child(c),d=r.child(h),f=o[c],m=o[h];if(f+=s[1]+Jn(p,s[1]-1),m+=a[1]+Jn(d,a[1]-1),l)if(u){var g={from:f,to:m,startIndex:c,endIndex:h};zr(t,r,i,g,l.attrs)}else t.addMark(f,m,e.mark(l.type,l.attrs));else t.removeMark(f,m)})),$r(t,o,i)}function $r(t,e,n){Object.keys(Br).forEach((function(r){var i=Number(r),o=Math.min(Number(r)+1,t.doc.childCount-1),s=e[i],a=e[o]-1;i===o&&(a+=2),t.setBlockType(s,a,n)}))}function Wr(t,e,n){var r=[];Br={};for(var i=e[0]-1;i<n[0];i+=1){var o=t.child(i),s=o.attrs.codeEnd,a=o.attrs.codeStart;if(a&&s&&!At(r,a)){r.push(a),s=Math.min(s,t.childCount);for(var l=a-1,u=n[0],c=l;c<u;c+=1)Br[c]=!0}}}function Vr(t,e){var n=t.doc,r=e[0].sourcepos[0],i=$t(e).sourcepos,o=i[1],s=[r[0],r[1]],a=[o[0],o[1]+1],l=[];return Wr(n,r,o),l.push({start:s,end:a}),l}function Ur(t,e){var n=e.getLineTexts(),r=[ae(t),ue(t)],i=[le(t),ce(t)+1],o=Pr(t,r,i,n[i[0]-1]);return null!==o&&void 0!==o?o:[]}var qr=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Kr(t){var e=t.type;return fe(t)?t.listData.task?"taskList":"ordered"===t.listData.type?"orderedList":"bulletList":-1!==e.indexOf("table")?"table":At(qr,e)?e:null}function Gr(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},n=!0;return be(t,(function(t){var r=Kr(t);r&&("bulletList"===r||"orderedList"===r?n&&(e[r]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,n=!1):e[r]={active:!0})})),e}function Xr(t){var e=t.toastMark,n=t.eventEmitter;return new s["d"]({view:function(){return{update:function(t,r){var i=t.state,o=i.doc,s=i.selection;if(!(r&&r.doc.eq(o)&&r.selection.eq(s))){var a=s.from,l=i.doc.resolve(a).start(),u=i.doc.content.findIndex(a).index+1,c=a-l;a===l&&(c+=1);var h=[u,c],p=e.findNodeAtPosition(h),d=Gr(p);n.emit("changeToolbarState",{cursorPos:h,mdNode:p,toolbarState:d}),n.emit("setFocusedNode",p)}}}}})}var Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Fn),Jr=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function Qr(t,e){return Zr(t,e-1)}function Zr(t,e){return t.child(e).textContent}var ti=/^\s*> ?/,ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,e){return e?t.replace(ti,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,s=e.schema,a=er(r),l=a.endFromOffset,u=a.endToOffset,c=a.endIndex,h=a.to,p=Zr(i,c),d=ti.test(p);if(d&&h>l&&r.empty){var f=!p.replace(ti,"").trim();if(f)o.deleteRange(l,u).split(o.mapping.map(u));else{var m=p.slice(h-l).trim(),g=ne(s,t.createBlockQuoteText(m));se(o,u,m,g)}return n(o),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(e,n){var r=e.selection,i=e.doc,o=er(r),s=o.startFromOffset,a=o.endToOffset,l=o.startIndex,u=o.endIndex,c=ti.test(Zr(i,l)),h=oe({state:e,startIndex:l,endIndex:u,from:s,createText:function(e){return t.createBlockQuoteText(e,c)}});return n(h.setSelection(re(h,h.mapping.map(a)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(Jr),ni=/(^\s*)([-*+] |[\d]+\. )/,ri=/(^\s*)([\d])+\.( \[[ xX]])? /,ii=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,oi=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,si=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,ai=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,li=/(^\s*)([-*+])( \[[ xX]]) /;function ui(t){return ri.test(t)?"ordered":"bullet"}function ci(t){var e=0;while(t&&"document"!==t.type)"list"===t.type&&(e+=1),t=t.parent;return e}function hi(t,e,n,r){var i=t.getLineTexts(),o=i.length,s=[],a=e;while(r?a<o:a>1){a=r?a+1:a-1;var l=t.findFirstNodeAtLine(a),u=ci(l);if(u===n)s.push({line:a,depth:n,mdNode:l});else if(u<n)break}return s}function pi(t){var e=t.toastMark,n=t.mdNode,r=t.line,i=ci(n),o=hi(e,r,i,!1).reverse(),s=hi(e,r,i,!0);return o.concat([{line:r,depth:i,mdNode:n}]).concat(s)}function di(t){if(!ni.test(t))return"* "+t;var e=ui(t);return"bullet"===e&&oi.test(t)?t=t.replace(li,"$1$2 "):"ordered"===e&&(t=t.replace(ri,"$1* ")),t}function fi(t,e){if(!ni.test(t))return e+". "+t;var n=ui(t);if("bullet"===n||"ordered"===n&&oi.test(t))t=t.replace(oi,"$1"+e+". ");else if("ordered"===n){var r=ii.exec(t)[3];Number(r)!==e&&(t=t.replace(ri,"$1"+e+". "))}return t}function mi(t,e,n,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0,s=e.map((function(e,s){var a=e.line;i=Math.min(a-1,i),o=Math.max(a-1,o);var l=Qr(t,a);return l="bullet"===n?di(l):fi(l,s+1+r),{text:l,line:a}}));return{changedResults:s,firstIndex:i,lastIndex:o}}function gi(t,e){var n=pi(e);return mi(e.doc,n,t)}var vi={bullet:function(t){return gi("bullet",t)},ordered:function(t){return gi("ordered",t)},task:function(t){var e=t.mdNode,n=t.doc,r=t.line,i=Qr(n,r);return e.listData.task?i=i.replace(ai,"$1$2"):fe(e)&&(i=i.replace(ni,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},_i={bullet:function(t){var e=t.doc,n=t.line,r=Qr(e,n),i=[{text:"* "+r,line:n}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,n=t.doc,r=t.line,i=t.startLine,o=Qr(n,r),s=1,a=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),h=Qr(n,u),p=h&&!!ye(c,(function(t){return fe(t)})),d=ii.exec(Qr(n,u));if(!d&&!p)break;if(d||!p){var f=d,m=f[1],g=f[3];if(!m){s=Number(g),a=u;break}}else l+=1}var v=s+r-a-l,_=[{text:v+". "+o,line:r}];return{changedResults:_}},task:function(t){var e=t.doc,n=t.line,r=Qr(e,n),i=[{text:"* [ ] "+r,line:n}];return{changedResults:i}}},yi={bullet:function(t){var e=t.line,n=t.doc,r=Qr(n,e),i=si.exec(r),o=i[1],s=i[2];return{listSyntax:""+o+s}},ordered:function(t){var e=t.toastMark,n=t.line,r=t.mdNode,i=t.doc,o=ci(r),s=Qr(i,n),a=ii.exec(s),l=a[1],u=a[3],c=a[4],h=Number(u)+1,p=""+l+h+c,f=hi(e,n,o,!0),m=f.filter((function(t){var e=ii.exec(Qr(i,t.line));return e&&e[1].length===l.length&&!!ye(t.mdNode,(function(t){return me(t)}))}));return d({listSyntax:p},mi(i,m,"ordered",h))}};function bi(t,e,n,r,i){var o=[],s=Qr(t,n),a=ii.exec(s);while(a){var l=a[1],u=a[4],c=a[5],h=l.length;if(h===i)o.push(ne(e,""+l+r+u+c)),r+=1,n+=1;else if(h>i){var p=bi(t,e,n,1,h);n=p.line,o=o.concat(p.nodes)}if(h<i||n>t.childCount)break;s=Qr(t,n),a=ii.exec(s)}return{nodes:o,line:n}}var wi=/(^\s{1,4})(.*)/;function xi(t,e,n){return t<e||ni.test(n)||ti.test(n)}function ki(t,e,n){var r=n.$from;0===r.depth&&(r=t.resolve(r.pos-1));var i=r.node(1),o=r.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&r.pos-o!==s&&r.pos!==o}function Ci(t,e){var n=e.from,r=e.to;if("indent"===e.type){var i=4;n+=i,r+=(e.lineLen+1)*i}else{var o=e.spaceLenList;n-=o[0];for(var s=0;s<o.length;s+=1)r-=o[s]}return re(t,n,r)}var Si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var e=t.attrs;return e.className?["div",{class:mn(e.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,e){var n=this.context,r=n.view,i=n.toastMark,o=n.schema,s=r.state,a=s.tr,l=s.selection,u=s.doc,c=i.findFirstNodeAtLine(t),h=c;while(c&&!ge(c)&&"document"!==c.parent.type)if(c=c.parent,me(c)){h=c;break}h&&(t=h.sourcepos[0][0]);var p=ii.exec(Qr(u,t)),d=p[1],f=p[3],m=d.length,g=bi(u,o,t,Number(f),m),v=g.line,_=g.nodes;e=Math.max(e,v-1);for(var y=nr(u,t-1).startOffset,b=t-1;b<=e-1;b+=1){var w=u.child(b),x=w.nodeSize,k=w.content,C=a.mapping.map(y),S=C+k.size;a.replaceWith(C,S,_[b-t+1]),y+=x}var T=re(a,l.from,l.to);r.dispatch(a.setSelection(T))},e.prototype.indent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.schema,o=n.selection,s=n.doc,a=er(o),l=a.from,u=a.to,c=a.startFromOffset,h=a.startIndex,p=a.endIndex;if(t&&ki(s,i,o))return!1;var d=Zr(s,h);if(t&&xi(l,u,d)||!t&&ni.test(d)){var f=oe({state:n,from:c,startIndex:h,endIndex:p,createText:function(t){return"    "+t}}),m={type:"indent",from:l,to:u,lineLen:p-h};r(f.setSelection(Ci(f,m))),ii.test(d)&&e.reorderList(h+1,p+1)}else t&&r(n.tr.insert(u,ne(i,"    ")));return!0}}},e.prototype.outdent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.selection,o=n.doc,s=n.schema,a=er(i),l=a.from,u=a.to,c=a.startFromOffset,h=a.startIndex,p=a.endIndex;if(t&&ki(o,s,i))return!1;var d=Zr(o,h);if(t&&xi(l,u,d)||!t&&ni.test(d)){var f=[],m=oe({state:n,from:c,startIndex:h,endIndex:p,createText:function(t){var e=wi.exec(t);return f.push(e?e[1].length:0),t.replace(wi,"$2")}}),g={type:"outdent",from:l,to:u,spaceLenList:f};r(m.setSelection(Ci(m,g))),ii.test(d)&&e.reorderList(h+1,p+1)}else if(t){var v=d.slice(0,u-c),_=v.replace(/\s{1,4}$/,""),y=u-(v.length-_.length);r(n.tr.delete(y,u))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(e,n){var r=t.context.view,i=er(e.selection),o=i.startFromOffset,s=i.endToOffset,a=function(){return n(e.tr.deleteRange(o,s)),!0};return Object(l["b"])(a,l["e"])(e,n,r)}},e.prototype.moveDown=function(){return function(t,e){var n=t.doc,r=t.tr,i=t.selection,o=t.schema,s=er(i),a=s.startFromOffset,l=s.endToOffset,u=s.endIndex;if(u<n.content.childCount-1){var c=n.child(u+1),h=c.nodeSize,p=c.textContent;return r.delete(l,l+h).split(a).insert(r.mapping.map(a)-2,ne(o,p)),e(r),!0}return!1}},e.prototype.moveUp=function(){return function(t,e){var n=t.tr,r=t.doc,i=t.selection,o=t.schema,s=er(i),a=s.startFromOffset,l=s.endToOffset,u=s.startIndex;if(u>0){var c=r.child(u-1),h=c.nodeSize,p=c.textContent;return n.delete(a-h,a).split(n.mapping.map(l)).insert(n.mapping.map(l),ne(o,p)),e(n),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Fn),Ti=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Fn),Ei=/^#{1,6}\s/,Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.level,r=e.seText,i="heading|heading"+n;return r&&(i+="|delimiter|setext"),["span",{class:mn.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,e,n){var r=e.replace(n,"").trim(),i="";while(t>0)i+="#",t-=1;return i+" "+r},e.prototype.commands=function(){var t=this;return function(e){return function(n,r){var i=e.level,o=er(n.selection),s=o.startFromOffset,a=o.endToOffset,l=o.startIndex,u=o.endIndex,c=oe({state:n,from:s,startIndex:l,endIndex:u,createText:function(e){var n=e.match(Ei),r=n?n[0]:"";return t.createHeadingText(i,e,r)}});return r(c.setSelection(re(c,c.mapping.map(a)))),!0}}},e}(Jr),Mi="```",Ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=er(n),s=o.startFromOffset,a=o.endToOffset,l=ne(r,Mi);return i.insert(s,l).split(s+Mi.length),i.split(i.mapping.map(a)).insert(i.mapping.map(a),l),e(i.setSelection(re(i,i.mapping.map(a)-(Mi.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(e,n){var r=e.selection,i=e.tr,o=e.doc,s=e.schema,a=t.context.toastMark,l=er(r),u=l.startFromOffset,c=l.endToOffset,h=l.endIndex,p=l.from,d=l.to,f=Zr(o,h);if(p===d&&f.trim()){var m=f.match(/^\s+/),g=a.findFirstNodeAtLine(h+1);if(de(g)&&m){var v=m[0],_=f.slice(d-u),y=ne(s,v+_);return se(i,c,_,y),n(i),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(Jr),Ai=/\||\s/g;function Di(t){return[Ii(t),Ii(t,!0)]}function Li(t,e){for(var n=[],r=0;r<e;r+=1)n.push(Ii(t));return n}function Ii(t,e){for(var n="|",r=0;r<t;r+=1)n+=e?" --- |":"  |";return n}function Ri(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,s=e.schema;if(!r.empty)return!1;var a=er(r),l=a.endFromOffset,u=a.endToOffset,c=a.endIndex,h=a.to,p=Zr(i,c),d=[c+1,h-l+1],f=t.context.toastMark.findNodeAtPosition(d),m=ye(f,(function(t){return ve(t)&&("tableDelimRow"===t.parent.type||"tableBody"===t.parent.parent.type)}));if(m){var g=!p.replace(Ai,"").trim(),v=m.parent,_=v.parent.parent.columns.length,y=Ii(_);return g?o.deleteRange(l,u).split(o.mapping.map(u)):o.split(u).insert(o.mapping.map(u),ne(s,y)).setSelection(re(o,o.mapping.map(u)-2)),n(o),!0}return!1}},e.prototype.moveTableCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,s=er(i),a=s.endFromOffset,l=s.endIndex,u=s.to,c=[l+1,u-a],h=e.context.toastMark.findNodeAtPosition(c),p=ye(h,(function(t){return ve(t)}));if(p){var d=p.parent,f=Ri(t),m=f.type,g=f.parentType,v=f.childType,_=ce(p);if(p[m])_=ce(p[m])-1;else{var y=d[m]||d.parent.type!==g?d[m]:d.parent[m][v];if("next"===m){var b=y?ce(y[v]):0;_+=b+2}else"prev"===m&&(_=y?-4:0)}return r(o.setSelection(re(o,a+_))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=t,a=s.columnCount,l=s.rowCount,u=er(r).endToOffset,c=Di(a),h=Li(a,l-1),p=f(f([],c),h);return p.forEach((function(t){i.split(i.mapping.map(u)).insert(i.mapping.map(u),ne(o,t))})),n(i.setSelection(re(i,u+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Jr),Bi="***",ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=er(n),s=o.from,a=o.to,l=o.endToOffset,u=ne(r,Bi);return i.split(s).replaceWith(i.mapping.map(s),i.mapping.map(a),u).split(i.mapping.map(a)).setSelection(re(i,i.mapping.map(l))),e(i),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Jr);function Fi(t,e){var n=t.type,r=t.sourcepos,i=r[0][0];return e<=i&&("codeBlock"===n||"heading"===n||n.match("table"))}var zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.odd,r=e.even,i=e.listStyle,o="list-item";return i&&(o+="|list-item-style"),n&&(o+="|list-item-odd"),r&&(o+="|list-item-even"),["span",{class:mn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.schema,s=e.tr,a=t.context.toastMark,l=er(r),u=l.to,c=l.startFromOffset,h=l.endFromOffset,p=l.endIndex,d=l.endToOffset,f=Zr(i,p),m=ni.test(f);if(!m||r.from===c||!r.empty)return!1;var g=!f.replace(oi,"").trim();if(g)s.deleteRange(h,d).split(s.mapping.map(d));else{var v=ui(f),_=a.findFirstNodeAtLine(p+1),y=f.slice(u-h),b={toastMark:a,mdNode:_,doc:i,line:p+1},w=yi[v](b),x=w.listSyntax,k=w.changedResults;if(null===k||void 0===k?void 0:k.length){s.split(u),k.unshift({text:x+y,line:p+1}),t.changeToListPerLine(s,k,{from:u,startLine:k[0].line,endLine:$t(k).line});var C=s.mapping.map(d)-y.length;s.setSelection(re(s,C))}else{var S=ne(o,x+y);se(s,d,y,S)}}return n(s),!0}},e.prototype.toList=function(t){var e=this;return function(){return function(n,r){for(var i=n.doc,o=n.tr,s=n.selection,a=e.context.toastMark,l=er(s),u=l.startIndex+1,c=l.endIndex+1,h=l.endToOffset,p=[],d=u;d<=c;d+=1){var f=a.findFirstNodeAtLine(d);if(f&&Fi(f,d))break;if(-1===p.indexOf(d)){var m={toastMark:a,mdNode:f,doc:i,line:d,startLine:u},g=(fe(f)?vi[t](m):_i[t](m)).changedResults,v=e.changeToListPerLine(o,g,{from:nr(i,g[0].line-1).startOffset,startLine:g[0].line,endLine:$t(g).line,indexDiff:1});h=Math.max(v,h),g&&(p=p.concat(g.map((function(t){return t.line}))))}}return r(o.setSelection(re(o,o.mapping.map(h)))),!0}}},e.prototype.changeToListPerLine=function(t,e,n){for(var r=n.from,i=n.startLine,o=n.endLine,s=n.indexDiff,a=void 0===s?0:s,l=0,u=function(n){var i=t.doc.child(n),o=i.nodeSize,s=i.content,u=t.mapping.map(r),h=u+s.size,p=e.filter((function(t){return t.line-a===n}))[0];p&&(t.replaceWith(u,h,ne(c.context.schema,p.text)),l=Math.max(l,r+s.size)),r+=o},c=this,h=i-a;h<=o-a;h+=1)u(h);return l},e.prototype.toggleTask=function(){var t=this;return function(e,n){for(var r=e.selection,i=e.tr,o=e.doc,s=e.schema,a=t.context.toastMark,l=er(r),u=l.startIndex,c=l.endIndex,h=null,p=u;p<=c;p+=1){var d=a.findFirstNodeAtLine(p+1);if(fe(d)&&d.listData.task){var f=d.listData,m=f.checked,g=f.padding,v=m?" ":"x",_=d.sourcepos[0],y=nr(o,_[0]-1).startOffset;y+=_[1]+g,h=i.replaceWith(y,y+1,s.text(v))}}return!!h&&(n(h),!0)}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),e=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":e,"Mod-O":e,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},e}(Jr);function Hi(t,e){return function(){return function(n,r){var i=n.tr,o=n.selection,s=Un(t)?t:function(e){return t.test(e)},a=e.length,l=i.doc,u=Xn(o),c=u[0],h=u[1],p=Math.max(c-a,1),d=Math.min(h+a,l.content.size-1),f=o.content(),m=f.content.textBetween(0,f.content.size,"\n"),g=l.textBetween(p,c,"\n"),v=l.textBetween(h,d,"\n");if(m=""+g+m+v,g&&v&&s(m))i.delete(d-a,d).delete(p,p+a);else{i.insertText(e,h).insertText(e,c);var _=o.empty?re(i,c+a):re(i,c+a,h+a);i.setSelection(_)}return r(i),!0}}}var $i=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Wi="**",Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Hi($i,Wi)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Jr),Ui=/^(~{2}).*([\s\S]*)\1$/m,qi="~~",Ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Hi(Ui,qi)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Jr),Gi=/^(\*|_).*([\s\S]*)\1$/m,Xi="*",Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Hi(Gi,Xi)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Jr),Ji=/^(`).*([\s\S]*)\1$/m,Qi="`",Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.start,r=e.end,i=e.marked,o="code";return n&&(o+="|delimiter|start"),r&&(o+="|delimiter|end"),i&&(o+="|marked-text"),["span",{class:mn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Hi(Ji,Qi)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Jr),to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.url,r=e.desc,i="link";return n&&(i+="|link-url|marked-text"),r&&(i+="|link-desc|marked-text"),["span",{class:mn.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(e){return function(n,r){var i=n.selection,o=n.tr,s=n.schema,a=Xn(i),l=a[0],u=a[1],c=e,h=c.linkText,p=c.altText,d=c.linkUrl,f=c.imageUrl,m=h,g=d,v="";return"image"===t&&(m=p,g=f,v="!"),m=Bt(m),v+="["+m+"]("+g+")",r(o.replaceWith(l,u,ne(s,v))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Jr),eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("html")},0]}}},enumerable:!1,configurable:!0}),e}(Jr),ao="$$",lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mn("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){var r=e.selection,i=e.schema,o=e.tr,s=er(r),a=s.startFromOffset,l=s.endToOffset;if(!(null===t||void 0===t?void 0:t.info))return!1;var u=""+ao+t.info,c=ne(i,u),h=ne(i,ao);return o.insert(a,c).split(a+u.length),o.split(o.mapping.map(l)).insert(o.mapping.map(l),h),n(o.setSelection(re(o,o.mapping.map(l)-(ao.length+2)))),!0}}},e}(Jr),uo=/x|backspace/i,co=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function ho(t){var e=t.schema,n=t.toastMark;return new s["d"]({props:{handleDOMEvents:{keyup:function(t,r){var i,o=t.state,s=o.doc,a=o.tr,l=o.selection;if(l.empty&&uo.test(r.key)){var u=er(l),c=u.startIndex,h=u.startFromOffset,p=u.from,d=[c+1,p-h+1],f=n.findNodeAtPosition(d),m=ye(f,(function(t){var e;return"paragraph"===t.type&&"item"===(null===(e=t.parent)||void 0===e?void 0:e.type)}));if(null===(i=null===m||void 0===m?void 0:m.firstChild)||void 0===i?void 0:i.literal){var g=m.firstChild,v=g.literal.match(co);if(v){var _=g.sourcepos[0],y=v[1],b=v[2],w=v[3],x=y.length+w.length,k=nr(s,_[0]-1).startOffset,C=_[1]+k;if(b){var S=x?x+1:0;a.replaceWith(C,S+C,e.text(b)),t.dispatch(a)}else x||(a.insertText(" ",C),t.dispatch(a))}}}return!1}}}})}var po="cut",fo=/\r\n|\n|\r/,mo=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toastMark,o=n.useCommandShortcut,s=void 0===o||o,a=n.mdPlugins,l=void 0===a?[]:a;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=i,r.extraPlugins=l,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(s),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(d(d({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(t){return r.toggleActive(!0,t)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return p(e,t),e.prototype.toggleActive=function(t,e){kn(this.el,"active",t),t?e||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=fn("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(e){var n=e.clipboardData||window.clipboardData,r=n&&n.items;if(r){var i=te(r).some((function(t){return"string"===t.kind&&"text/rtf"===t.type}));if(!i){var o=Bn(r);o&&(e.preventDefault(),Pn(t.eventEmitter,o,e.type))}}})),this.clipboard.addEventListener("input",(function(e){var n=e.target.value;t.replaceSelection(n),e.preventDefault(),e.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new Gn([new Yr,new Si,new $n,new Ti,new Oi,new ei,new Ni,new lo,new Pi,new oo,new ji,new zi,new Vi,new Ki,new Yi,new Zi,new to,new no,new eo,new io,new ro,new so])},e.prototype.createPlugins=function(){return f([jr(this.context),Xr(this.context),ho(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new i["c"](this.el,{state:this.createState(),dispatchTransaction:function(e){t.updateMarkdown(e);var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e)},handleKeyDown:function(e,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{copy:function(e,n){return t.captureCopy(n)},cut:function(e,n){return t.captureCopy(n,po)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1}},nodeViews:{widget:zn}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,e){t.preventDefault();var n=this.view.state,r=n.selection,i=n.tr;if(r.empty)return!0;var o=this.getChanged(r.content());return t.clipboardData?t.clipboardData.setData("text/plain",o):window.clipboardData.setData("Text",o),e===po&&this.view.dispatch(i.deleteSelection().scrollIntoView().setMeta("uiEvent",po)),!0},e.prototype.updateMarkdown=function(t){var e=this;t.docChanged&&t.steps.forEach((function(n,r){if(n.slice&&!(n instanceof o["b"])){var i=t.docs[r],s=[n.from,n.to],a=s[0],l=s[1],u=Qn(i,a,l),c=u[0],h=u[1],p=e.getChanged(n.slice);c[0]===h[0]&&c[1]===h[1]&&""===p&&(p="\n");var d=e.toastMark.editMarkdown(c,h,p);e.eventEmitter.emit("updatePreview",d),t.setMeta("editResult",d).scrollIntoView()}}))},e.prototype.getChanged=function(t){var e="",n=0,r=t.content.size;return t.content.nodesBetween(n,r,(function(t,i){t.isText?e+=t.text.slice(Math.max(n,i)-i,r-i):t.isBlock&&i>0&&(e+="\n")})),e},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=tr(n.doc,t,e),i=r[0],o=r[1];this.view.dispatch(n.setSelection(re(n,i,o)).scrollIntoView())},e.prototype.replaceSelection=function(t,e,n){var i,o=this.view.state,s=o.tr,a=o.schema,l=o.doc,u=t.split(fo),c=u.map((function(t){return ee(a,Re(t,a))})),h=new r["j"](r["c"].from(c),1,1);if(this.focus(),e&&n){var p=tr(l,e,n),d=p[0],f=p[1];i=s.replaceRange(d,f,h)}else i=s.replaceSelection(h);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(t,e){var n,r=this.view.state,i=r.tr,o=r.doc;if(t&&e){var s=tr(o,t,e),a=s[0],l=s[1];n=i.deleteRange(a,l)}else n=i.deleteSelection();this.view.dispatch(n.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,s=i.to;if(t&&e){var a=tr(r,t,e);o=a[0],s=a[1]}return r.textBetween(o,s,"\n")},e.prototype.getSelection=function(){var t=this.view.state.selection,e=t.from,n=t.to;return Qn(this.view.state.tr.doc,e,n)},e.prototype.setMarkdown=function(t,e){void 0===e&&(e=!0);var n=t.split(fo),r=this.view.state,i=r.tr,o=r.doc,s=r.schema,a=n.map((function(t){return ee(s,Re(t,s))}));this.view.dispatch(i.replaceWith(0,o.content.size,a)),e&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.doc,s=r.selection,a=n?tr(o,n,n)[0]:s.to;this.view.dispatch(i.setMeta("widget",{pos:a,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.schema,s=r.doc,a=tr(s,t,e),l=Re(n,o);this.view.dispatch(i.replaceWith(a[0],a[1],l))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t||Qn(n,r.from)[0],o=this.toastMark.findNodeAtPosition(i);return"text"===o.type&&"paragraph"!==o.parent.type&&(o=o.parent),o.sourcepos[1][1]+=1,{range:o.sourcepos,type:o.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(t){return Me(t)})).join("\n")},e.prototype.getToastMark=function(){return this.toastMark},e}(Wn),go="_feEventKey";function vo(t,e){var n,r=t[go];return r||(r=t[go]={}),n=r[e],n||(n=r[e]=[]),n}var _o=vo,yo=w,bo=N,wo=_o;function xo(t,e,n){yo(e)?bo(e.split(/\s+/g),(function(e){ko(t,e,n)})):bo(e,(function(e,n){ko(t,n,e)}))}function ko(t,e,n){var r,i=wo(t,e);n?(bo(i,(function(i,o){return n!==i.handler||(Co(t,e,i.wrappedHandler),r=o,!1)})),i.splice(r,1)):(bo(i,(function(n){Co(t,e,n.wrappedHandler)})),i.splice(0,i.length))}function Co(t,e,n){"removeEventListener"in t?t.removeEventListener(e,n):"detachEvent"in t&&t.detachEvent("on"+e,n)}var So=xo,To=w,Eo=N,Oo=_o;function Mo(t,e,n,r){To(e)?Eo(e.split(/\s+/g),(function(e){No(t,e,n,r)})):Eo(e,(function(e,r){No(t,r,e,n)}))}function No(t,e,n,r){function i(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),Ao(t,e,n,i)}function Ao(t,e,n,r){var i=Oo(t,e),o=!1;Eo(i,(function(t){return t.handler!==n||(o=!0,!1)})),o||i.push({handler:n,wrappedHandler:r})}var Do=Mo,Lo=function(t,e){return Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Lo(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Io(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ro=function(){return Ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ro.apply(this,arguments)};function Po(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Bo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},jo={};function Fo(t){var e,n,r=jo[t];if(r)return r;for(r=jo[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}function zo(t,e,n){var r,i,o,s,a,l="";for("string"!==typeof e&&(n=e,e=zo.defaultChars),"undefined"===typeof n&&(n=!0),a=Fo(e),r=0,i=t.length;r<i;r++)if(o=t.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3)))l+=t.slice(r,r+3),r+=2;else if(o<128)l+=a[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(s=t.charCodeAt(r+1),s>=56320&&s<=57343)){l+=encodeURIComponent(t[r]+t[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[r]);return l}zo.defaultChars=";/?:@&=+$,-_.!~*'()#",zo.componentChars="-_.!~*'()";var Ho=zo,$o={},Wo={},Vo="Á",Uo="á",qo="Ă",Ko="ă",Go="∾",Xo="∿",Yo="∾̳",Jo="Â",Qo="â",Zo="´",ts="А",es="а",ns="Æ",rs="æ",is="⁡",os="𝔄",ss="𝔞",as="À",ls="à",us="ℵ",cs="ℵ",hs="Α",ps="α",ds="Ā",fs="ā",ms="⨿",gs="&",vs="&",_s="⩕",ys="⩓",bs="∧",ws="⩜",xs="⩘",ks="⩚",Cs="∠",Ss="⦤",Ts="∠",Es="⦨",Os="⦩",Ms="⦪",Ns="⦫",As="⦬",Ds="⦭",Ls="⦮",Is="⦯",Rs="∡",Ps="∟",Bs="⊾",js="⦝",Fs="∢",zs="Å",Hs="⍼",$s="Ą",Ws="ą",Vs="𝔸",Us="𝕒",qs="⩯",Ks="≈",Gs="⩰",Xs="≊",Ys="≋",Js="'",Qs="⁡",Zs="≈",ta="≊",ea="Å",na="å",ra="𝒜",ia="𝒶",oa="≔",sa="*",aa="≈",la="≍",ua="Ã",ca="ã",ha="Ä",pa="ä",da="∳",fa="⨑",ma="≌",ga="϶",va="‵",_a="∽",ya="⋍",ba="∖",wa="⫧",xa="⊽",ka="⌅",Ca="⌆",Sa="⌅",Ta="⎵",Ea="⎶",Oa="≌",Ma="Б",Na="б",Aa="„",Da="∵",La="∵",Ia="∵",Ra="⦰",Pa="϶",Ba="ℬ",ja="ℬ",Fa="Β",za="β",Ha="ℶ",$a="≬",Wa="𝔅",Va="𝔟",Ua="⋂",qa="◯",Ka="⋃",Ga="⨀",Xa="⨁",Ya="⨂",Ja="⨆",Qa="★",Za="▽",tl="△",el="⨄",nl="⋁",rl="⋀",il="⤍",ol="⧫",sl="▪",al="▴",ll="▾",ul="◂",cl="▸",hl="␣",pl="▒",dl="░",fl="▓",ml="█",gl="=⃥",vl="≡⃥",_l="⫭",yl="⌐",bl="𝔹",wl="𝕓",xl="⊥",kl="⊥",Cl="⋈",Sl="⧉",Tl="┐",El="╕",Ol="╖",Ml="╗",Nl="┌",Al="╒",Dl="╓",Ll="╔",Il="─",Rl="═",Pl="┬",Bl="╤",jl="╥",Fl="╦",zl="┴",Hl="╧",$l="╨",Wl="╩",Vl="⊟",Ul="⊞",ql="⊠",Kl="┘",Gl="╛",Xl="╜",Yl="╝",Jl="└",Ql="╘",Zl="╙",tu="╚",eu="│",nu="║",ru="┼",iu="╪",ou="╫",su="╬",au="┤",lu="╡",uu="╢",cu="╣",hu="├",pu="╞",du="╟",fu="╠",mu="‵",gu="˘",vu="˘",_u="¦",yu="𝒷",bu="ℬ",wu="⁏",xu="∽",ku="⋍",Cu="⧅",Su="\\",Tu="⟈",Eu="•",Ou="•",Mu="≎",Nu="⪮",Au="≏",Du="≎",Lu="≏",Iu="Ć",Ru="ć",Pu="⩄",Bu="⩉",ju="⩋",Fu="∩",zu="⋒",Hu="⩇",$u="⩀",Wu="ⅅ",Vu="∩︀",Uu="⁁",qu="ˇ",Ku="ℭ",Gu="⩍",Xu="Č",Yu="č",Ju="Ç",Qu="ç",Zu="Ĉ",tc="ĉ",ec="∰",nc="⩌",rc="⩐",ic="Ċ",oc="ċ",sc="¸",ac="¸",lc="⦲",uc="¢",cc="·",hc="·",pc="𝔠",dc="ℭ",fc="Ч",mc="ч",gc="✓",vc="✓",_c="Χ",yc="χ",bc="ˆ",wc="≗",xc="↺",kc="↻",Cc="⊛",Sc="⊚",Tc="⊝",Ec="⊙",Oc="®",Mc="Ⓢ",Nc="⊖",Ac="⊕",Dc="⊗",Lc="○",Ic="⧃",Rc="≗",Pc="⨐",Bc="⫯",jc="⧂",Fc="∲",zc="”",Hc="’",$c="♣",Wc="♣",Vc=":",Uc="∷",qc="⩴",Kc="≔",Gc="≔",Xc=",",Yc="@",Jc="∁",Qc="∘",Zc="∁",th="ℂ",eh="≅",nh="⩭",rh="≡",ih="∮",oh="∯",sh="∮",ah="𝕔",lh="ℂ",uh="∐",ch="∐",hh="©",ph="©",dh="℗",fh="∳",mh="↵",gh="✗",vh="⨯",_h="𝒞",yh="𝒸",bh="⫏",wh="⫑",xh="⫐",kh="⫒",Ch="⋯",Sh="⤸",Th="⤵",Eh="⋞",Oh="⋟",Mh="↶",Nh="⤽",Ah="⩈",Dh="⩆",Lh="≍",Ih="∪",Rh="⋓",Ph="⩊",Bh="⊍",jh="⩅",Fh="∪︀",zh="↷",Hh="⤼",$h="⋞",Wh="⋟",Vh="⋎",Uh="⋏",qh="¤",Kh="↶",Gh="↷",Xh="⋎",Yh="⋏",Jh="∲",Qh="∱",Zh="⌭",tp="†",ep="‡",np="ℸ",rp="↓",ip="↡",op="⇓",sp="‐",ap="⫤",lp="⊣",up="⤏",cp="˝",hp="Ď",pp="ď",dp="Д",fp="д",mp="‡",gp="⇊",vp="ⅅ",_p="ⅆ",yp="⤑",bp="⩷",wp="°",xp="∇",kp="Δ",Cp="δ",Sp="⦱",Tp="⥿",Ep="𝔇",Op="𝔡",Mp="⥥",Np="⇃",Ap="⇂",Dp="´",Lp="˙",Ip="˝",Rp="`",Pp="˜",Bp="⋄",jp="⋄",Fp="⋄",zp="♦",Hp="♦",$p="¨",Wp="ⅆ",Vp="ϝ",Up="⋲",qp="÷",Kp="÷",Gp="⋇",Xp="⋇",Yp="Ђ",Jp="ђ",Qp="⌞",Zp="⌍",td="$",ed="𝔻",nd="𝕕",rd="¨",id="˙",od="⃜",sd="≐",ad="≑",ld="≐",ud="∸",cd="∔",hd="⊡",pd="⌆",dd="∯",fd="¨",md="⇓",gd="⇐",vd="⇔",_d="⫤",yd="⟸",bd="⟺",wd="⟹",xd="⇒",kd="⊨",Cd="⇑",Sd="⇕",Td="∥",Ed="⤓",Od="↓",Md="↓",Nd="⇓",Ad="⇵",Dd="̑",Ld="⇊",Id="⇃",Rd="⇂",Pd="⥐",Bd="⥞",jd="⥖",Fd="↽",zd="⥟",Hd="⥗",$d="⇁",Wd="↧",Vd="⊤",Ud="⤐",qd="⌟",Kd="⌌",Gd="𝒟",Xd="𝒹",Yd="Ѕ",Jd="ѕ",Qd="⧶",Zd="Đ",tf="đ",ef="⋱",nf="▿",rf="▾",of="⇵",sf="⥯",af="⦦",lf="Џ",uf="џ",cf="⟿",hf="É",pf="é",df="⩮",ff="Ě",mf="ě",gf="Ê",vf="ê",_f="≖",yf="≕",bf="Э",wf="э",xf="⩷",kf="Ė",Cf="ė",Sf="≑",Tf="ⅇ",Ef="≒",Of="𝔈",Mf="𝔢",Nf="⪚",Af="È",Df="è",Lf="⪖",If="⪘",Rf="⪙",Pf="∈",Bf="⏧",jf="ℓ",Ff="⪕",zf="⪗",Hf="Ē",$f="ē",Wf="∅",Vf="∅",Uf="◻",qf="∅",Kf="▫",Gf=" ",Xf=" ",Yf=" ",Jf="Ŋ",Qf="ŋ",Zf=" ",tm="Ę",em="ę",nm="𝔼",rm="𝕖",im="⋕",om="⧣",sm="⩱",am="ε",lm="Ε",um="ε",cm="ϵ",hm="≖",pm="≕",dm="≂",fm="⪖",mm="⪕",gm="⩵",vm="=",_m="≂",ym="≟",bm="⇌",wm="≡",xm="⩸",km="⧥",Cm="⥱",Sm="≓",Tm="ℯ",Em="ℰ",Om="≐",Mm="⩳",Nm="≂",Am="Η",Dm="η",Lm="Ð",Im="ð",Rm="Ë",Pm="ë",Bm="€",jm="!",Fm="∃",zm="∃",Hm="ℰ",$m="ⅇ",Wm="ⅇ",Vm="≒",Um="Ф",qm="ф",Km="♀",Gm="ﬃ",Xm="ﬀ",Ym="ﬄ",Jm="𝔉",Qm="𝔣",Zm="ﬁ",tg="◼",eg="▪",ng="fj",rg="♭",ig="ﬂ",og="▱",sg="ƒ",ag="𝔽",lg="𝕗",ug="∀",cg="∀",hg="⋔",pg="⫙",dg="ℱ",fg="⨍",mg="½",gg="⅓",vg="¼",_g="⅕",yg="⅙",bg="⅛",wg="⅔",xg="⅖",kg="¾",Cg="⅗",Sg="⅜",Tg="⅘",Eg="⅚",Og="⅝",Mg="⅞",Ng="⁄",Ag="⌢",Dg="𝒻",Lg="ℱ",Ig="ǵ",Rg="Γ",Pg="γ",Bg="Ϝ",jg="ϝ",Fg="⪆",zg="Ğ",Hg="ğ",$g="Ģ",Wg="Ĝ",Vg="ĝ",Ug="Г",qg="г",Kg="Ġ",Gg="ġ",Xg="≥",Yg="≧",Jg="⪌",Qg="⋛",Zg="≥",tv="≧",ev="⩾",nv="⪩",rv="⩾",iv="⪀",ov="⪂",sv="⪄",av="⋛︀",lv="⪔",uv="𝔊",cv="𝔤",hv="≫",pv="⋙",dv="⋙",fv="ℷ",mv="Ѓ",gv="ѓ",vv="⪥",_v="≷",yv="⪒",bv="⪤",wv="⪊",xv="⪊",kv="⪈",Cv="≩",Sv="⪈",Tv="≩",Ev="⋧",Ov="𝔾",Mv="𝕘",Nv="`",Av="≥",Dv="⋛",Lv="≧",Iv="⪢",Rv="≷",Pv="⩾",Bv="≳",jv="𝒢",Fv="ℊ",zv="≳",Hv="⪎",$v="⪐",Wv="⪧",Vv="⩺",Uv=">",qv=">",Kv="≫",Gv="⋗",Xv="⦕",Yv="⩼",Jv="⪆",Qv="⥸",Zv="⋗",t_="⋛",e_="⪌",n_="≷",r_="≳",i_="≩︀",o_="≩︀",s_="ˇ",a_=" ",l_="½",u_="ℋ",c_="Ъ",h_="ъ",p_="⥈",d_="↔",f_="⇔",m_="↭",g_="^",v_="ℏ",__="Ĥ",y_="ĥ",b_="♥",w_="♥",x_="…",k_="⊹",C_="𝔥",S_="ℌ",T_="ℋ",E_="⤥",O_="⤦",M_="⇿",N_="∻",A_="↩",D_="↪",L_="𝕙",I_="ℍ",R_="―",P_="─",B_="𝒽",j_="ℋ",F_="ℏ",z_="Ħ",H_="ħ",$_="≎",W_="≏",V_="⁃",U_="‐",q_="Í",K_="í",G_="⁣",X_="Î",Y_="î",J_="И",Q_="и",Z_="İ",ty="Е",ey="е",ny="¡",ry="⇔",iy="𝔦",oy="ℑ",sy="Ì",ay="ì",ly="ⅈ",uy="⨌",cy="∭",hy="⧜",py="℩",dy="Ĳ",fy="ĳ",my="Ī",gy="ī",vy="ℑ",_y="ⅈ",yy="ℐ",by="ℑ",wy="ı",xy="ℑ",ky="⊷",Cy="Ƶ",Sy="⇒",Ty="℅",Ey="∞",Oy="⧝",My="ı",Ny="⊺",Ay="∫",Dy="∬",Ly="ℤ",Iy="∫",Ry="⊺",Py="⋂",By="⨗",jy="⨼",Fy="⁣",zy="⁢",Hy="Ё",$y="ё",Wy="Į",Vy="į",Uy="𝕀",qy="𝕚",Ky="Ι",Gy="ι",Xy="⨼",Yy="¿",Jy="𝒾",Qy="ℐ",Zy="∈",tb="⋵",eb="⋹",nb="⋴",rb="⋳",ib="∈",ob="⁢",sb="Ĩ",ab="ĩ",lb="І",ub="і",cb="Ï",hb="ï",pb="Ĵ",db="ĵ",fb="Й",mb="й",gb="𝔍",vb="𝔧",_b="ȷ",yb="𝕁",bb="𝕛",wb="𝒥",xb="𝒿",kb="Ј",Cb="ј",Sb="Є",Tb="є",Eb="Κ",Ob="κ",Mb="ϰ",Nb="Ķ",Ab="ķ",Db="К",Lb="к",Ib="𝔎",Rb="𝔨",Pb="ĸ",Bb="Х",jb="х",Fb="Ќ",zb="ќ",Hb="𝕂",$b="𝕜",Wb="𝒦",Vb="𝓀",Ub="⇚",qb="Ĺ",Kb="ĺ",Gb="⦴",Xb="ℒ",Yb="Λ",Jb="λ",Qb="⟨",Zb="⟪",tw="⦑",ew="⟨",nw="⪅",rw="ℒ",iw="«",ow="⇤",sw="⤟",aw="←",lw="↞",uw="⇐",cw="⤝",hw="↩",pw="↫",dw="⤹",fw="⥳",mw="↢",gw="⤙",vw="⤛",_w="⪫",yw="⪭",bw="⪭︀",ww="⤌",xw="⤎",kw="❲",Cw="{",Sw="[",Tw="⦋",Ew="⦏",Ow="⦍",Mw="Ľ",Nw="ľ",Aw="Ļ",Dw="ļ",Lw="⌈",Iw="{",Rw="Л",Pw="л",Bw="⤶",jw="“",Fw="„",zw="⥧",Hw="⥋",$w="↲",Ww="≤",Vw="≦",Uw="⟨",qw="⇤",Kw="←",Gw="←",Xw="⇐",Yw="⇆",Jw="↢",Qw="⌈",Zw="⟦",tx="⥡",ex="⥙",nx="⇃",rx="⌊",ix="↽",ox="↼",sx="⇇",ax="↔",lx="↔",ux="⇔",cx="⇆",hx="⇋",px="↭",dx="⥎",fx="↤",mx="⊣",gx="⥚",vx="⋋",_x="⧏",yx="⊲",bx="⊴",wx="⥑",xx="⥠",kx="⥘",Cx="↿",Sx="⥒",Tx="↼",Ex="⪋",Ox="⋚",Mx="≤",Nx="≦",Ax="⩽",Dx="⪨",Lx="⩽",Ix="⩿",Rx="⪁",Px="⪃",Bx="⋚︀",jx="⪓",Fx="⪅",zx="⋖",Hx="⋚",$x="⪋",Wx="⋚",Vx="≦",Ux="≶",qx="≶",Kx="⪡",Gx="≲",Xx="⩽",Yx="≲",Jx="⥼",Qx="⌊",Zx="𝔏",tk="𝔩",ek="≶",nk="⪑",rk="⥢",ik="↽",ok="↼",sk="⥪",ak="▄",lk="Љ",uk="љ",ck="⇇",hk="≪",pk="⋘",dk="⌞",fk="⇚",mk="⥫",gk="◺",vk="Ŀ",_k="ŀ",yk="⎰",bk="⎰",wk="⪉",xk="⪉",kk="⪇",Ck="≨",Sk="⪇",Tk="≨",Ek="⋦",Ok="⟬",Mk="⇽",Nk="⟦",Ak="⟵",Dk="⟵",Lk="⟸",Ik="⟷",Rk="⟷",Pk="⟺",Bk="⟼",jk="⟶",Fk="⟶",zk="⟹",Hk="↫",$k="↬",Wk="⦅",Vk="𝕃",Uk="𝕝",qk="⨭",Kk="⨴",Gk="∗",Xk="_",Yk="↙",Jk="↘",Qk="◊",Zk="◊",tC="⧫",eC="(",nC="⦓",rC="⇆",iC="⌟",oC="⇋",sC="⥭",aC="‎",lC="⊿",uC="‹",cC="𝓁",hC="ℒ",pC="↰",dC="↰",fC="≲",mC="⪍",gC="⪏",vC="[",_C="‘",yC="‚",bC="Ł",wC="ł",xC="⪦",kC="⩹",CC="<",SC="<",TC="≪",EC="⋖",OC="⋋",MC="⋉",NC="⥶",AC="⩻",DC="◃",LC="⊴",IC="◂",RC="⦖",PC="⥊",BC="⥦",jC="≨︀",FC="≨︀",zC="¯",HC="♂",$C="✠",WC="✠",VC="↦",UC="↦",qC="↧",KC="↤",GC="↥",XC="▮",YC="⨩",JC="М",QC="м",ZC="—",tS="∺",eS="∡",nS=" ",rS="ℳ",iS="𝔐",oS="𝔪",sS="℧",aS="µ",lS="*",uS="⫰",cS="∣",hS="·",pS="⊟",dS="−",fS="∸",mS="⨪",gS="∓",vS="⫛",_S="…",yS="∓",bS="⊧",wS="𝕄",xS="𝕞",kS="∓",CS="𝓂",SS="ℳ",TS="∾",ES="Μ",OS="μ",MS="⊸",NS="⊸",AS="∇",DS="Ń",LS="ń",IS="∠⃒",RS="≉",PS="⩰̸",BS="≋̸",jS="ŉ",FS="≉",zS="♮",HS="ℕ",$S="♮",WS=" ",VS="≎̸",US="≏̸",qS="⩃",KS="Ň",GS="ň",XS="Ņ",YS="ņ",JS="≇",QS="⩭̸",ZS="⩂",tT="Н",eT="н",nT="–",rT="⤤",iT="↗",oT="⇗",sT="↗",aT="≠",lT="≐̸",uT="​",cT="​",hT="​",pT="​",dT="≢",fT="⤨",mT="≂̸",gT="≫",vT="≪",_T="\n",yT="∄",bT="∄",wT="𝔑",xT="𝔫",kT="≧̸",CT="≱",ST="≱",TT="≧̸",ET="⩾̸",OT="⩾̸",MT="⋙̸",NT="≵",AT="≫⃒",DT="≯",LT="≯",IT="≫̸",RT="↮",PT="⇎",BT="⫲",jT="∋",FT="⋼",zT="⋺",HT="∋",$T="Њ",WT="њ",VT="↚",UT="⇍",qT="‥",KT="≦̸",GT="≰",XT="↚",YT="⇍",JT="↮",QT="⇎",ZT="≰",tE="≦̸",eE="⩽̸",nE="⩽̸",rE="≮",iE="⋘̸",oE="≴",sE="≪⃒",aE="≮",lE="⋪",uE="⋬",cE="≪̸",hE="∤",pE="⁠",dE=" ",fE="𝕟",mE="ℕ",gE="⫬",vE="¬",_E="≢",yE="≭",bE="∦",wE="∉",xE="≠",kE="≂̸",CE="∄",SE="≯",TE="≱",EE="≧̸",OE="≫̸",ME="≹",NE="⩾̸",AE="≵",DE="≎̸",LE="≏̸",IE="∉",RE="⋵̸",PE="⋹̸",BE="∉",jE="⋷",FE="⋶",zE="⧏̸",HE="⋪",$E="⋬",WE="≮",VE="≰",UE="≸",qE="≪̸",KE="⩽̸",GE="≴",XE="⪢̸",YE="⪡̸",JE="∌",QE="∌",ZE="⋾",tO="⋽",eO="⊀",nO="⪯̸",rO="⋠",iO="∌",oO="⧐̸",sO="⋫",aO="⋭",lO="⊏̸",uO="⋢",cO="⊐̸",hO="⋣",pO="⊂⃒",dO="⊈",fO="⊁",mO="⪰̸",gO="⋡",vO="≿̸",_O="⊃⃒",yO="⊉",bO="≁",wO="≄",xO="≇",kO="≉",CO="∤",SO="∦",TO="∦",EO="⫽⃥",OO="∂̸",MO="⨔",NO="⊀",AO="⋠",DO="⊀",LO="⪯̸",IO="⪯̸",RO="⤳̸",PO="↛",BO="⇏",jO="↝̸",FO="↛",zO="⇏",HO="⋫",$O="⋭",WO="⊁",VO="⋡",UO="⪰̸",qO="𝒩",KO="𝓃",GO="∤",XO="∦",YO="≁",JO="≄",QO="≄",ZO="∤",tM="∦",eM="⋢",nM="⋣",rM="⊄",iM="⫅̸",oM="⊈",sM="⊂⃒",aM="⊈",lM="⫅̸",uM="⊁",cM="⪰̸",hM="⊅",pM="⫆̸",dM="⊉",fM="⊃⃒",mM="⊉",gM="⫆̸",vM="≹",_M="Ñ",yM="ñ",bM="≸",wM="⋪",xM="⋬",kM="⋫",CM="⋭",SM="Ν",TM="ν",EM="#",OM="№",MM=" ",NM="≍⃒",AM="⊬",DM="⊭",LM="⊮",IM="⊯",RM="≥⃒",PM=">⃒",BM="⤄",jM="⧞",FM="⤂",zM="≤⃒",HM="<⃒",$M="⊴⃒",WM="⤃",VM="⊵⃒",UM="∼⃒",qM="⤣",KM="↖",GM="⇖",XM="↖",YM="⤧",JM="Ó",QM="ó",ZM="⊛",tN="Ô",eN="ô",nN="⊚",rN="О",iN="о",oN="⊝",sN="Ő",aN="ő",lN="⨸",uN="⊙",cN="⦼",hN="Œ",pN="œ",dN="⦿",fN="𝔒",mN="𝔬",gN="˛",vN="Ò",_N="ò",yN="⧁",bN="⦵",wN="Ω",xN="∮",kN="↺",CN="⦾",SN="⦻",TN="‾",EN="⧀",ON="Ō",MN="ō",NN="Ω",AN="ω",DN="Ο",LN="ο",IN="⦶",RN="⊖",PN="𝕆",BN="𝕠",jN="⦷",FN="“",zN="‘",HN="⦹",$N="⊕",WN="↻",VN="⩔",UN="∨",qN="⩝",KN="ℴ",GN="ℴ",XN="ª",YN="º",JN="⊶",QN="⩖",ZN="⩗",tA="⩛",eA="Ⓢ",nA="𝒪",rA="ℴ",iA="Ø",oA="ø",sA="⊘",aA="Õ",lA="õ",uA="⨶",cA="⨷",hA="⊗",pA="Ö",dA="ö",fA="⌽",mA="‾",gA="⏞",vA="⎴",_A="⏜",yA="¶",bA="∥",wA="∥",xA="⫳",kA="⫽",CA="∂",SA="∂",TA="П",EA="п",OA="%",MA=".",NA="‰",AA="⊥",DA="‱",LA="𝔓",IA="𝔭",RA="Φ",PA="φ",BA="ϕ",jA="ℳ",FA="☎",zA="Π",HA="π",$A="⋔",WA="ϖ",VA="ℏ",UA="ℎ",qA="ℏ",KA="⨣",GA="⊞",XA="⨢",YA="+",JA="∔",QA="⨥",ZA="⩲",tD="±",eD="±",nD="⨦",rD="⨧",iD="±",oD="ℌ",sD="⨕",aD="𝕡",lD="ℙ",uD="£",cD="⪷",hD="⪻",pD="≺",dD="≼",fD="⪷",mD="≺",gD="≼",vD="≺",_D="⪯",yD="≼",bD="≾",wD="⪯",xD="⪹",kD="⪵",CD="⋨",SD="⪯",TD="⪳",ED="≾",OD="′",MD="″",ND="ℙ",AD="⪹",DD="⪵",LD="⋨",ID="∏",RD="∏",PD="⌮",BD="⌒",jD="⌓",FD="∝",zD="∝",HD="∷",$D="∝",WD="≾",VD="⊰",UD="𝒫",qD="𝓅",KD="Ψ",GD="ψ",XD=" ",YD="𝔔",JD="𝔮",QD="⨌",ZD="𝕢",tL="ℚ",eL="⁗",nL="𝒬",rL="𝓆",iL="ℍ",oL="⨖",sL="?",aL="≟",lL='"',uL='"',cL="⇛",hL="∽̱",pL="Ŕ",dL="ŕ",fL="√",mL="⦳",gL="⟩",vL="⟫",_L="⦒",yL="⦥",bL="⟩",wL="»",xL="⥵",kL="⇥",CL="⤠",SL="⤳",TL="→",EL="↠",OL="⇒",ML="⤞",NL="↪",AL="↬",DL="⥅",LL="⥴",IL="⤖",RL="↣",PL="↝",BL="⤚",jL="⤜",FL="∶",zL="ℚ",HL="⤍",$L="⤏",WL="⤐",VL="❳",UL="}",qL="]",KL="⦌",GL="⦎",XL="⦐",YL="Ř",JL="ř",QL="Ŗ",ZL="ŗ",tI="⌉",eI="}",nI="Р",rI="р",iI="⤷",oI="⥩",sI="”",aI="”",lI="↳",uI="ℜ",cI="ℛ",hI="ℜ",pI="ℝ",dI="ℜ",fI="▭",mI="®",gI="®",vI="∋",_I="⇋",yI="⥯",bI="⥽",wI="⌋",xI="𝔯",kI="ℜ",CI="⥤",SI="⇁",TI="⇀",EI="⥬",OI="Ρ",MI="ρ",NI="ϱ",AI="⟩",DI="⇥",LI="→",II="→",RI="⇒",PI="⇄",BI="↣",jI="⌉",FI="⟧",zI="⥝",HI="⥕",$I="⇂",WI="⌋",VI="⇁",UI="⇀",qI="⇄",KI="⇌",GI="⇉",XI="↝",YI="↦",JI="⊢",QI="⥛",ZI="⋌",tR="⧐",eR="⊳",nR="⊵",rR="⥏",iR="⥜",oR="⥔",sR="↾",aR="⥓",lR="⇀",uR="˚",cR="≓",hR="⇄",pR="⇌",dR="‏",fR="⎱",mR="⎱",gR="⫮",vR="⟭",_R="⇾",yR="⟧",bR="⦆",wR="𝕣",xR="ℝ",kR="⨮",CR="⨵",SR="⥰",TR=")",ER="⦔",OR="⨒",MR="⇉",NR="⇛",AR="›",DR="𝓇",LR="ℛ",IR="↱",RR="↱",PR="]",BR="’",jR="’",FR="⋌",zR="⋊",HR="▹",$R="⊵",WR="▸",VR="⧎",UR="⧴",qR="⥨",KR="℞",GR="Ś",XR="ś",YR="‚",JR="⪸",QR="Š",ZR="š",tP="⪼",eP="≻",nP="≽",rP="⪰",iP="⪴",oP="Ş",sP="ş",aP="Ŝ",lP="ŝ",uP="⪺",cP="⪶",hP="⋩",pP="⨓",dP="≿",fP="С",mP="с",gP="⊡",vP="⋅",_P="⩦",yP="⤥",bP="↘",wP="⇘",xP="↘",kP="§",CP=";",SP="⤩",TP="∖",EP="∖",OP="✶",MP="𝔖",NP="𝔰",AP="⌢",DP="♯",LP="Щ",IP="щ",RP="Ш",PP="ш",BP="↓",jP="←",FP="∣",zP="∥",HP="→",$P="↑",WP="­",VP="Σ",UP="σ",qP="ς",KP="ς",GP="∼",XP="⩪",YP="≃",JP="≃",QP="⪞",ZP="⪠",tB="⪝",eB="⪟",nB="≆",rB="⨤",iB="⥲",oB="←",sB="∘",aB="∖",lB="⨳",uB="⧤",cB="∣",hB="⌣",pB="⪪",dB="⪬",fB="⪬︀",mB="Ь",gB="ь",vB="⌿",_B="⧄",yB="/",bB="𝕊",wB="𝕤",xB="♠",kB="♠",CB="∥",SB="⊓",TB="⊓︀",EB="⊔",OB="⊔︀",MB="√",NB="⊏",AB="⊑",DB="⊏",LB="⊑",IB="⊐",RB="⊒",PB="⊐",BB="⊒",jB="□",FB="□",zB="⊓",HB="⊏",$B="⊑",WB="⊐",VB="⊒",UB="⊔",qB="▪",KB="□",GB="▪",XB="→",YB="𝒮",JB="𝓈",QB="∖",ZB="⌣",tj="⋆",ej="⋆",nj="☆",rj="★",ij="ϵ",oj="ϕ",sj="¯",aj="⊂",lj="⋐",uj="⪽",cj="⫅",hj="⊆",pj="⫃",dj="⫁",fj="⫋",mj="⊊",gj="⪿",vj="⥹",_j="⊂",yj="⋐",bj="⊆",wj="⫅",xj="⊆",kj="⊊",Cj="⫋",Sj="⫇",Tj="⫕",Ej="⫓",Oj="⪸",Mj="≻",Nj="≽",Aj="≻",Dj="⪰",Lj="≽",Ij="≿",Rj="⪰",Pj="⪺",Bj="⪶",jj="⋩",Fj="≿",zj="∋",Hj="∑",$j="∑",Wj="♪",Vj="¹",Uj="²",qj="³",Kj="⊃",Gj="⋑",Xj="⪾",Yj="⫘",Jj="⫆",Qj="⊇",Zj="⫄",tF="⊃",eF="⊇",nF="⟉",rF="⫗",iF="⥻",oF="⫂",sF="⫌",aF="⊋",lF="⫀",uF="⊃",cF="⋑",hF="⊇",pF="⫆",dF="⊋",fF="⫌",mF="⫈",gF="⫔",vF="⫖",_F="⤦",yF="↙",bF="⇙",wF="↙",xF="⤪",kF="ß",CF="\t",SF="⌖",TF="Τ",EF="τ",OF="⎴",MF="Ť",NF="ť",AF="Ţ",DF="ţ",LF="Т",IF="т",RF="⃛",PF="⌕",BF="𝔗",jF="𝔱",FF="∴",zF="∴",HF="∴",$F="Θ",WF="θ",VF="ϑ",UF="ϑ",qF="≈",KF="∼",GF="  ",XF=" ",YF=" ",JF="≈",QF="∼",ZF="Þ",tz="þ",ez="˜",nz="∼",rz="≃",iz="≅",oz="≈",sz="⨱",az="⊠",lz="×",uz="⨰",cz="∭",hz="⤨",pz="⌶",dz="⫱",fz="⊤",mz="𝕋",gz="𝕥",vz="⫚",_z="⤩",yz="‴",bz="™",wz="™",xz="▵",kz="▿",Cz="◃",Sz="⊴",Tz="≜",Ez="▹",Oz="⊵",Mz="◬",Nz="≜",Az="⨺",Dz="⃛",Lz="⨹",Iz="⧍",Rz="⨻",Pz="⏢",Bz="𝒯",jz="𝓉",Fz="Ц",zz="ц",Hz="Ћ",$z="ћ",Wz="Ŧ",Vz="ŧ",Uz="≬",qz="↞",Kz="↠",Gz="Ú",Xz="ú",Yz="↑",Jz="↟",Qz="⇑",Zz="⥉",tH="Ў",eH="ў",nH="Ŭ",rH="ŭ",iH="Û",oH="û",sH="У",aH="у",lH="⇅",uH="Ű",cH="ű",hH="⥮",pH="⥾",dH="𝔘",fH="𝔲",mH="Ù",gH="ù",vH="⥣",_H="↿",yH="↾",bH="▀",wH="⌜",xH="⌜",kH="⌏",CH="◸",SH="Ū",TH="ū",EH="¨",OH="_",MH="⏟",NH="⎵",AH="⏝",DH="⋃",LH="⊎",IH="Ų",RH="ų",PH="𝕌",BH="𝕦",jH="⤒",FH="↑",zH="↑",HH="⇑",$H="⇅",WH="↕",VH="↕",UH="⇕",qH="⥮",KH="↿",GH="↾",XH="⊎",YH="↖",JH="↗",QH="υ",ZH="ϒ",t$="ϒ",e$="Υ",n$="υ",r$="↥",i$="⊥",o$="⇈",s$="⌝",a$="⌝",l$="⌎",u$="Ů",c$="ů",h$="◹",p$="𝒰",d$="𝓊",f$="⋰",m$="Ũ",g$="ũ",v$="▵",_$="▴",y$="⇈",b$="Ü",w$="ü",x$="⦧",k$="⦜",C$="ϵ",S$="ϰ",T$="∅",E$="ϕ",O$="ϖ",M$="∝",N$="↕",A$="⇕",D$="ϱ",L$="ς",I$="⊊︀",R$="⫋︀",P$="⊋︀",B$="⫌︀",j$="ϑ",F$="⊲",z$="⊳",H$="⫨",$$="⫫",W$="⫩",V$="В",U$="в",q$="⊢",K$="⊨",G$="⊩",X$="⊫",Y$="⫦",J$="⊻",Q$="∨",Z$="⋁",tW="≚",eW="⋮",nW="|",rW="‖",iW="|",oW="‖",sW="∣",aW="|",lW="❘",uW="≀",cW=" ",hW="𝔙",pW="𝔳",dW="⊲",fW="⊂⃒",mW="⊃⃒",gW="𝕍",vW="𝕧",_W="∝",yW="⊳",bW="𝒱",wW="𝓋",xW="⫋︀",kW="⊊︀",CW="⫌︀",SW="⊋︀",TW="⊪",EW="⦚",OW="Ŵ",MW="ŵ",NW="⩟",AW="∧",DW="⋀",LW="≙",IW="℘",RW="𝔚",PW="𝔴",BW="𝕎",jW="𝕨",FW="℘",zW="≀",HW="≀",$W="𝒲",WW="𝓌",VW="⋂",UW="◯",qW="⋃",KW="▽",GW="𝔛",XW="𝔵",YW="⟷",JW="⟺",QW="Ξ",ZW="ξ",tV="⟵",eV="⟸",nV="⟼",rV="⋻",iV="⨀",oV="𝕏",sV="𝕩",aV="⨁",lV="⨂",uV="⟶",cV="⟹",hV="𝒳",pV="𝓍",dV="⨆",fV="⨄",mV="△",gV="⋁",vV="⋀",_V="Ý",yV="ý",bV="Я",wV="я",xV="Ŷ",kV="ŷ",CV="Ы",SV="ы",TV="¥",EV="𝔜",OV="𝔶",MV="Ї",NV="ї",AV="𝕐",DV="𝕪",LV="𝒴",IV="𝓎",RV="Ю",PV="ю",BV="ÿ",jV="Ÿ",FV="Ź",zV="ź",HV="Ž",$V="ž",WV="З",VV="з",UV="Ż",qV="ż",KV="ℨ",GV="​",XV="Ζ",YV="ζ",JV="𝔷",QV="ℨ",ZV="Ж",tU="ж",eU="⇝",nU="𝕫",rU="ℤ",iU="𝒵",oU="𝓏",sU="‍",aU="‌",lU={Aacute:Vo,aacute:Uo,Abreve:qo,abreve:Ko,ac:Go,acd:Xo,acE:Yo,Acirc:Jo,acirc:Qo,acute:Zo,Acy:ts,acy:es,AElig:ns,aelig:rs,af:is,Afr:os,afr:ss,Agrave:as,agrave:ls,alefsym:us,aleph:cs,Alpha:hs,alpha:ps,Amacr:ds,amacr:fs,amalg:ms,amp:gs,AMP:vs,andand:_s,And:ys,and:bs,andd:ws,andslope:xs,andv:ks,ang:Cs,ange:Ss,angle:Ts,angmsdaa:Es,angmsdab:Os,angmsdac:Ms,angmsdad:Ns,angmsdae:As,angmsdaf:Ds,angmsdag:Ls,angmsdah:Is,angmsd:Rs,angrt:Ps,angrtvb:Bs,angrtvbd:js,angsph:Fs,angst:zs,angzarr:Hs,Aogon:$s,aogon:Ws,Aopf:Vs,aopf:Us,apacir:qs,ap:Ks,apE:Gs,ape:Xs,apid:Ys,apos:Js,ApplyFunction:Qs,approx:Zs,approxeq:ta,Aring:ea,aring:na,Ascr:ra,ascr:ia,Assign:oa,ast:sa,asymp:aa,asympeq:la,Atilde:ua,atilde:ca,Auml:ha,auml:pa,awconint:da,awint:fa,backcong:ma,backepsilon:ga,backprime:va,backsim:_a,backsimeq:ya,Backslash:ba,Barv:wa,barvee:xa,barwed:ka,Barwed:Ca,barwedge:Sa,bbrk:Ta,bbrktbrk:Ea,bcong:Oa,Bcy:Ma,bcy:Na,bdquo:Aa,becaus:Da,because:La,Because:Ia,bemptyv:Ra,bepsi:Pa,bernou:Ba,Bernoullis:ja,Beta:Fa,beta:za,beth:Ha,between:$a,Bfr:Wa,bfr:Va,bigcap:Ua,bigcirc:qa,bigcup:Ka,bigodot:Ga,bigoplus:Xa,bigotimes:Ya,bigsqcup:Ja,bigstar:Qa,bigtriangledown:Za,bigtriangleup:tl,biguplus:el,bigvee:nl,bigwedge:rl,bkarow:il,blacklozenge:ol,blacksquare:sl,blacktriangle:al,blacktriangledown:ll,blacktriangleleft:ul,blacktriangleright:cl,blank:hl,blk12:pl,blk14:dl,blk34:fl,block:ml,bne:gl,bnequiv:vl,bNot:_l,bnot:yl,Bopf:bl,bopf:wl,bot:xl,bottom:kl,bowtie:Cl,boxbox:Sl,boxdl:Tl,boxdL:El,boxDl:Ol,boxDL:Ml,boxdr:Nl,boxdR:Al,boxDr:Dl,boxDR:Ll,boxh:Il,boxH:Rl,boxhd:Pl,boxHd:Bl,boxhD:jl,boxHD:Fl,boxhu:zl,boxHu:Hl,boxhU:$l,boxHU:Wl,boxminus:Vl,boxplus:Ul,boxtimes:ql,boxul:Kl,boxuL:Gl,boxUl:Xl,boxUL:Yl,boxur:Jl,boxuR:Ql,boxUr:Zl,boxUR:tu,boxv:eu,boxV:nu,boxvh:ru,boxvH:iu,boxVh:ou,boxVH:su,boxvl:au,boxvL:lu,boxVl:uu,boxVL:cu,boxvr:hu,boxvR:pu,boxVr:du,boxVR:fu,bprime:mu,breve:gu,Breve:vu,brvbar:_u,bscr:yu,Bscr:bu,bsemi:wu,bsim:xu,bsime:ku,bsolb:Cu,bsol:Su,bsolhsub:Tu,bull:Eu,bullet:Ou,bump:Mu,bumpE:Nu,bumpe:Au,Bumpeq:Du,bumpeq:Lu,Cacute:Iu,cacute:Ru,capand:Pu,capbrcup:Bu,capcap:ju,cap:Fu,Cap:zu,capcup:Hu,capdot:$u,CapitalDifferentialD:Wu,caps:Vu,caret:Uu,caron:qu,Cayleys:Ku,ccaps:Gu,Ccaron:Xu,ccaron:Yu,Ccedil:Ju,ccedil:Qu,Ccirc:Zu,ccirc:tc,Cconint:ec,ccups:nc,ccupssm:rc,Cdot:ic,cdot:oc,cedil:sc,Cedilla:ac,cemptyv:lc,cent:uc,centerdot:cc,CenterDot:hc,cfr:pc,Cfr:dc,CHcy:fc,chcy:mc,check:gc,checkmark:vc,Chi:_c,chi:yc,circ:bc,circeq:wc,circlearrowleft:xc,circlearrowright:kc,circledast:Cc,circledcirc:Sc,circleddash:Tc,CircleDot:Ec,circledR:Oc,circledS:Mc,CircleMinus:Nc,CirclePlus:Ac,CircleTimes:Dc,cir:Lc,cirE:Ic,cire:Rc,cirfnint:Pc,cirmid:Bc,cirscir:jc,ClockwiseContourIntegral:Fc,CloseCurlyDoubleQuote:zc,CloseCurlyQuote:Hc,clubs:$c,clubsuit:Wc,colon:Vc,Colon:Uc,Colone:qc,colone:Kc,coloneq:Gc,comma:Xc,commat:Yc,comp:Jc,compfn:Qc,complement:Zc,complexes:th,cong:eh,congdot:nh,Congruent:rh,conint:ih,Conint:oh,ContourIntegral:sh,copf:ah,Copf:lh,coprod:uh,Coproduct:ch,copy:hh,COPY:ph,copysr:dh,CounterClockwiseContourIntegral:fh,crarr:mh,cross:gh,Cross:vh,Cscr:_h,cscr:yh,csub:bh,csube:wh,csup:xh,csupe:kh,ctdot:Ch,cudarrl:Sh,cudarrr:Th,cuepr:Eh,cuesc:Oh,cularr:Mh,cularrp:Nh,cupbrcap:Ah,cupcap:Dh,CupCap:Lh,cup:Ih,Cup:Rh,cupcup:Ph,cupdot:Bh,cupor:jh,cups:Fh,curarr:zh,curarrm:Hh,curlyeqprec:$h,curlyeqsucc:Wh,curlyvee:Vh,curlywedge:Uh,curren:qh,curvearrowleft:Kh,curvearrowright:Gh,cuvee:Xh,cuwed:Yh,cwconint:Jh,cwint:Qh,cylcty:Zh,dagger:tp,Dagger:ep,daleth:np,darr:rp,Darr:ip,dArr:op,dash:sp,Dashv:ap,dashv:lp,dbkarow:up,dblac:cp,Dcaron:hp,dcaron:pp,Dcy:dp,dcy:fp,ddagger:mp,ddarr:gp,DD:vp,dd:_p,DDotrahd:yp,ddotseq:bp,deg:wp,Del:xp,Delta:kp,delta:Cp,demptyv:Sp,dfisht:Tp,Dfr:Ep,dfr:Op,dHar:Mp,dharl:Np,dharr:Ap,DiacriticalAcute:Dp,DiacriticalDot:Lp,DiacriticalDoubleAcute:Ip,DiacriticalGrave:Rp,DiacriticalTilde:Pp,diam:Bp,diamond:jp,Diamond:Fp,diamondsuit:zp,diams:Hp,die:$p,DifferentialD:Wp,digamma:Vp,disin:Up,div:qp,divide:Kp,divideontimes:Gp,divonx:Xp,DJcy:Yp,djcy:Jp,dlcorn:Qp,dlcrop:Zp,dollar:td,Dopf:ed,dopf:nd,Dot:rd,dot:id,DotDot:od,doteq:sd,doteqdot:ad,DotEqual:ld,dotminus:ud,dotplus:cd,dotsquare:hd,doublebarwedge:pd,DoubleContourIntegral:dd,DoubleDot:fd,DoubleDownArrow:md,DoubleLeftArrow:gd,DoubleLeftRightArrow:vd,DoubleLeftTee:_d,DoubleLongLeftArrow:yd,DoubleLongLeftRightArrow:bd,DoubleLongRightArrow:wd,DoubleRightArrow:xd,DoubleRightTee:kd,DoubleUpArrow:Cd,DoubleUpDownArrow:Sd,DoubleVerticalBar:Td,DownArrowBar:Ed,downarrow:Od,DownArrow:Md,Downarrow:Nd,DownArrowUpArrow:Ad,DownBreve:Dd,downdownarrows:Ld,downharpoonleft:Id,downharpoonright:Rd,DownLeftRightVector:Pd,DownLeftTeeVector:Bd,DownLeftVectorBar:jd,DownLeftVector:Fd,DownRightTeeVector:zd,DownRightVectorBar:Hd,DownRightVector:$d,DownTeeArrow:Wd,DownTee:Vd,drbkarow:Ud,drcorn:qd,drcrop:Kd,Dscr:Gd,dscr:Xd,DScy:Yd,dscy:Jd,dsol:Qd,Dstrok:Zd,dstrok:tf,dtdot:ef,dtri:nf,dtrif:rf,duarr:of,duhar:sf,dwangle:af,DZcy:lf,dzcy:uf,dzigrarr:cf,Eacute:hf,eacute:pf,easter:df,Ecaron:ff,ecaron:mf,Ecirc:gf,ecirc:vf,ecir:_f,ecolon:yf,Ecy:bf,ecy:wf,eDDot:xf,Edot:kf,edot:Cf,eDot:Sf,ee:Tf,efDot:Ef,Efr:Of,efr:Mf,eg:Nf,Egrave:Af,egrave:Df,egs:Lf,egsdot:If,el:Rf,Element:Pf,elinters:Bf,ell:jf,els:Ff,elsdot:zf,Emacr:Hf,emacr:$f,empty:Wf,emptyset:Vf,EmptySmallSquare:Uf,emptyv:qf,EmptyVerySmallSquare:Kf,emsp13:Gf,emsp14:Xf,emsp:Yf,ENG:Jf,eng:Qf,ensp:Zf,Eogon:tm,eogon:em,Eopf:nm,eopf:rm,epar:im,eparsl:om,eplus:sm,epsi:am,Epsilon:lm,epsilon:um,epsiv:cm,eqcirc:hm,eqcolon:pm,eqsim:dm,eqslantgtr:fm,eqslantless:mm,Equal:gm,equals:vm,EqualTilde:_m,equest:ym,Equilibrium:bm,equiv:wm,equivDD:xm,eqvparsl:km,erarr:Cm,erDot:Sm,escr:Tm,Escr:Em,esdot:Om,Esim:Mm,esim:Nm,Eta:Am,eta:Dm,ETH:Lm,eth:Im,Euml:Rm,euml:Pm,euro:Bm,excl:jm,exist:Fm,Exists:zm,expectation:Hm,exponentiale:$m,ExponentialE:Wm,fallingdotseq:Vm,Fcy:Um,fcy:qm,female:Km,ffilig:Gm,fflig:Xm,ffllig:Ym,Ffr:Jm,ffr:Qm,filig:Zm,FilledSmallSquare:tg,FilledVerySmallSquare:eg,fjlig:ng,flat:rg,fllig:ig,fltns:og,fnof:sg,Fopf:ag,fopf:lg,forall:ug,ForAll:cg,fork:hg,forkv:pg,Fouriertrf:dg,fpartint:fg,frac12:mg,frac13:gg,frac14:vg,frac15:_g,frac16:yg,frac18:bg,frac23:wg,frac25:xg,frac34:kg,frac35:Cg,frac38:Sg,frac45:Tg,frac56:Eg,frac58:Og,frac78:Mg,frasl:Ng,frown:Ag,fscr:Dg,Fscr:Lg,gacute:Ig,Gamma:Rg,gamma:Pg,Gammad:Bg,gammad:jg,gap:Fg,Gbreve:zg,gbreve:Hg,Gcedil:$g,Gcirc:Wg,gcirc:Vg,Gcy:Ug,gcy:qg,Gdot:Kg,gdot:Gg,ge:Xg,gE:Yg,gEl:Jg,gel:Qg,geq:Zg,geqq:tv,geqslant:ev,gescc:nv,ges:rv,gesdot:iv,gesdoto:ov,gesdotol:sv,gesl:av,gesles:lv,Gfr:uv,gfr:cv,gg:hv,Gg:pv,ggg:dv,gimel:fv,GJcy:mv,gjcy:gv,gla:vv,gl:_v,glE:yv,glj:bv,gnap:wv,gnapprox:xv,gne:kv,gnE:Cv,gneq:Sv,gneqq:Tv,gnsim:Ev,Gopf:Ov,gopf:Mv,grave:Nv,GreaterEqual:Av,GreaterEqualLess:Dv,GreaterFullEqual:Lv,GreaterGreater:Iv,GreaterLess:Rv,GreaterSlantEqual:Pv,GreaterTilde:Bv,Gscr:jv,gscr:Fv,gsim:zv,gsime:Hv,gsiml:$v,gtcc:Wv,gtcir:Vv,gt:Uv,GT:qv,Gt:Kv,gtdot:Gv,gtlPar:Xv,gtquest:Yv,gtrapprox:Jv,gtrarr:Qv,gtrdot:Zv,gtreqless:t_,gtreqqless:e_,gtrless:n_,gtrsim:r_,gvertneqq:i_,gvnE:o_,Hacek:s_,hairsp:a_,half:l_,hamilt:u_,HARDcy:c_,hardcy:h_,harrcir:p_,harr:d_,hArr:f_,harrw:m_,Hat:g_,hbar:v_,Hcirc:__,hcirc:y_,hearts:b_,heartsuit:w_,hellip:x_,hercon:k_,hfr:C_,Hfr:S_,HilbertSpace:T_,hksearow:E_,hkswarow:O_,hoarr:M_,homtht:N_,hookleftarrow:A_,hookrightarrow:D_,hopf:L_,Hopf:I_,horbar:R_,HorizontalLine:P_,hscr:B_,Hscr:j_,hslash:F_,Hstrok:z_,hstrok:H_,HumpDownHump:$_,HumpEqual:W_,hybull:V_,hyphen:U_,Iacute:q_,iacute:K_,ic:G_,Icirc:X_,icirc:Y_,Icy:J_,icy:Q_,Idot:Z_,IEcy:ty,iecy:ey,iexcl:ny,iff:ry,ifr:iy,Ifr:oy,Igrave:sy,igrave:ay,ii:ly,iiiint:uy,iiint:cy,iinfin:hy,iiota:py,IJlig:dy,ijlig:fy,Imacr:my,imacr:gy,image:vy,ImaginaryI:_y,imagline:yy,imagpart:by,imath:wy,Im:xy,imof:ky,imped:Cy,Implies:Sy,incare:Ty,in:"∈",infin:Ey,infintie:Oy,inodot:My,intcal:Ny,int:Ay,Int:Dy,integers:Ly,Integral:Iy,intercal:Ry,Intersection:Py,intlarhk:By,intprod:jy,InvisibleComma:Fy,InvisibleTimes:zy,IOcy:Hy,iocy:$y,Iogon:Wy,iogon:Vy,Iopf:Uy,iopf:qy,Iota:Ky,iota:Gy,iprod:Xy,iquest:Yy,iscr:Jy,Iscr:Qy,isin:Zy,isindot:tb,isinE:eb,isins:nb,isinsv:rb,isinv:ib,it:ob,Itilde:sb,itilde:ab,Iukcy:lb,iukcy:ub,Iuml:cb,iuml:hb,Jcirc:pb,jcirc:db,Jcy:fb,jcy:mb,Jfr:gb,jfr:vb,jmath:_b,Jopf:yb,jopf:bb,Jscr:wb,jscr:xb,Jsercy:kb,jsercy:Cb,Jukcy:Sb,jukcy:Tb,Kappa:Eb,kappa:Ob,kappav:Mb,Kcedil:Nb,kcedil:Ab,Kcy:Db,kcy:Lb,Kfr:Ib,kfr:Rb,kgreen:Pb,KHcy:Bb,khcy:jb,KJcy:Fb,kjcy:zb,Kopf:Hb,kopf:$b,Kscr:Wb,kscr:Vb,lAarr:Ub,Lacute:qb,lacute:Kb,laemptyv:Gb,lagran:Xb,Lambda:Yb,lambda:Jb,lang:Qb,Lang:Zb,langd:tw,langle:ew,lap:nw,Laplacetrf:rw,laquo:iw,larrb:ow,larrbfs:sw,larr:aw,Larr:lw,lArr:uw,larrfs:cw,larrhk:hw,larrlp:pw,larrpl:dw,larrsim:fw,larrtl:mw,latail:gw,lAtail:vw,lat:_w,late:yw,lates:bw,lbarr:ww,lBarr:xw,lbbrk:kw,lbrace:Cw,lbrack:Sw,lbrke:Tw,lbrksld:Ew,lbrkslu:Ow,Lcaron:Mw,lcaron:Nw,Lcedil:Aw,lcedil:Dw,lceil:Lw,lcub:Iw,Lcy:Rw,lcy:Pw,ldca:Bw,ldquo:jw,ldquor:Fw,ldrdhar:zw,ldrushar:Hw,ldsh:$w,le:Ww,lE:Vw,LeftAngleBracket:Uw,LeftArrowBar:qw,leftarrow:Kw,LeftArrow:Gw,Leftarrow:Xw,LeftArrowRightArrow:Yw,leftarrowtail:Jw,LeftCeiling:Qw,LeftDoubleBracket:Zw,LeftDownTeeVector:tx,LeftDownVectorBar:ex,LeftDownVector:nx,LeftFloor:rx,leftharpoondown:ix,leftharpoonup:ox,leftleftarrows:sx,leftrightarrow:ax,LeftRightArrow:lx,Leftrightarrow:ux,leftrightarrows:cx,leftrightharpoons:hx,leftrightsquigarrow:px,LeftRightVector:dx,LeftTeeArrow:fx,LeftTee:mx,LeftTeeVector:gx,leftthreetimes:vx,LeftTriangleBar:_x,LeftTriangle:yx,LeftTriangleEqual:bx,LeftUpDownVector:wx,LeftUpTeeVector:xx,LeftUpVectorBar:kx,LeftUpVector:Cx,LeftVectorBar:Sx,LeftVector:Tx,lEg:Ex,leg:Ox,leq:Mx,leqq:Nx,leqslant:Ax,lescc:Dx,les:Lx,lesdot:Ix,lesdoto:Rx,lesdotor:Px,lesg:Bx,lesges:jx,lessapprox:Fx,lessdot:zx,lesseqgtr:Hx,lesseqqgtr:$x,LessEqualGreater:Wx,LessFullEqual:Vx,LessGreater:Ux,lessgtr:qx,LessLess:Kx,lesssim:Gx,LessSlantEqual:Xx,LessTilde:Yx,lfisht:Jx,lfloor:Qx,Lfr:Zx,lfr:tk,lg:ek,lgE:nk,lHar:rk,lhard:ik,lharu:ok,lharul:sk,lhblk:ak,LJcy:lk,ljcy:uk,llarr:ck,ll:hk,Ll:pk,llcorner:dk,Lleftarrow:fk,llhard:mk,lltri:gk,Lmidot:vk,lmidot:_k,lmoustache:yk,lmoust:bk,lnap:wk,lnapprox:xk,lne:kk,lnE:Ck,lneq:Sk,lneqq:Tk,lnsim:Ek,loang:Ok,loarr:Mk,lobrk:Nk,longleftarrow:Ak,LongLeftArrow:Dk,Longleftarrow:Lk,longleftrightarrow:Ik,LongLeftRightArrow:Rk,Longleftrightarrow:Pk,longmapsto:Bk,longrightarrow:jk,LongRightArrow:Fk,Longrightarrow:zk,looparrowleft:Hk,looparrowright:$k,lopar:Wk,Lopf:Vk,lopf:Uk,loplus:qk,lotimes:Kk,lowast:Gk,lowbar:Xk,LowerLeftArrow:Yk,LowerRightArrow:Jk,loz:Qk,lozenge:Zk,lozf:tC,lpar:eC,lparlt:nC,lrarr:rC,lrcorner:iC,lrhar:oC,lrhard:sC,lrm:aC,lrtri:lC,lsaquo:uC,lscr:cC,Lscr:hC,lsh:pC,Lsh:dC,lsim:fC,lsime:mC,lsimg:gC,lsqb:vC,lsquo:_C,lsquor:yC,Lstrok:bC,lstrok:wC,ltcc:xC,ltcir:kC,lt:CC,LT:SC,Lt:TC,ltdot:EC,lthree:OC,ltimes:MC,ltlarr:NC,ltquest:AC,ltri:DC,ltrie:LC,ltrif:IC,ltrPar:RC,lurdshar:PC,luruhar:BC,lvertneqq:jC,lvnE:FC,macr:zC,male:HC,malt:$C,maltese:WC,Map:"⤅",map:VC,mapsto:UC,mapstodown:qC,mapstoleft:KC,mapstoup:GC,marker:XC,mcomma:YC,Mcy:JC,mcy:QC,mdash:ZC,mDDot:tS,measuredangle:eS,MediumSpace:nS,Mellintrf:rS,Mfr:iS,mfr:oS,mho:sS,micro:aS,midast:lS,midcir:uS,mid:cS,middot:hS,minusb:pS,minus:dS,minusd:fS,minusdu:mS,MinusPlus:gS,mlcp:vS,mldr:_S,mnplus:yS,models:bS,Mopf:wS,mopf:xS,mp:kS,mscr:CS,Mscr:SS,mstpos:TS,Mu:ES,mu:OS,multimap:MS,mumap:NS,nabla:AS,Nacute:DS,nacute:LS,nang:IS,nap:RS,napE:PS,napid:BS,napos:jS,napprox:FS,natural:zS,naturals:HS,natur:$S,nbsp:WS,nbump:VS,nbumpe:US,ncap:qS,Ncaron:KS,ncaron:GS,Ncedil:XS,ncedil:YS,ncong:JS,ncongdot:QS,ncup:ZS,Ncy:tT,ncy:eT,ndash:nT,nearhk:rT,nearr:iT,neArr:oT,nearrow:sT,ne:aT,nedot:lT,NegativeMediumSpace:uT,NegativeThickSpace:cT,NegativeThinSpace:hT,NegativeVeryThinSpace:pT,nequiv:dT,nesear:fT,nesim:mT,NestedGreaterGreater:gT,NestedLessLess:vT,NewLine:_T,nexist:yT,nexists:bT,Nfr:wT,nfr:xT,ngE:kT,nge:CT,ngeq:ST,ngeqq:TT,ngeqslant:ET,nges:OT,nGg:MT,ngsim:NT,nGt:AT,ngt:DT,ngtr:LT,nGtv:IT,nharr:RT,nhArr:PT,nhpar:BT,ni:jT,nis:FT,nisd:zT,niv:HT,NJcy:$T,njcy:WT,nlarr:VT,nlArr:UT,nldr:qT,nlE:KT,nle:GT,nleftarrow:XT,nLeftarrow:YT,nleftrightarrow:JT,nLeftrightarrow:QT,nleq:ZT,nleqq:tE,nleqslant:eE,nles:nE,nless:rE,nLl:iE,nlsim:oE,nLt:sE,nlt:aE,nltri:lE,nltrie:uE,nLtv:cE,nmid:hE,NoBreak:pE,NonBreakingSpace:dE,nopf:fE,Nopf:mE,Not:gE,not:vE,NotCongruent:_E,NotCupCap:yE,NotDoubleVerticalBar:bE,NotElement:wE,NotEqual:xE,NotEqualTilde:kE,NotExists:CE,NotGreater:SE,NotGreaterEqual:TE,NotGreaterFullEqual:EE,NotGreaterGreater:OE,NotGreaterLess:ME,NotGreaterSlantEqual:NE,NotGreaterTilde:AE,NotHumpDownHump:DE,NotHumpEqual:LE,notin:IE,notindot:RE,notinE:PE,notinva:BE,notinvb:jE,notinvc:FE,NotLeftTriangleBar:zE,NotLeftTriangle:HE,NotLeftTriangleEqual:$E,NotLess:WE,NotLessEqual:VE,NotLessGreater:UE,NotLessLess:qE,NotLessSlantEqual:KE,NotLessTilde:GE,NotNestedGreaterGreater:XE,NotNestedLessLess:YE,notni:JE,notniva:QE,notnivb:ZE,notnivc:tO,NotPrecedes:eO,NotPrecedesEqual:nO,NotPrecedesSlantEqual:rO,NotReverseElement:iO,NotRightTriangleBar:oO,NotRightTriangle:sO,NotRightTriangleEqual:aO,NotSquareSubset:lO,NotSquareSubsetEqual:uO,NotSquareSuperset:cO,NotSquareSupersetEqual:hO,NotSubset:pO,NotSubsetEqual:dO,NotSucceeds:fO,NotSucceedsEqual:mO,NotSucceedsSlantEqual:gO,NotSucceedsTilde:vO,NotSuperset:_O,NotSupersetEqual:yO,NotTilde:bO,NotTildeEqual:wO,NotTildeFullEqual:xO,NotTildeTilde:kO,NotVerticalBar:CO,nparallel:SO,npar:TO,nparsl:EO,npart:OO,npolint:MO,npr:NO,nprcue:AO,nprec:DO,npreceq:LO,npre:IO,nrarrc:RO,nrarr:PO,nrArr:BO,nrarrw:jO,nrightarrow:FO,nRightarrow:zO,nrtri:HO,nrtrie:$O,nsc:WO,nsccue:VO,nsce:UO,Nscr:qO,nscr:KO,nshortmid:GO,nshortparallel:XO,nsim:YO,nsime:JO,nsimeq:QO,nsmid:ZO,nspar:tM,nsqsube:eM,nsqsupe:nM,nsub:rM,nsubE:iM,nsube:oM,nsubset:sM,nsubseteq:aM,nsubseteqq:lM,nsucc:uM,nsucceq:cM,nsup:hM,nsupE:pM,nsupe:dM,nsupset:fM,nsupseteq:mM,nsupseteqq:gM,ntgl:vM,Ntilde:_M,ntilde:yM,ntlg:bM,ntriangleleft:wM,ntrianglelefteq:xM,ntriangleright:kM,ntrianglerighteq:CM,Nu:SM,nu:TM,num:EM,numero:OM,numsp:MM,nvap:NM,nvdash:AM,nvDash:DM,nVdash:LM,nVDash:IM,nvge:RM,nvgt:PM,nvHarr:BM,nvinfin:jM,nvlArr:FM,nvle:zM,nvlt:HM,nvltrie:$M,nvrArr:WM,nvrtrie:VM,nvsim:UM,nwarhk:qM,nwarr:KM,nwArr:GM,nwarrow:XM,nwnear:YM,Oacute:JM,oacute:QM,oast:ZM,Ocirc:tN,ocirc:eN,ocir:nN,Ocy:rN,ocy:iN,odash:oN,Odblac:sN,odblac:aN,odiv:lN,odot:uN,odsold:cN,OElig:hN,oelig:pN,ofcir:dN,Ofr:fN,ofr:mN,ogon:gN,Ograve:vN,ograve:_N,ogt:yN,ohbar:bN,ohm:wN,oint:xN,olarr:kN,olcir:CN,olcross:SN,oline:TN,olt:EN,Omacr:ON,omacr:MN,Omega:NN,omega:AN,Omicron:DN,omicron:LN,omid:IN,ominus:RN,Oopf:PN,oopf:BN,opar:jN,OpenCurlyDoubleQuote:FN,OpenCurlyQuote:zN,operp:HN,oplus:$N,orarr:WN,Or:VN,or:UN,ord:qN,order:KN,orderof:GN,ordf:XN,ordm:YN,origof:JN,oror:QN,orslope:ZN,orv:tA,oS:eA,Oscr:nA,oscr:rA,Oslash:iA,oslash:oA,osol:sA,Otilde:aA,otilde:lA,otimesas:uA,Otimes:cA,otimes:hA,Ouml:pA,ouml:dA,ovbar:fA,OverBar:mA,OverBrace:gA,OverBracket:vA,OverParenthesis:_A,para:yA,parallel:bA,par:wA,parsim:xA,parsl:kA,part:CA,PartialD:SA,Pcy:TA,pcy:EA,percnt:OA,period:MA,permil:NA,perp:AA,pertenk:DA,Pfr:LA,pfr:IA,Phi:RA,phi:PA,phiv:BA,phmmat:jA,phone:FA,Pi:zA,pi:HA,pitchfork:$A,piv:WA,planck:VA,planckh:UA,plankv:qA,plusacir:KA,plusb:GA,pluscir:XA,plus:YA,plusdo:JA,plusdu:QA,pluse:ZA,PlusMinus:tD,plusmn:eD,plussim:nD,plustwo:rD,pm:iD,Poincareplane:oD,pointint:sD,popf:aD,Popf:lD,pound:uD,prap:cD,Pr:hD,pr:pD,prcue:dD,precapprox:fD,prec:mD,preccurlyeq:gD,Precedes:vD,PrecedesEqual:_D,PrecedesSlantEqual:yD,PrecedesTilde:bD,preceq:wD,precnapprox:xD,precneqq:kD,precnsim:CD,pre:SD,prE:TD,precsim:ED,prime:OD,Prime:MD,primes:ND,prnap:AD,prnE:DD,prnsim:LD,prod:ID,Product:RD,profalar:PD,profline:BD,profsurf:jD,prop:FD,Proportional:zD,Proportion:HD,propto:$D,prsim:WD,prurel:VD,Pscr:UD,pscr:qD,Psi:KD,psi:GD,puncsp:XD,Qfr:YD,qfr:JD,qint:QD,qopf:ZD,Qopf:tL,qprime:eL,Qscr:nL,qscr:rL,quaternions:iL,quatint:oL,quest:sL,questeq:aL,quot:lL,QUOT:uL,rAarr:cL,race:hL,Racute:pL,racute:dL,radic:fL,raemptyv:mL,rang:gL,Rang:vL,rangd:_L,range:yL,rangle:bL,raquo:wL,rarrap:xL,rarrb:kL,rarrbfs:CL,rarrc:SL,rarr:TL,Rarr:EL,rArr:OL,rarrfs:ML,rarrhk:NL,rarrlp:AL,rarrpl:DL,rarrsim:LL,Rarrtl:IL,rarrtl:RL,rarrw:PL,ratail:BL,rAtail:jL,ratio:FL,rationals:zL,rbarr:HL,rBarr:$L,RBarr:WL,rbbrk:VL,rbrace:UL,rbrack:qL,rbrke:KL,rbrksld:GL,rbrkslu:XL,Rcaron:YL,rcaron:JL,Rcedil:QL,rcedil:ZL,rceil:tI,rcub:eI,Rcy:nI,rcy:rI,rdca:iI,rdldhar:oI,rdquo:sI,rdquor:aI,rdsh:lI,real:uI,realine:cI,realpart:hI,reals:pI,Re:dI,rect:fI,reg:mI,REG:gI,ReverseElement:vI,ReverseEquilibrium:_I,ReverseUpEquilibrium:yI,rfisht:bI,rfloor:wI,rfr:xI,Rfr:kI,rHar:CI,rhard:SI,rharu:TI,rharul:EI,Rho:OI,rho:MI,rhov:NI,RightAngleBracket:AI,RightArrowBar:DI,rightarrow:LI,RightArrow:II,Rightarrow:RI,RightArrowLeftArrow:PI,rightarrowtail:BI,RightCeiling:jI,RightDoubleBracket:FI,RightDownTeeVector:zI,RightDownVectorBar:HI,RightDownVector:$I,RightFloor:WI,rightharpoondown:VI,rightharpoonup:UI,rightleftarrows:qI,rightleftharpoons:KI,rightrightarrows:GI,rightsquigarrow:XI,RightTeeArrow:YI,RightTee:JI,RightTeeVector:QI,rightthreetimes:ZI,RightTriangleBar:tR,RightTriangle:eR,RightTriangleEqual:nR,RightUpDownVector:rR,RightUpTeeVector:iR,RightUpVectorBar:oR,RightUpVector:sR,RightVectorBar:aR,RightVector:lR,ring:uR,risingdotseq:cR,rlarr:hR,rlhar:pR,rlm:dR,rmoustache:fR,rmoust:mR,rnmid:gR,roang:vR,roarr:_R,robrk:yR,ropar:bR,ropf:wR,Ropf:xR,roplus:kR,rotimes:CR,RoundImplies:SR,rpar:TR,rpargt:ER,rppolint:OR,rrarr:MR,Rrightarrow:NR,rsaquo:AR,rscr:DR,Rscr:LR,rsh:IR,Rsh:RR,rsqb:PR,rsquo:BR,rsquor:jR,rthree:FR,rtimes:zR,rtri:HR,rtrie:$R,rtrif:WR,rtriltri:VR,RuleDelayed:UR,ruluhar:qR,rx:KR,Sacute:GR,sacute:XR,sbquo:YR,scap:JR,Scaron:QR,scaron:ZR,Sc:tP,sc:eP,sccue:nP,sce:rP,scE:iP,Scedil:oP,scedil:sP,Scirc:aP,scirc:lP,scnap:uP,scnE:cP,scnsim:hP,scpolint:pP,scsim:dP,Scy:fP,scy:mP,sdotb:gP,sdot:vP,sdote:_P,searhk:yP,searr:bP,seArr:wP,searrow:xP,sect:kP,semi:CP,seswar:SP,setminus:TP,setmn:EP,sext:OP,Sfr:MP,sfr:NP,sfrown:AP,sharp:DP,SHCHcy:LP,shchcy:IP,SHcy:RP,shcy:PP,ShortDownArrow:BP,ShortLeftArrow:jP,shortmid:FP,shortparallel:zP,ShortRightArrow:HP,ShortUpArrow:$P,shy:WP,Sigma:VP,sigma:UP,sigmaf:qP,sigmav:KP,sim:GP,simdot:XP,sime:YP,simeq:JP,simg:QP,simgE:ZP,siml:tB,simlE:eB,simne:nB,simplus:rB,simrarr:iB,slarr:oB,SmallCircle:sB,smallsetminus:aB,smashp:lB,smeparsl:uB,smid:cB,smile:hB,smt:pB,smte:dB,smtes:fB,SOFTcy:mB,softcy:gB,solbar:vB,solb:_B,sol:yB,Sopf:bB,sopf:wB,spades:xB,spadesuit:kB,spar:CB,sqcap:SB,sqcaps:TB,sqcup:EB,sqcups:OB,Sqrt:MB,sqsub:NB,sqsube:AB,sqsubset:DB,sqsubseteq:LB,sqsup:IB,sqsupe:RB,sqsupset:PB,sqsupseteq:BB,square:jB,Square:FB,SquareIntersection:zB,SquareSubset:HB,SquareSubsetEqual:$B,SquareSuperset:WB,SquareSupersetEqual:VB,SquareUnion:UB,squarf:qB,squ:KB,squf:GB,srarr:XB,Sscr:YB,sscr:JB,ssetmn:QB,ssmile:ZB,sstarf:tj,Star:ej,star:nj,starf:rj,straightepsilon:ij,straightphi:oj,strns:sj,sub:aj,Sub:lj,subdot:uj,subE:cj,sube:hj,subedot:pj,submult:dj,subnE:fj,subne:mj,subplus:gj,subrarr:vj,subset:_j,Subset:yj,subseteq:bj,subseteqq:wj,SubsetEqual:xj,subsetneq:kj,subsetneqq:Cj,subsim:Sj,subsub:Tj,subsup:Ej,succapprox:Oj,succ:Mj,succcurlyeq:Nj,Succeeds:Aj,SucceedsEqual:Dj,SucceedsSlantEqual:Lj,SucceedsTilde:Ij,succeq:Rj,succnapprox:Pj,succneqq:Bj,succnsim:jj,succsim:Fj,SuchThat:zj,sum:Hj,Sum:$j,sung:Wj,sup1:Vj,sup2:Uj,sup3:qj,sup:Kj,Sup:Gj,supdot:Xj,supdsub:Yj,supE:Jj,supe:Qj,supedot:Zj,Superset:tF,SupersetEqual:eF,suphsol:nF,suphsub:rF,suplarr:iF,supmult:oF,supnE:sF,supne:aF,supplus:lF,supset:uF,Supset:cF,supseteq:hF,supseteqq:pF,supsetneq:dF,supsetneqq:fF,supsim:mF,supsub:gF,supsup:vF,swarhk:_F,swarr:yF,swArr:bF,swarrow:wF,swnwar:xF,szlig:kF,Tab:CF,target:SF,Tau:TF,tau:EF,tbrk:OF,Tcaron:MF,tcaron:NF,Tcedil:AF,tcedil:DF,Tcy:LF,tcy:IF,tdot:RF,telrec:PF,Tfr:BF,tfr:jF,there4:FF,therefore:zF,Therefore:HF,Theta:$F,theta:WF,thetasym:VF,thetav:UF,thickapprox:qF,thicksim:KF,ThickSpace:GF,ThinSpace:XF,thinsp:YF,thkap:JF,thksim:QF,THORN:ZF,thorn:tz,tilde:ez,Tilde:nz,TildeEqual:rz,TildeFullEqual:iz,TildeTilde:oz,timesbar:sz,timesb:az,times:lz,timesd:uz,tint:cz,toea:hz,topbot:pz,topcir:dz,top:fz,Topf:mz,topf:gz,topfork:vz,tosa:_z,tprime:yz,trade:bz,TRADE:wz,triangle:xz,triangledown:kz,triangleleft:Cz,trianglelefteq:Sz,triangleq:Tz,triangleright:Ez,trianglerighteq:Oz,tridot:Mz,trie:Nz,triminus:Az,TripleDot:Dz,triplus:Lz,trisb:Iz,tritime:Rz,trpezium:Pz,Tscr:Bz,tscr:jz,TScy:Fz,tscy:zz,TSHcy:Hz,tshcy:$z,Tstrok:Wz,tstrok:Vz,twixt:Uz,twoheadleftarrow:qz,twoheadrightarrow:Kz,Uacute:Gz,uacute:Xz,uarr:Yz,Uarr:Jz,uArr:Qz,Uarrocir:Zz,Ubrcy:tH,ubrcy:eH,Ubreve:nH,ubreve:rH,Ucirc:iH,ucirc:oH,Ucy:sH,ucy:aH,udarr:lH,Udblac:uH,udblac:cH,udhar:hH,ufisht:pH,Ufr:dH,ufr:fH,Ugrave:mH,ugrave:gH,uHar:vH,uharl:_H,uharr:yH,uhblk:bH,ulcorn:wH,ulcorner:xH,ulcrop:kH,ultri:CH,Umacr:SH,umacr:TH,uml:EH,UnderBar:OH,UnderBrace:MH,UnderBracket:NH,UnderParenthesis:AH,Union:DH,UnionPlus:LH,Uogon:IH,uogon:RH,Uopf:PH,uopf:BH,UpArrowBar:jH,uparrow:FH,UpArrow:zH,Uparrow:HH,UpArrowDownArrow:$H,updownarrow:WH,UpDownArrow:VH,Updownarrow:UH,UpEquilibrium:qH,upharpoonleft:KH,upharpoonright:GH,uplus:XH,UpperLeftArrow:YH,UpperRightArrow:JH,upsi:QH,Upsi:ZH,upsih:t$,Upsilon:e$,upsilon:n$,UpTeeArrow:r$,UpTee:i$,upuparrows:o$,urcorn:s$,urcorner:a$,urcrop:l$,Uring:u$,uring:c$,urtri:h$,Uscr:p$,uscr:d$,utdot:f$,Utilde:m$,utilde:g$,utri:v$,utrif:_$,uuarr:y$,Uuml:b$,uuml:w$,uwangle:x$,vangrt:k$,varepsilon:C$,varkappa:S$,varnothing:T$,varphi:E$,varpi:O$,varpropto:M$,varr:N$,vArr:A$,varrho:D$,varsigma:L$,varsubsetneq:I$,varsubsetneqq:R$,varsupsetneq:P$,varsupsetneqq:B$,vartheta:j$,vartriangleleft:F$,vartriangleright:z$,vBar:H$,Vbar:$$,vBarv:W$,Vcy:V$,vcy:U$,vdash:q$,vDash:K$,Vdash:G$,VDash:X$,Vdashl:Y$,veebar:J$,vee:Q$,Vee:Z$,veeeq:tW,vellip:eW,verbar:nW,Verbar:rW,vert:iW,Vert:oW,VerticalBar:sW,VerticalLine:aW,VerticalSeparator:lW,VerticalTilde:uW,VeryThinSpace:cW,Vfr:hW,vfr:pW,vltri:dW,vnsub:fW,vnsup:mW,Vopf:gW,vopf:vW,vprop:_W,vrtri:yW,Vscr:bW,vscr:wW,vsubnE:xW,vsubne:kW,vsupnE:CW,vsupne:SW,Vvdash:TW,vzigzag:EW,Wcirc:OW,wcirc:MW,wedbar:NW,wedge:AW,Wedge:DW,wedgeq:LW,weierp:IW,Wfr:RW,wfr:PW,Wopf:BW,wopf:jW,wp:FW,wr:zW,wreath:HW,Wscr:$W,wscr:WW,xcap:VW,xcirc:UW,xcup:qW,xdtri:KW,Xfr:GW,xfr:XW,xharr:YW,xhArr:JW,Xi:QW,xi:ZW,xlarr:tV,xlArr:eV,xmap:nV,xnis:rV,xodot:iV,Xopf:oV,xopf:sV,xoplus:aV,xotime:lV,xrarr:uV,xrArr:cV,Xscr:hV,xscr:pV,xsqcup:dV,xuplus:fV,xutri:mV,xvee:gV,xwedge:vV,Yacute:_V,yacute:yV,YAcy:bV,yacy:wV,Ycirc:xV,ycirc:kV,Ycy:CV,ycy:SV,yen:TV,Yfr:EV,yfr:OV,YIcy:MV,yicy:NV,Yopf:AV,yopf:DV,Yscr:LV,yscr:IV,YUcy:RV,yucy:PV,yuml:BV,Yuml:jV,Zacute:FV,zacute:zV,Zcaron:HV,zcaron:$V,Zcy:WV,zcy:VV,Zdot:UV,zdot:qV,zeetrf:KV,ZeroWidthSpace:GV,Zeta:XV,zeta:YV,zfr:JV,Zfr:QV,ZHcy:ZV,zhcy:tU,zigrarr:eU,zopf:nU,Zopf:rU,Zscr:iU,zscr:oU,zwj:sU,zwnj:aU},uU="Á",cU="á",hU="Â",pU="â",dU="´",fU="Æ",mU="æ",gU="À",vU="à",_U="&",yU="&",bU="Å",wU="å",xU="Ã",kU="ã",CU="Ä",SU="ä",TU="¦",EU="Ç",OU="ç",MU="¸",NU="¢",AU="©",DU="©",LU="¤",IU="°",RU="÷",PU="É",BU="é",jU="Ê",FU="ê",zU="È",HU="è",$U="Ð",WU="ð",VU="Ë",UU="ë",qU="½",KU="¼",GU="¾",XU=">",YU=">",JU="Í",QU="í",ZU="Î",tq="î",eq="¡",nq="Ì",rq="ì",iq="¿",oq="Ï",sq="ï",aq="«",lq="<",uq="<",cq="¯",hq="µ",pq="·",dq=" ",fq="¬",mq="Ñ",gq="ñ",vq="Ó",_q="ó",yq="Ô",bq="ô",wq="Ò",xq="ò",kq="ª",Cq="º",Sq="Ø",Tq="ø",Eq="Õ",Oq="õ",Mq="Ö",Nq="ö",Aq="¶",Dq="±",Lq="£",Iq='"',Rq='"',Pq="»",Bq="®",jq="®",Fq="§",zq="­",Hq="¹",$q="²",Wq="³",Vq="ß",Uq="Þ",qq="þ",Kq="×",Gq="Ú",Xq="ú",Yq="Û",Jq="û",Qq="Ù",Zq="ù",tK="¨",eK="Ü",nK="ü",rK="Ý",iK="ý",oK="¥",sK="ÿ",aK={Aacute:uU,aacute:cU,Acirc:hU,acirc:pU,acute:dU,AElig:fU,aelig:mU,Agrave:gU,agrave:vU,amp:_U,AMP:yU,Aring:bU,aring:wU,Atilde:xU,atilde:kU,Auml:CU,auml:SU,brvbar:TU,Ccedil:EU,ccedil:OU,cedil:MU,cent:NU,copy:AU,COPY:DU,curren:LU,deg:IU,divide:RU,Eacute:PU,eacute:BU,Ecirc:jU,ecirc:FU,Egrave:zU,egrave:HU,ETH:$U,eth:WU,Euml:VU,euml:UU,frac12:qU,frac14:KU,frac34:GU,gt:XU,GT:YU,Iacute:JU,iacute:QU,Icirc:ZU,icirc:tq,iexcl:eq,Igrave:nq,igrave:rq,iquest:iq,Iuml:oq,iuml:sq,laquo:aq,lt:lq,LT:uq,macr:cq,micro:hq,middot:pq,nbsp:dq,not:fq,Ntilde:mq,ntilde:gq,Oacute:vq,oacute:_q,Ocirc:yq,ocirc:bq,Ograve:wq,ograve:xq,ordf:kq,ordm:Cq,Oslash:Sq,oslash:Tq,Otilde:Eq,otilde:Oq,Ouml:Mq,ouml:Nq,para:Aq,plusmn:Dq,pound:Lq,quot:Iq,QUOT:Rq,raquo:Pq,reg:Bq,REG:jq,sect:Fq,shy:zq,sup1:Hq,sup2:$q,sup3:Wq,szlig:Vq,THORN:Uq,thorn:qq,times:Kq,Uacute:Gq,uacute:Xq,Ucirc:Yq,ucirc:Jq,Ugrave:Qq,ugrave:Zq,uml:tK,Uuml:eK,uuml:nK,Yacute:rK,yacute:iK,yen:oK,yuml:sK},lK="&",uK="'",cK=">",hK="<",pK='"',dK={amp:lK,apos:uK,gt:cK,lt:hK,quot:pK},fK={},mK={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},gK=Bo&&Bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fK,"__esModule",{value:!0});var vK=gK(mK),_K=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};function yK(t){return t>=55296&&t<=57343||t>1114111?"�":(t in vK.default&&(t=vK.default[t]),_K(t))}fK.default=yK;var bK=Bo&&Bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.decodeHTML=Wo.decodeHTMLStrict=Wo.decodeXML=void 0;var wK=bK(lU),xK=bK(aK),kK=bK(dK),CK=bK(fK),SK=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function TK(t){var e=OK(t);return function(t){return String(t).replace(SK,e)}}Wo.decodeXML=TK(kK.default),Wo.decodeHTMLStrict=TK(wK.default);var EK=function(t,e){return t<e?1:-1};function OK(t){return function(e){if("#"===e.charAt(1)){var n=e.charAt(2);return"X"===n||"x"===n?CK.default(parseInt(e.substr(3),16)):CK.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}Wo.decodeHTML=function(){for(var t=Object.keys(xK.default).sort(EK),e=Object.keys(wK.default).sort(EK),n=0,r=0;n<e.length;n++)t[r]===e[n]?(e[n]+=";?",r++):e[n]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=OK(wK.default);function s(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(i,s)}}();var MK={},NK=Bo&&Bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(MK,"__esModule",{value:!0}),MK.escapeUTF8=MK.escape=MK.encodeNonAsciiHTML=MK.encodeHTML=MK.encodeXML=void 0;var AK=NK(dK),DK=BK(AK.default),LK=jK(DK);MK.encodeXML=qK(DK);var IK=NK(lU),RK=BK(IK.default),PK=jK(RK);function BK(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function jK(t){for(var e=[],n=[],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];1===o.length?e.push("\\"+o):n.push(o)}e.sort();for(var s=0;s<e.length-1;s++){var a=s;while(a<e.length-1&&e[a].charCodeAt(1)+1===e[a+1].charCodeAt(1))a+=1;var l=1+a-s;l<3||e.splice(s,l,e[s]+"-"+e[a])}return n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}MK.encodeHTML=$K(RK,PK),MK.encodeNonAsciiHTML=qK(RK);var FK=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,zK=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function HK(t){return"&#x"+(t.length>1?zK(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function $K(t,e){return function(n){return n.replace(e,(function(e){return t[e]})).replace(FK,HK)}}var WK=new RegExp(LK.source+"|"+FK.source,"g");function VK(t){return t.replace(WK,HK)}function UK(t){return t.replace(LK,HK)}function qK(t){return function(e){return e.replace(WK,(function(e){return t[e]||HK(e)}))}}MK.escape=VK,MK.escapeUTF8=UK,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Wo,n=MK;function r(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTML)(t)}function i(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTMLStrict)(t)}function o(t,e){return(!e||e<=0?n.encodeXML:n.encodeHTML)(t)}t.decode=r,t.decodeStrict=i,t.encode=o;var s=MK;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var a=Wo;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})}($o);var KK="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",GK=92,XK=/[\\&]/,YK="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",JK=new RegExp("\\\\"+YK+"|"+KK,"gi"),QK='[&<>"]',ZK=new RegExp(QK,"g"),tG=function(t){return t.charCodeAt(0)===GK?t.charAt(1):$o.decodeHTML(t)};function eG(t){return XK.test(t)?t.replace(JK,tG):t}function nG(t){try{return Ho(t)}catch(e){return t}}function rG(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function iG(t){return ZK.test(t)?t.replace(ZK,rG):t}function oG(t,e){for(var n=[],r=0;r<e;r++)n.push(t);return n.join("")}function sG(t){return!t||!/[^ \t]+/.test(t)}var aG=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.next=function(){var t=this.current,e=this.entering;if(null===t)return null;var n=lG(t);return e&&n?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t.next?(this.current=t.parent,this.entering=!1):(this.current=t.next,this.entering=!0),{entering:e,node:t}},t.prototype.resumeAt=function(t,e){this.current=t,this.entering=!0===e},t}();function lG(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var uG=1,cG={};function hG(t){return cG[t]}function pG(t){delete cG[t]}function dG(){cG={}}var fG=function(){function t(t,e){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===t?-1:uG++,this.type=t,this.sourcepos=e,cG[this.id]=this}return t.prototype.isContainer=function(){return lG(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(t){this.insertBefore(t),this.unlink()},t.prototype.insertAfter=function(t){t.unlink(),t.next=this.next,t.next&&(t.next.prev=t),t.prev=this,this.next=t,this.parent&&(t.parent=this.parent,t.next||(t.parent.lastChild=t))},t.prototype.insertBefore=function(t){t.unlink(),t.prev=this.prev,t.prev&&(t.prev.next=t),t.next=this,this.prev=t,t.parent=this.parent,t.prev||(t.parent.firstChild=t)},t.prototype.appendChild=function(t){t.unlink(),t.parent=this,this.lastChild?(this.lastChild.next=t,t.prev=this.lastChild,this.lastChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.prependChild=function(t){t.unlink(),t.parent=this,this.firstChild?(this.firstChild.prev=t,t.next=this.firstChild,this.firstChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.walker=function(){return new aG(this)},t}(),mG=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=e,r}return Io(e,t),e}(fG),gG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listData=null,e}return Io(e,t),e}(mG),vG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.headingType="atx",e}return Io(e,t),e}(mG),_G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFenced=!1,e.fenceChar=null,e.fenceLength=0,e.fenceOffset=-1,e.info=null,e.infoPadding=0,e}return Io(e,t),e}(mG),yG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.columns=[],e}return Io(e,t),e}(mG),bG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startIdx=0,e.endIdx=0,e.paddingLeft=0,e.paddingRight=0,e.ignored=!1,e}return Io(e,t),e}(mG),wG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="",e.dest="",e.label="",e}return Io(e,t),e}(mG),xG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syntaxLength=0,e.offset=-1,e.info="",e}return Io(e,t),e}(mG),kG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.htmlBlockType=-1,e}return Io(e,t),e}(mG),CG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destination=null,e.title=null,e.extendedAutolink=!1,e}return Io(e,t),e}(fG),SG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tickCount=0,e}return Io(e,t),e}(fG),TG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info="",e}return Io(e,t),e}(fG);function EG(t,e){switch(t){case"heading":return new vG(t,e);case"list":case"item":return new gG(t,e);case"link":case"image":return new CG(t,e);case"codeBlock":return new _G(t,e);case"htmlBlock":return new kG(t,e);case"table":return new yG(t,e);case"tableCell":return new bG(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new mG(t,e);case"code":return new SG(t,e);case"refDef":return new wG(t,e);case"customBlock":return new xG(t,e);case"customInline":return new TG(t,e);default:return new fG(t,e)}}function OG(t){return"codeBlock"===t.type}function MG(t){return"htmlBlock"===t.type}function NG(t){return"heading"===t.type}function AG(t){return"list"===t.type}function DG(t){return"table"===t.type}function LG(t){return"refDef"===t.type}function IG(t){return"customBlock"===t.type}function RG(t){return"customInline"===t.type}function PG(t,e){var n=EG("text",e);return n.literal=t,n}var BG,jG="[A-Za-z][A-Za-z0-9-]*",FG="[a-zA-Z_:][a-zA-Z0-9:._-]*",zG="[^\"'=<>`\\x00-\\x20]+",HG="'[^']*'",$G='"[^"]*"',WG="(?:"+zG+"|"+HG+"|"+$G+")",VG="(?:\\s*=\\s*"+WG+")",UG="(?:\\s+"+FG+VG+"?)",qG="<"+jG+UG+"*\\s*/?>",KG="</"+jG+"\\s*[>]",GG="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",XG="[<][?].*?[?][>]",YG="<![A-Z]+\\s+[^>]*>",JG="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",QG="(?:"+qG+"|"+KG+"|"+GG+"|"+XG+"|"+YG+"|"+JG+")",ZG=new RegExp("^"+QG,"i");if(String.fromCodePoint)BG=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var tX=String.fromCharCode,eX=Math.floor;BG=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=16384,o=[],s=-1,a=t.length;if(!a)return"";var l="";while(++s<a){var u=Number(t[s]);if(!isFinite(u)||u<0||u>1114111||eX(u)!==u)return String.fromCharCode(65533);u<=65535?o.push(u):(u-=65536,n=55296+(u>>10),r=u%1024+56320,o.push(n,r)),(s+1===a||o.length>i)&&(l+=tX.apply(void 0,o),o.length=0)}return l}}var nX=BG,rX="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",iX="[^<\\s]*[^<?!.,:*_?~\\s]",oX="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function sX(t){var e=/\)+$/.exec(t);if(e){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var s=Math.min(-n,e[0].length);return t.substring(0,t.length-s)}}return t}function aX(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function lX(t){var e,n=new RegExp(oX,"g"),r=[];while(e=n.exec(t)){var i=e[0];/[_-]+$/.test(i)||r.push({text:i,range:[e.index,e.index+i.length-1],url:"mailto:"+i})}return r}function uX(t){var e,n=new RegExp("(www|https?://)."+rX+iX,"g"),r=[];while(e=n.exec(t)){var i=aX(sX(e[0])),o="www"===e[1]?"http://":"";r.push({text:i,range:[e.index,e.index+i.length-1],url:""+o+i})}return r}function cX(t){return Po(Po([],uX(t)),lX(t)).sort((function(t,e){return t.range[0]-e.range[0]}))}function hX(t,e){var n;"boolean"===typeof e&&(e=cX);var r=function(){var t=n.entering,r=n.node;if(t&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=e(i);if(!o||!o.length)return"continue";for(var s=0,a=r.sourcepos[0],l=a[0],u=a[1],c=function(t,e){return[[l,u+t],[l,u+e]]},h=[],p=0,d=o;p<d.length;p++){var f=d[p],m=f.range,g=f.url,v=f.text;m[0]>s&&h.push(PG(i.substring(s,m[0]),c(s,m[0]-1)));var _=EG("link",c.apply(void 0,m));_.appendChild(PG(v,c.apply(void 0,m))),_.destination=g,_.extendedAutolink=!0,h.push(_),s=m[1]+1}s<i.length&&h.push(PG(i.substring(s),c(s,i.length-1)));for(var y=0,b=h;y<b.length;y++){var w=b[y];r.insertBefore(w)}r.unlink()}};while(n=t.next())r()}function pX(t){return t[t.length-1]}function dX(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function fX(t,e){Object.keys(t).forEach((function(n){e(n,t[n])}))}function mX(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ro({},t);return e.forEach((function(t){delete r[t]})),r}function gX(t){return!Object.keys(t).length}function vX(t){Object.keys(t).forEach((function(e){delete t[e]}))}var _X=10,yX=42,bX=95,wX=96,xX=91,kX=93,CX=126,SX=60,TX=33,EX=92,OX=38,MX=40,NX=41,AX=58,DX=39,LX=34,IX=36,RX="\\\\"+YK,PX=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),BX=new RegExp('^(?:"('+RX+'|[^"\\x00])*"|\'('+RX+"|[^'\\x00])*'|\\(("+RX+"|[^()\\x00])*\\))"),jX=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,FX=new RegExp("^"+YK),zX=new RegExp("^"+KK,"i"),HX=/`+/,$X=/^`+/,WX=/\.\.\./g,VX=/--+/g,UX=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,qX=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,KX=/^ *(?:\n *)?/,GX=/^[ \t\n\x0b\x0c\x0d]/,XX=/^\s/,YX=/ *$/,JX=/^ */,QX=/^ *(?:\n|$)/,ZX=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,tY=/^[^\n`\[\]\\!<&*_'"~$]+/m,eY=function(){function t(t){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=t}return t.prototype.sourcepos=function(t,e){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,t+n];return"number"===typeof e?[i,[r,e+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(t){var e=t.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(KX),!0},t.prototype.parseBackticks=function(t){var e=this.pos+1,n=this.match($X);if(null===n)return!1;var r,i=this.pos;while(null!==(r=this.match(HX)))if(r===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(e,this.pos),a=o.split("\n");if(a.length>1){var l=pX(a);this.lineIdx+=a.length-1,this.linePosOffset=-(this.pos-l.length-n.length),s[1]=this.sourcepos(this.pos),o=a.join(" ")}var u=EG("code",s);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?u.literal=o.slice(1,o.length-1):u.literal=o,u.tickCount=n.length,t.appendChild(u),!0}return this.pos=i,t.appendChild(PG(n,this.sourcepos(e,this.pos-1))),!0},t.prototype.parseBackslash=function(t){var e,n=this.subject;this.pos+=1;var r=this.pos;return this.peek()===_X?(this.pos+=1,e=EG("linebreak",this.sourcepos(this.pos-1,this.pos)),t.appendChild(e),this.nextLine()):FX.test(n.charAt(this.pos))?(t.appendChild(PG(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):t.appendChild(PG("\\",this.sourcepos(r,r))),!0},t.prototype.parseAutolink=function(t){var e,n,r,i=this.pos+1;return(e=this.match(UX))?(n=e.slice(1,e.length-1),r=EG("link",this.sourcepos(i,this.pos)),r.destination=nG("mailto:"+n),r.title="",r.appendChild(PG(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0):!!(e=this.match(qX))&&(n=e.slice(1,e.length-1),r=EG("link",this.sourcepos(i,this.pos)),r.destination=nG(n),r.title="",r.appendChild(PG(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0)},t.prototype.parseHtmlTag=function(t){var e=this.pos+1,n=this.match(ZG);if(null===n)return!1;var r=EG("htmlInline",this.sourcepos(e,this.pos));return r.literal=n,t.appendChild(r),!0},t.prototype.scanDelims=function(t){var e=0,n=this.pos;if(t===DX||t===LX)e++,this.pos++;else while(this.peek()===t)e++,this.pos++;if(0===e||e<2&&(t===CX||t===IX))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":nX(o);var s,a,l=XX.test(r),u=PX.test(r),c=XX.test(i),h=PX.test(i),p=!l&&(!u||c||h),d=!c&&(!h||l||u);return t===bX?(s=p&&(!d||h),a=d&&(!p||u)):t===DX||t===LX?(s=p&&!d,a=d):t===IX?(s=!l,a=!c):(s=p,a=d),this.pos=n,{numdelims:e,canOpen:s,canClose:a}},t.prototype.handleDelim=function(t,e){var n=this.scanDelims(t);if(!n)return!1;var r,i=n.numdelims,o=this.pos+1;this.pos+=i,r=t===DX?"’":t===LX?"“":this.subject.slice(o-1,this.pos);var s=PG(r,this.sourcepos(o,this.pos));return e.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||t!==DX&&t!==LX)&&(this.delimiters={cc:t,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(t){null!==t.previous&&(t.previous.next=t.next),null===t.next?this.delimiters=t.previous:t.next.previous=t.previous},t.prototype.removeDelimitersBetween=function(t,e){t.next!==e&&(t.next=e,e.previous=t)},t.prototype.processEmphasis=function(t){var e,n,r,i,o,s,a,l=!1,u=(e={},e[bX]=[t,t,t],e[yX]=[t,t,t],e[DX]=[t],e[LX]=[t],e[CX]=[t],e[IX]=[t],e);r=this.delimiters;while(null!==r&&r.previous!==t)r=r.previous;while(null!==r){var c=r.cc,h=c===bX||c===yX;if(r.canClose){n=r.previous,a=!1;while(null!==n&&n!==t&&n!==u[c][h?r.origdelims%3:0]){if(l=h&&(r.canOpen||n.canClose)&&r.origdelims%3!==0&&(n.origdelims+r.origdelims)%3===0,n.cc===r.cc&&n.canOpen&&!l){a=!0;break}n=n.previous}if(i=r,h||c===CX||c===IX)if(a){if(n){var p=r.numdelims>=2&&n.numdelims>=2?2:1,d=h?0:1;o=n.node,s=r.node;var f=h?1===p?"emph":"strong":"strike";c===IX&&(f="customInline");var m=EG(f),g=o.sourcepos[1],v=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-p+1],[v[0],v[1]+p-1]],o.sourcepos[1][1]-=p,s.sourcepos[0][1]+=p,o.literal=o.literal.slice(p),s.literal=s.literal.slice(p),n.numdelims-=p,r.numdelims-=p;var _=o.next,y=void 0;while(_&&_!==s)y=_.next,_.unlink(),m.appendChild(_),_=y;if(c===IX){var b=m.firstChild,w=b.literal||"",x=w.split(/\s/)[0];m.info=x,w.length<=x.length?b.unlink():(b.sourcepos[0][1]+=x.length,b.literal=w.replace(x+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=d&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=d){0===r.numdelims&&s.unlink();var k=r.next;this.removeDelimiter(r),r=k}}}else r=r.next;else c===DX?(r.node.literal="’",a&&(n.node.literal="‘"),r=r.next):c===LX&&(r.node.literal="”",a&&(n.node.literal="“"),r=r.next);a||(u[c][h?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}while(null!==this.delimiters&&this.delimiters!==t)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var t=this.match(BX);return null===t?null:eG(t.substr(1,t.length-2))},t.prototype.parseLinkDestination=function(){var t=this.match(jX);if(null===t){if(this.peek()===SX)return null;var e=this.pos,n=0,r=void 0;while(-1!==(r=this.peek()))if(r===EX&&FX.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(r===MX)this.pos+=1,n+=1;else if(r===NX){if(n<1)break;this.pos+=1,n-=1}else{if(null!==GX.exec(nX(r)))break;this.pos+=1}return this.pos===e&&r!==NX||0!==n?null:(t=this.subject.substr(e,this.pos-e),nG(eG(t)))}return nG(eG(t.substr(1,t.length-2)))},t.prototype.parseLinkLabel=function(){var t=this.match(ZX);return null===t||t.length>1001?0:t.length},t.prototype.parseOpenBracket=function(t){var e=this.pos;this.pos+=1;var n=PG("[",this.sourcepos(this.pos,this.pos));return t.appendChild(n),this.addBracket(n,e,!1),!0},t.prototype.parseBang=function(t){var e=this.pos;if(this.pos+=1,this.peek()===xX){this.pos+=1;var n=PG("![",this.sourcepos(this.pos-1,this.pos));t.appendChild(n),this.addBracket(n,e+1,!0)}else{n=PG("!",this.sourcepos(this.pos,this.pos));t.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(t){var e=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return t.appendChild(PG("]",this.sourcepos(i,i))),!0;if(!o.active)return t.appendChild(PG("]",this.sourcepos(i,i))),this.removeBracket(),!0;var s=o.image,a=this.pos;this.peek()===MX&&(this.pos++,this.spnl()&&null!==(e=this.parseLinkDestination())&&this.spnl()&&(GX.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&this.peek()===NX?(this.pos+=1,r=!0):this.pos=a);var l="";if(!r){var u=this.pos,c=this.parseLinkLabel();if(c>2?l=this.subject.slice(u,u+c):o.bracketAfter||(l=this.subject.slice(o.index,i)),0===c&&(this.pos=a),l){l=dX(l);var h=this.refMap[l];h&&(e=h.destination,n=h.title,r=!0)}}if(r){var p=EG(s?"image":"link");p.destination=e,p.title=n||"",p.sourcepos=[o.startpos,this.sourcepos(this.pos)];var d=o.node.next,f=void 0;while(d)f=d.next,d.unlink(),p.appendChild(d),d=f;if(t.appendChild(p),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s){o=this.brackets;while(null!==o)o.image||(o.active=!1),o=o.previous}return this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:l}),!0}return this.removeBracket(),this.pos=i,t.appendChild(PG("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:l}),!0},t.prototype.addBracket=function(t,e,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:t,startpos:this.sourcepos(e+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:e,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(t){var e,n=this.pos+1;return!!(e=this.match(zX))&&(t.appendChild(PG($o.decodeHTML(e),this.sourcepos(n,this.pos))),!0)},t.prototype.parseString=function(t){var e,n=this.pos+1;if(e=this.match(tY)){if(this.options.smart){var r=e.replace(WX,"…").replace(VX,(function(t){var e=0,n=0;return t.length%3===0?n=t.length/3:t.length%2===0?e=t.length/2:t.length%3===2?(e=1,n=(t.length-2)/3):(e=2,n=(t.length-4)/3),oG("—",n)+oG("–",e)}));t.appendChild(PG(r,this.sourcepos(n,this.pos)))}else{var i=PG(e,this.sourcepos(n,this.pos));t.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(t){this.pos+=1;var e=t.lastChild;if(e&&"text"===e.type&&" "===e.literal[e.literal.length-1]){var n=" "===e.literal[e.literal.length-2],r=e.literal.length;e.literal=e.literal.replace(YX,"");var i=r-e.literal.length;e.sourcepos[1][1]-=i,t.appendChild(EG(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else t.appendChild(EG("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(JX),!0},t.prototype.parseReference=function(t,e){if(!this.options.referenceDefinition)return 0;this.subject=t.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(this.peek()!==AX)return this.pos=r,0;this.pos++,this.spnl();var s=this.parseLinkDestination();if(null===s)return this.pos=r,0;var a=this.pos;this.spnl(),this.pos!==a&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=a);var l=!0;if(null===this.match(QX)&&(""===n?l=!1:(n="",this.pos=a,l=null!==this.match(QX))),!l)return this.pos=r,0;var u=dX(o);if(""===u)return this.pos=r,0;var c=this.getReferenceDefSourcepos(t);t.sourcepos[0][0]=c[1][0]+1;var h=EG("refDef",c);return h.title=n,h.dest=s,h.label=u,t.insertBefore(h),e[u]?this.refDefCandidateMap[h.id]=h:e[u]=FJ(h),this.pos-r},t.prototype.mergeTextNodes=function(t){var e,n=[];while(e=t.next()){var r=e.entering,i=e.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var a=1;a<n.length;a+=1)o.literal+=n[a].literal,n[a].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(t){for(var e=t.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<e.length;o+=1){var s=e[o];if(GX.test(s))break;if(/\:/.test(s)&&0===r){if(n)break;var a=s.indexOf(":")===s.length-1?o+1:o;i={line:a,ch:e[a].length},n=!0}var l=s.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:s.length};break}}return[[t.sourcepos[0][0],t.sourcepos[0][1]],[t.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(t){var e,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case _X:n=this.parseNewline(t);break;case EX:n=this.parseBackslash(t);break;case wX:n=this.parseBackticks(t);break;case yX:case bX:case CX:case IX:n=this.handleDelim(r,t);break;case DX:case LX:n=!!(null===(e=this.options)||void 0===e?void 0:e.smart)&&this.handleDelim(r,t);break;case xX:n=this.parseOpenBracket(t);break;case TX:n=this.parseBang(t);break;case kX:n=this.parseCloseBracket(t);break;case SX:n=this.parseAutolink(t)||this.parseHtmlTag(t);break;case OX:t.disabledEntityParse||(n=this.parseEntity(t));break;default:n=this.parseString(t);break}return n||(this.pos+=1,t.appendChild(PG(nX(r),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(t){this.subject=t.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=t.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=t.sourcepos[0][0],NG(t)&&(this.lineOffsets[0]+=t.level+1);while(this.parseInline(t));t.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(t.walker());var e=this.options,n=e.extendedAutolinks,r=e.customParser;if(n&&hX(t.walker(),n),r&&t.firstChild){var i,o=t.firstChild.walker();while(i=o.next()){var s=i.node,a=i.entering;r[s.type]&&r[s.type](s,{entering:a,options:this.options})}}},t}(),nY=/^\[([ \txX])\][ \t]+/;function rY(t,e){if(e.firstChild&&"paragraph"===e.firstChild.type){var n=e.firstChild,r=n.stringContent.match(nY);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}}var iY={continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableHead"===t||"tableBody"===t},acceptsLines:!1},oY={continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableRow"===t},acceptsLines:!1},sY={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableRow"===t||"tableDelimRow"===t},acceptsLines:!1},aY={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableDelimCell"===t},acceptsLines:!1},lY={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},uY={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableCell"===t},acceptsLines:!1},cY={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},hY=4,pY=9,dY=62,fY=60,mY=32,gY=91,vY=/[^ \t\f\v\r\n]/,_Y=/^(?:`{3,}|~{3,})(?= *$)/;function yY(t){var e=t;while(e){if(e.lastLineBlank)return!0;var n=e.type;if(e.lastLineChecked||"list"!==n&&"item"!==n){e.lastLineChecked=!0;break}e.lastLineChecked=!0,e=e.lastChild}return!1}function bY(t,e){return e<t.length?t.charCodeAt(e):-1}function wY(t){return!vY.test(t)}function xY(t){return t===mY||t===pY}var kY=/^\$\$$/,CY={continue:function(t,e){var n=t.currentLine,r=n.match(kY);if(r)return t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2;var i=e.offset;while(i>0&&xY(bY(n,t.offset)))t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(null!==e.stringContent){var n=e.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),s=i.match(/^(\s*)(.*)/);e.info=eG(s[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},SY={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},TY={continue:function(){return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},EY={continue:function(){return 0},finalize:function(t,e){var n=e.firstChild;while(n){if(yY(n)&&n.next){e.listData.tight=!1;break}var r=n.firstChild;while(r){if(yY(r)&&(n.next||r.next)){e.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(t){return"item"===t},acceptsLines:!1},OY={continue:function(t){var e=t.currentLine;return t.indented||bY(e,t.nextNonspace)!==dY?1:(t.advanceNextNonspace(),t.advanceOffset(1,!1),xY(bY(e,t.offset))&&t.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},MY={continue:function(t,e){if(t.blank){if(null===e.firstChild)return 1;t.advanceNextNonspace()}else{if(!(t.indent>=e.listData.markerOffset+e.listData.padding))return 1;t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0)}return 0},finalize:rY,canContain:function(t){return"item"!==t},acceptsLines:!1},NY={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},AY={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},DY={continue:function(t,e){var n=t.currentLine,r=t.indent;if(e.isFenced){var i=r<=3&&n.charAt(t.nextNonspace)===e.fenceChar&&n.slice(t.nextNonspace).match(_Y);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+r+i[0].length,t.finalize(e,t.lineNumber),2;var o=e.fenceOffset;while(o>0&&xY(bY(n,t.offset)))t.advanceOffset(1,!0),o--}else if(r>=hY)t.advanceOffset(hY,!0);else{if(!t.blank)return 1;t.advanceNextNonspace()}return 0},finalize:function(t,e){var n;if(null!==e.stringContent){if(e.isFenced){var r=e.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),a=o.match(/^(\s*)(.*)/);e.infoPadding=a[1].length,e.info=eG(a[2].trim()),e.literal=s}else e.literal=null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},LY={continue:function(t,e){return!t.blank||6!==e.htmlBlockType&&7!==e.htmlBlockType?0:1},finalize:function(t,e){var n;e.literal=(null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},IY={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(null!==e.stringContent){var n,r=!1;while(bY(e.stringContent,0)===gY&&(n=t.inlineParser.parseReference(e,t.refMap)))e.stringContent=e.stringContent.slice(n),r=!0;r&&wY(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},RY=SY,PY=SY,BY={document:TY,list:EY,blockQuote:OY,item:MY,heading:NY,thematicBreak:AY,codeBlock:DY,htmlBlock:LY,paragraph:IY,table:iY,tableBody:oY,tableHead:sY,tableRow:uY,tableCell:cY,tableDelimRow:aY,tableDelimCell:lY,refDef:RY,customBlock:CY,frontMatter:PY};function jY(t){for(var e=0,n=0,r=[],i=0;i<t.length;i+=1)if("|"===t[i]&&"\\"!==t[i-1]){var o=t.substring(e,i);0===e&&sG(o)?n=i+1:r.push(o),e=i+1}if(e<t.length){o=t.substring(e,t.length);sG(o)||r.push(o)}return[n,r]}function FY(t,e,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],l=a.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,h=void 0;if(u===a.length)u=0,c=0,h="";else{var p=a.match(/[ \t]+$/);c=p?p[0].length:0,h=a.slice(u,a.length-c)}var d=r+u,f=EG(t,[[n,r],[n,r+a.length-1]]);f.stringContent=h.replace(/\\\|/g,"|"),f.startIdx=i.length,f.endIdx=i.length,f.lineOffsets=[d-1],f.paddingLeft=u,f.paddingRight=c,i.push(f),r+=a.length+1}return i}function zY(t){var e=null,n=t.stringContent,r=n[0],i=n[n.length-1];return":"===i?e=":"===r?"center":"right":":"===r&&(e="left"),{align:e}}var HY=function(t,e){var n=e.stringContent;if("paragraph"===e.type&&!t.indented&&!t.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),s=t.currentLine.slice(t.nextNonspace),a=jY(o),l=a[0],u=a[1],c=jY(s),h=c[0],p=c[1],d=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!p.length||p.some((function(t){return!d.test(t)}))||1===p.length&&0!==s.indexOf("|"))return 0;var f=e.lineOffsets,m=t.lineNumber-1,g=pX(f)+1,v=EG("table",[[m,g],[t.lineNumber,t.offset]]);if(v.columns=p.map((function(){return{align:null}})),e.insertAfter(v),1===f.length)e.unlink();else{e.stringContent=n.slice(0,i);var _=n.lastIndexOf("\n",i-2)+1,y=i-_-1;t.lastLineLength=f[f.length-2]+y,t.finalize(e,m-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var b=EG("tableHead",[[m,g],[t.lineNumber,t.offset]]);v.appendChild(b);var w=EG("tableRow",[[m,g],[m,g+o.length-1]]),x=EG("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);b.appendChild(w),b.appendChild(x),FY("tableCell",u,m,g+l).forEach((function(t){w.appendChild(t)}));var k=FY("tableDelimCell",p,t.lineNumber,t.nextNonspace+1+h);return k.forEach((function(t){x.appendChild(t)})),v.columns=k.map(zY),t.tip=v,2}return 0},$Y=function(t,e){if("table"!==e.type&&"tableBody"!==e.type||!t.blank&&-1===t.currentLine.indexOf("|"))return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var n=e;return"tableBody"===e.type&&(n=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(n,t.lineNumber-1),0}var r=e;"table"===e.type&&(r=t.addChild("tableBody",t.nextNonspace),r.stringContent=null);var i=EG("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);r.appendChild(i);var o=r.parent,s=t.currentLine.slice(t.nextNonspace),a=jY(s),l=a[0],u=a[1];return FY("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach((function(t,e){e>=o.columns.length&&(t.ignored=!0),i.appendChild(t)})),2},WY=/^(\$\$)(\s*[a-zA-Z])+/,VY=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,UY=function(t){var e;if(!t.indented&&!VY.test(t.currentLine)&&(e=t.currentLine.match(WY))){var n=e[1].length;t.closeUnmatchedBlocks();var r=t.addChild("customBlock",t.nextNonspace);return r.syntaxLength=n,r.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0},qY=/^`{3,}(?!.*`)|^~{3,}/,KY=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+qG+"|"+KG+")\\s*$","i")],GY=/^(?:=+|-+)[ \t]*$/,XY=/^#{1,6}(?:[ \t]+|$)/,YY=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,JY=/^[*+-]/,QY=/^(\d{1,9})([.)])/;function ZY(t,e){var n,r,i=t.currentLine.slice(t.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=i.match(JY))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(QY))||"paragraph"===e.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(r=bY(t.currentLine,t.nextNonspace+n[0].length),-1!==r&&r!==pY&&r!==mY)return null;if("paragraph"===e.type&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(vY))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var s=t.column,a=t.offset;do{t.advanceOffset(1,!0),r=bY(t.currentLine,t.offset)}while(t.column-s<5&&xY(r));var l=-1===bY(t.currentLine,t.offset),u=t.column-s;return u>=5||u<1||l?(o.padding=n[0].length+1,t.column=s,t.offset=a,xY(bY(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):o.padding=n[0].length+u,o}function tJ(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function eJ(t,e){return t.options.disallowDeepHeading&&("blockQuote"===e.type||"item"===e.type)}var nJ=function(t){return t.indented||bY(t.currentLine,t.nextNonspace)!==dY?0:(t.advanceNextNonspace(),t.advanceOffset(1,!1),xY(bY(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1)},rJ=function(t,e){var n;if(!t.indented&&!eJ(t,e)&&(n=t.currentLine.slice(t.nextNonspace).match(XY))){t.advanceNextNonspace(),t.advanceOffset(n[0].length,!1),t.closeUnmatchedBlocks();var r=t.addChild("heading",t.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},iJ=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(qY))){var n=e[0].length;t.closeUnmatchedBlocks();var r=t.addChild("codeBlock",t.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=e[0][0],r.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0},oJ=function(t,e){if(!t.indented&&bY(t.currentLine,t.nextNonspace)===fY){var n=t.currentLine.slice(t.nextNonspace),r=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(KY[i]);if(o){if(7===i){if("paragraph"===e.type)return 0;if(r.length>0){var s=new RegExp("</?(?:"+r.join("|")+")","i");if(s.test(o[0]))return 0}}t.closeUnmatchedBlocks();var a=t.addChild("htmlBlock",t.offset);return a.htmlBlockType=i,2}}}return 0},sJ=function(t,e){var n;if(null!==e.stringContent&&!t.indented&&"paragraph"===e.type&&!eJ(t,e.parent)&&(n=t.currentLine.slice(t.nextNonspace).match(GY))){t.closeUnmatchedBlocks();var r=void 0;while(bY(e.stringContent,0)===gY&&(r=t.inlineParser.parseReference(e,t.refMap)))e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=EG("heading",e.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},aJ=function(t){return!t.indented&&YY.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},lJ=function(t,e){var n,r=e;return t.indented&&"list"!==e.type||!(n=ZY(t,r))?0:(t.closeUnmatchedBlocks(),"list"===t.tip.type&&tJ(r.listData,n)||(r=t.addChild("list",t.nextNonspace),r.listData=n),r=t.addChild("item",t.nextNonspace),r.listData=n,1)},uJ=function(t){return t.indented&&"paragraph"!==t.tip.type&&!t.blank?(t.advanceOffset(hY,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},cJ=[nJ,rJ,iJ,oJ,sJ,aJ,lJ,uJ,HY,$Y,UY],hJ=/^(-{3}|\+{3}|;{3})$/,pJ=function(t,e){var n=t.currentLine,r=t.lineNumber,i=t.indented;if(1===r&&!i&&"document"===e.type&&hJ.test(n)){t.closeUnmatchedBlocks();var o=t.addChild("frontMatter",t.nextNonspace);return o.stringContent=n,t.advanceNextNonspace(),t.advanceOffset(n.length,!1),2}return 0},dJ={continue:function(t,e){var n=t.currentLine,r=n.match(hJ);return"frontMatter"===e.type&&r?(e.stringContent+=n,t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){null!==e.stringContent&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},fJ=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],mJ=/^[#`~*+_=<>0-9-;$]/,gJ=/\r\n|\n|\r/;function vJ(){return EG("document",[[1,1],[0,0]])}var _J={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},yJ=function(){function t(t){this.options=Ro(Ro({},_J),t),this.doc=vJ(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(BY.frontMatter=dJ,cJ.unshift(pJ)),this.inlineParser=new eY(this.options)}return t.prototype.advanceOffset=function(t,e){void 0===e&&(e=!1);var n,r,i,o=this.currentLine;while(t>0&&(i=o[this.offset]))"\t"===i?(n=4-this.column%4,e?(this.partiallyConsumedTab=n>t,r=n>t?t:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,t-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,t-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,t-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){var t,e=this.currentLine,n=this.offset,r=this.column;while(""!==(t=e.charAt(n)))if(" "===t)n++,r++;else{if("\t"!==t)break;n++,r+=4-r%4}this.blank="\n"===t||"\r"===t||""===t,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=hY},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var t=4-this.column%4;this.tip.stringContent+=oG(" ",t)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},t.prototype.addChild=function(t,e){while(!BY[this.tip.type].canContain(t))this.finalize(this.tip,this.lineNumber-1);var n=e+1,r=EG(t,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){while(this.oldtip!==this.lastMatchedContainer){var t=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=t}this.allClosed=!0}},t.prototype.finalize=function(t,e){var n=t.parent;t.open=!1,t.sourcepos[1]=[e,this.lastLineLength],BY[t.type].finalize(this,t),this.tip=n},t.prototype.processInlines=function(t){var e,n=this.options.customParser,r=t.walker();this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;while(e=r.next()){var i=e.node,o=e.entering,s=i.type;n&&n[s]&&n[s](i,{entering:o,options:this.options}),o||"paragraph"!==s&&"heading"!==s&&("tableCell"!==s||i.ignored)||this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(t){var e=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==t.indexOf("\0")&&(t=t.replace(/\0/g,"�")),this.currentLine=t;var n,r=!0;while((n=e.lastChild)&&n.open){switch(e=n,this.findNextNonspace(),BY[e.type]["continue"](this,e)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=t.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){e=e.parent;break}}this.allClosed=e===this.oldtip,this.lastMatchedContainer=e;var i="paragraph"!==e.type&&BY[e.type].acceptsLines,o=cJ.length;while(!i){if(this.findNextNonspace(),"table"!==e.type&&"tableBody"!==e.type&&"paragraph"!==e.type&&!this.indented&&!mJ.test(t.slice(this.nextNonspace))){this.advanceNextNonspace();break}var s=0;while(s<o){var a=cJ[s](this,e);if(1===a){e=this.tip;break}if(2===a){e=this.tip,i=!0;break}s++}if(s===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&e.lastChild&&(e.lastChild.lastLineBlank=!0);var l=e.type,u=this.blank&&!("blockQuote"===l||OG(e)&&e.isFenced||"item"===l&&!e.firstChild&&e.sourcepos[0][0]===this.lineNumber),c=e;while(c)c.lastLineBlank=u,c=c.parent;BY[l].acceptsLines?(this.addLine(),MG(e)&&e.htmlBlockType>=1&&e.htmlBlockType<=5&&fJ[e.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=t.length,this.finalize(e,this.lineNumber))):this.offset<t.length&&!this.blank&&(e=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=t.length},t.prototype.parse=function(t,e){this.doc=vJ(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=t.split(gJ),r=n.length;this.lines=e||n,this.options.referenceDefinition&&this.clearRefMaps(),t.charCodeAt(t.length-1)===_X&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);while(this.tip)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(t,e){this.doc=vJ(),this.tip=this.doc,this.lineNumber=t-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=e.length,r=0;r<n;r++)this.incorporateLine(e[r]);return this.doc},t.prototype.partialParseExtends=function(t){for(var e=0;e<t.length;e++)this.incorporateLine(t[e])},t.prototype.partialParseFinish=function(){while(this.tip)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(t,e,n){this.refMap=t,this.refLinkCandidateMap=e,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){vX(t)}))},t}();function bJ(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function wJ(t,e){var n=t[0],r=t[1];return 1===bJ(r,e)?1:-1===bJ(n,e)?-1:0}function xJ(t,e){if(t.parent===e.parent&&t!==e){var n=t.next;while(n&&n!==e){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var s=o[i];n[s]&&(pG(n[s].id),n[s]=null)}n=r}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function kJ(t){var e=[],n=t.firstChild;while(n)e.push(n),n=n.next;return e}function CJ(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];t.insertBefore(i)}}function SJ(t,e){for(var n=e.length-1;n>=0;n-=1)t.prependChild(e[n])}function TJ(t,e){if(t&&t.parent&&0!==e){var n,r=t.parent.walker();r.resumeAt(t,!0);while(n=r.next()){var i=n.node,o=n.entering;o&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function EJ(t,e){var n=t[0],r=t[1];return r[0]<e?1:n[0]>e?-1:0}function OJ(t,e){var n=t.firstChild;while(n){var r=EJ(n.sourcepos,e);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return t.lastChild}function MJ(t){while(t.lastChild)t=t.lastChild;return t}function NJ(t){while(t.parent&&"document"!==t.parent.type&&t.parent.sourcepos[0][0]===t.sourcepos[0][0])t=t.parent;return t}function AJ(t,e){var n=t.firstChild,r=null;while(n){var i=EJ(n.sourcepos,e);if(0===i){if(n.sourcepos[0][0]===e||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?NJ(MJ(r)):null}function DJ(t,e){var n=t,r=null;while(n){var i=wJ(n.sourcepos,e);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}function LJ(t){return hG(t)||null}function IJ(t,e,n){if(void 0===n&&(n=null),e){var r=e.walker();while(e&&e!==n){t(e);var i=r.next();if(!i)break;e=i.node}}}function RJ(t){var e=LJ(t);if(!e)return!0;while(e&&"document"!==e.type){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var PJ=/\r\n|\n|\r/;function BJ(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var n=e?t.slice(e.length):t;return JY.test(n)||QY.test(n)}function jJ(t){return!wY(t)&&-1!==t.indexOf("|")}function FJ(t){var e=t.id,n=t.title,r=t.sourcepos,i=t.dest;return{id:e,title:n,sourcepos:r,unlinked:!1,destination:i}}var zJ=function(){function t(t,e){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===e||void 0===e?void 0:e.referenceDefinition),this.parser=new yJ(e),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},t=t||"",this.lineTexts=t.split(PJ),this.root=this.parser.parse(t,this.lineTexts)}return t.prototype.updateLineTexts=function(t,e,n){var r,i=t[0],o=t[1],s=e[0],a=e[1],l=n.split(PJ),u=l.length,c=this.lineTexts[i-1],h=this.lineTexts[s-1];l[0]=c.slice(0,o-1)+l[0],l[u-1]=l[u-1]+h.slice(a-1);var p=s-i+1;return(r=this.lineTexts).splice.apply(r,Po([i-1,p],l)),u-p},t.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);var t=this.lineTexts,e=t.length-1;while(""===t[e])e-=1;t.length-2>e&&(e+=1),this.root.sourcepos[1]=[e+1,t[e].length]},t.prototype.replaceRangeNodes=function(t,e,n){t?(CJ(t,n),xJ(t,e),[t.id,e.id].forEach((function(t){return pG(t)})),t.unlink()):e?(CJ(e,n),pG(e.id),e.unlink()):SJ(this.root,n)},t.prototype.getNodeRange=function(t,e){var n=OJ(this.root,t[0]),r=OJ(this.root,e[0]);return r&&r.next&&e[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},t.prototype.trigger=function(t,e){this.eventHandlerMap[t].forEach((function(t){t(e)}))},t.prototype.extendEndLine=function(t){while(""===this.lineTexts[t])t+=1;return t},t.prototype.parseRange=function(t,e,n,r){t&&t.prev&&(AG(t.prev)&&BJ(this.lineTexts[n-1])||DG(t.prev)&&jJ(this.lineTexts[n-1]))&&(t=t.prev,n=t.sourcepos[0][0]);var i=this.lineTexts.slice(n-1,r),o=this.parser.partialParseStart(n,i),s=e?e.next:this.root.firstChild,a=o.lastChild,l=a&&OG(a)&&a.open,u=a&&IG(a)&&a.open,c=a&&AG(a);while((l||u)&&s||c&&s&&("list"===s.type||s.sourcepos[0][1]>=2)){var h=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,h)),t||(t=e),e=s,r=h,s=s.next}this.parser.partialParseFinish();var p=kJ(o);return{newNodes:p,extStartNode:t,extEndNode:e}},t.prototype.getRemovedNodeRange=function(t,e){return!t||t&&LG(t)||e&&LG(e)?null:{id:[t.id,e.id],line:[t.sourcepos[0][0]-1,e.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(t,e){var n=this;if(!gX(this.refMap)){var r=function(t){if(LG(t)){var e=n.refMap[t.label];e&&t.id===e.id&&(e.unlinked=!0)}};t&&IJ(r,t.parent,e),e&&IJ(r,e)}},t.prototype.replaceWithNewRefDefState=function(t){var e=this;if(!gX(this.refMap)){var n=function(t){if(LG(t)){var n=t.label,r=e.refMap[n];r&&!r.unlinked||(e.refMap[n]=FJ(t))}};t.forEach((function(t){IJ(n,t)}))}},t.prototype.replaceWithRefDefCandidate=function(){var t=this;gX(this.refDefCandidateMap)||fX(this.refDefCandidateMap,(function(e,n){var r=n.label,i=n.sourcepos,o=t.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(t.refMap[r]=FJ(n))}))},t.prototype.getRangeWithRefDef=function(t,e,n,r,i){if(this.referenceDefinition&&!gX(this.refMap)){var o=OJ(this.root,t-1),s=OJ(this.root,e+1);o&&LG(o)&&o!==n&&o!==r&&(n=o,t=n.sourcepos[0][0]),s&&LG(s)&&s!==n&&s!==r&&(r=s,e=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,t,e]},t.prototype.parse=function(t,e,n){void 0===n&&(n=0);var r=this.getNodeRange(t,e),i=r[0],o=r[1],s=i?Math.min(i.sourcepos[0][0],t[0]):t[0],a=this.extendEndLine((o?Math.max(o.sourcepos[1][0],e[0]):e[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(s,a,i,o,n)),u=l.newNodes,c=l.extStartNode,h=l.extEndNode,p=this.getRemovedNodeRange(c,h),d=h?h.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(c,h),this.replaceRangeNodes(c,h,u),this.replaceWithNewRefDefState(u)):this.replaceRangeNodes(c,h,u),{nodes:u,removedNodeRange:p,nextNode:d}},t.prototype.parseRefLink=function(){var t=this,e=[];return gX(this.refMap)||fX(this.refMap,(function(n,r){r.unlinked&&delete t.refMap[n],fX(t.refLinkCandidateMap,(function(r,i){var o=i.node,s=i.refLabel;s===n&&e.push(t.parse(o.sourcepos[0],o.sourcepos[1]))}))})),e},t.prototype.removeUnlinkedCandidate=function(){gX(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){fX(t,(function(e){RJ(e)&&delete t[e]}))}))},t.prototype.editMarkdown=function(t,e,n){var r=this.updateLineTexts(t,e,n),i=this.parse(t,e,r),o=mX(i,"nextNode");TJ(i.nextNode,r),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(t){var e=DJ(this.root,t);return e&&e!==this.root?e:null},t.prototype.findFirstNodeAtLine=function(t){return AJ(this.root,t)},t.prototype.on=function(t,e){this.eventHandlerMap[t].push(e)},t.prototype.off=function(t,e){var n=this.eventHandlerMap[t],r=n.indexOf(e);n.splice(r,1)},t.prototype.findNodeById=function(t){return LJ(t)},t.prototype.removeAllNode=function(){dG()},t}(),HJ=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],$J=new RegExp("<(/?(?:"+HJ.join("|")+")[^>]*>)","ig");function WJ(t){return $J.test(t)?t.replace($J,(function(t,e){return"&lt;"+e})):t}var VJ={heading:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var n=e.options;return{type:"html",content:n.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var n,r=e.entering,i=null===(n=t.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var n=e.entering,r=t.listData,i=r.type,o=r.start,s="bullet"===i?"ul":"ol",a={};return"ol"===s&&null!==o&&1!==o&&(a.start=o.toString()),{type:n?"openTag":"closeTag",tagName:s,attributes:a,outerNewLine:!0}},item:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var n=e.options,r=n.tagFilter?WJ(t.literal):t.literal;return{type:"html",content:r}},htmlBlock:function(t,e){var n=e.options,r=n.tagFilter?WJ(t.literal):t.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,n=e?e.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+iG(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var n=e.entering;if(n){var r=t,i=r.title,o=r.destination;return{type:"openTag",tagName:"a",attributes:Ro({href:iG(o)},i&&{title:iG(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var n=e.getChildrenText,r=e.skipChildren,i=t,o=i.title,s=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Ro({src:iG(s),alt:n(t)},o&&{title:iG(o)})}},customBlock:function(t,e,n){var r=t.info.trim().toLowerCase(),i=n[r];if(i)try{return i(t,e)}catch(o){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,n){var r=t,i=r.info,o=r.firstChild,s=i.trim().toLowerCase(),a=n[s],l=e.entering;if(a)try{return a(t,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},UJ={strike:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var n=e.entering,r=t.listData,i=r.checked,o=r.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return o?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:Ro(Ro({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var n=e.entering;if(n)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,o=t.lastChild.endIdx,s=o+1;s<i;s+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(t,e){var n=e.entering;if(t.ignored)return{type:"text",content:""};var r=t.parent.parent,i="tableHead"===r.type?"th":"td",o=r.parent,s=o.columns[t.startIdx],a=(null===s||void 0===s?void 0:s.align)?{align:s.align}:null;return n?Ro({type:"openTag",tagName:i,outerNewLine:!0},a&&{attributes:a}):{type:"closeTag",tagName:i,outerNewLine:!0}}},qJ={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function KJ(t){var e=[],n=t.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var GJ=function(){function t(t){this.buffer=[],this.options=Ro(Ro({},qJ),t),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var t=Ro({},VJ);if(this.options.gfm&&(t=Ro(Ro({},t),UJ)),this.options.convertors){var e=this.options.convertors,n=Object.keys(e),r=Ro(Ro({},VJ),UJ);n.forEach((function(n){var i=t[n],o=e[n],s=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;t[s]=i?function(t,e,n){return e.origin=function(){return i(t,e,n)},o(t,e)}:o}))}return t},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(t){var e=this;this.buffer=[];var n=t.walker(),r=null,i=function(){var t=r.node,i=r.entering,s=o.convertors[t.type];if(!s)return"continue";var a=!1,l={entering:i,leaf:!lG(t),options:o.options,getChildrenText:KJ,skipChildren:function(){a=!0}},u=IG(t)||RG(t)?s(t,l,o.convertors):s(t,l);if(u){var c=Array.isArray(u)?u:[u];c.forEach((function(n,r){"openTag"===n.type&&e.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(t.id)),e.renderHTMLNode(n)})),a&&(n.resumeAt(t,!1),n.next())}},o=this;while(r=n.next())i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(t){switch(t.type){case"openTag":case"closeTag":this.renderElementNode(t);break;case"text":this.renderTextNode(t);break;case"html":this.renderRawHtmlNode(t);break}},t.prototype.generateOpenTagString=function(t){var e=this,n=t.tagName,r=t.classNames,i=t.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(t){var n=i[t];e.buffer.push(" "+t+'="'+n+'"')})),t.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(t){var e=t.tagName;this.buffer.push("</"+e+">")},t.prototype.addNewLine=function(){this.buffer.length&&"\n"!==pX(pX(this.buffer))&&this.buffer.push("\n")},t.prototype.addOuterNewLine=function(t){t.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(t){t.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(t){this.buffer.push(iG(t.content))},t.prototype.renderRawHtmlNode=function(t){this.addOuterNewLine(t),this.buffer.push(t.content),this.addOuterNewLine(t)},t.prototype.renderElementNode=function(t){"openTag"===t.type?(this.addOuterNewLine(t),this.generateOpenTagString(t),t.selfClose?this.addOuterNewLine(t):this.addInnerNewLine(t)):(this.addInnerNewLine(t),this.generateCloseTagString(t),this.addOuterNewLine(t))},t}();
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function XJ(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var YJ=Object.hasOwnProperty,JJ=Object.setPrototypeOf,QJ=Object.isFrozen,ZJ=Object.getPrototypeOf,tQ=Object.getOwnPropertyDescriptor,eQ=Object.freeze,nQ=Object.seal,rQ=Object.create,iQ="undefined"!==typeof Reflect&&Reflect,oQ=iQ.apply,sQ=iQ.construct;oQ||(oQ=function(t,e,n){return t.apply(e,n)}),eQ||(eQ=function(t){return t}),nQ||(nQ=function(t){return t}),sQ||(sQ=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(XJ(e))))});var aQ=vQ(Array.prototype.forEach),lQ=vQ(Array.prototype.pop),uQ=vQ(Array.prototype.push),cQ=vQ(String.prototype.toLowerCase),hQ=vQ(String.prototype.match),pQ=vQ(String.prototype.replace),dQ=vQ(String.prototype.indexOf),fQ=vQ(String.prototype.trim),mQ=vQ(RegExp.prototype.test),gQ=_Q(TypeError);function vQ(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return oQ(t,e,r)}}function _Q(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return sQ(t,n)}}function yQ(t,e){JJ&&JJ(t,null);var n=e.length;while(n--){var r=e[n];if("string"===typeof r){var i=cQ(r);i!==r&&(QJ(e)||(e[n]=i),r=i)}t[r]=!0}return t}function bQ(t){var e=rQ(null),n=void 0;for(n in t)oQ(YJ,t,[n])&&(e[n]=t[n]);return e}function wQ(t,e){while(null!==t){var n=tQ(t,e);if(n){if(n.get)return vQ(n.get);if("function"===typeof n.value)return vQ(n.value)}t=ZJ(t)}function r(t){return console.warn("fallback value for",t),null}return r}var xQ=eQ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kQ=eQ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CQ=eQ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SQ=eQ(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),TQ=eQ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),EQ=eQ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),OQ=eQ(["#text"]),MQ=eQ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),NQ=eQ(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),AQ=eQ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),DQ=eQ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),LQ=nQ(/\{\{[\s\S]*|[\s\S]*\}\}/gm),IQ=nQ(/<%[\s\S]*|[\s\S]*%>/gm),RQ=nQ(/^data-[\-\w.\u00B7-\uFFFF]/),PQ=nQ(/^aria-[\-\w]+$/),BQ=nQ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jQ=nQ(/^(?:\w+script|data):/i),FQ=nQ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function HQ(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var $Q=function(){return"undefined"===typeof window?null:window},WQ=function(t,e){if("object"!==("undefined"===typeof t?"undefined":zQ(t))||"function"!==typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:function(t){return t}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function VQ(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$Q(),e=function(t){return VQ(t)};if(e.version="2.3.3",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.Text,p=t.Comment,d=t.DOMParser,f=t.trustedTypes,m=a.prototype,g=wQ(m,"cloneNode"),v=wQ(m,"nextSibling"),_=wQ(m,"childNodes"),y=wQ(m,"parentNode");if("function"===typeof o){var b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}var w=WQ(f,n),x=w&&tt?w.createHTML(""):"",k=r,C=k.implementation,S=k.createNodeIterator,T=k.createDocumentFragment,E=k.getElementsByTagName,O=n.importNode,M={};try{M=bQ(r).documentMode?r.documentMode:{}}catch(Ft){}var N={};e.isSupported="function"===typeof y&&C&&"undefined"!==typeof C.createHTMLDocument&&9!==M;var A=LQ,D=IQ,L=RQ,I=PQ,R=jQ,P=FQ,B=BQ,j=null,F=yQ({},[].concat(HQ(xQ),HQ(kQ),HQ(CQ),HQ(TQ),HQ(OQ))),z=null,H=yQ({},[].concat(HQ(MQ),HQ(NQ),HQ(AQ),HQ(DQ))),$=null,W=null,V=!0,U=!0,q=!1,K=!1,G=!1,X=!1,Y=!1,J=!1,Q=!1,Z=!0,tt=!1,et=!0,nt=!0,rt=!1,it={},ot=null,st=yQ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),at=null,lt=yQ({},["audio","video","img","source","image","track"]),ut=null,ct=yQ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ht="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",dt="http://www.w3.org/1999/xhtml",ft=dt,mt=!1,gt=void 0,vt=["application/xhtml+xml","text/html"],_t="text/html",yt=void 0,bt=null,wt=r.createElement("form"),xt=function(t){bt&&bt===t||(t&&"object"===("undefined"===typeof t?"undefined":zQ(t))||(t={}),t=bQ(t),j="ALLOWED_TAGS"in t?yQ({},t.ALLOWED_TAGS):F,z="ALLOWED_ATTR"in t?yQ({},t.ALLOWED_ATTR):H,ut="ADD_URI_SAFE_ATTR"in t?yQ(bQ(ct),t.ADD_URI_SAFE_ATTR):ct,at="ADD_DATA_URI_TAGS"in t?yQ(bQ(lt),t.ADD_DATA_URI_TAGS):lt,ot="FORBID_CONTENTS"in t?yQ({},t.FORBID_CONTENTS):st,$="FORBID_TAGS"in t?yQ({},t.FORBID_TAGS):{},W="FORBID_ATTR"in t?yQ({},t.FORBID_ATTR):{},it="USE_PROFILES"in t&&t.USE_PROFILES,V=!1!==t.ALLOW_ARIA_ATTR,U=!1!==t.ALLOW_DATA_ATTR,q=t.ALLOW_UNKNOWN_PROTOCOLS||!1,K=t.SAFE_FOR_TEMPLATES||!1,G=t.WHOLE_DOCUMENT||!1,J=t.RETURN_DOM||!1,Q=t.RETURN_DOM_FRAGMENT||!1,Z=!1!==t.RETURN_DOM_IMPORT,tt=t.RETURN_TRUSTED_TYPE||!1,Y=t.FORCE_BODY||!1,et=!1!==t.SANITIZE_DOM,nt=!1!==t.KEEP_CONTENT,rt=t.IN_PLACE||!1,B=t.ALLOWED_URI_REGEXP||B,ft=t.NAMESPACE||dt,gt=gt=-1===vt.indexOf(t.PARSER_MEDIA_TYPE)?_t:t.PARSER_MEDIA_TYPE,yt="application/xhtml+xml"===gt?function(t){return t}:cQ,K&&(U=!1),Q&&(J=!0),it&&(j=yQ({},[].concat(HQ(OQ))),z=[],!0===it.html&&(yQ(j,xQ),yQ(z,MQ)),!0===it.svg&&(yQ(j,kQ),yQ(z,NQ),yQ(z,DQ)),!0===it.svgFilters&&(yQ(j,CQ),yQ(z,NQ),yQ(z,DQ)),!0===it.mathMl&&(yQ(j,TQ),yQ(z,AQ),yQ(z,DQ))),t.ADD_TAGS&&(j===F&&(j=bQ(j)),yQ(j,t.ADD_TAGS)),t.ADD_ATTR&&(z===H&&(z=bQ(z)),yQ(z,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&yQ(ut,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(ot===st&&(ot=bQ(ot)),yQ(ot,t.FORBID_CONTENTS)),nt&&(j["#text"]=!0),G&&yQ(j,["html","head","body"]),j.table&&(yQ(j,["tbody"]),delete $.tbody),eQ&&eQ(t),bt=t)},kt=yQ({},["mi","mo","mn","ms","mtext"]),Ct=yQ({},["foreignobject","desc","title","annotation-xml"]),St=yQ({},kQ);yQ(St,CQ),yQ(St,SQ);var Tt=yQ({},TQ);yQ(Tt,EQ);var Et=function(t){var e=y(t);e&&e.tagName||(e={namespaceURI:dt,tagName:"template"});var n=cQ(t.tagName),r=cQ(e.tagName);if(t.namespaceURI===pt)return e.namespaceURI===dt?"svg"===n:e.namespaceURI===ht?"svg"===n&&("annotation-xml"===r||kt[r]):Boolean(St[n]);if(t.namespaceURI===ht)return e.namespaceURI===dt?"math"===n:e.namespaceURI===pt?"math"===n&&Ct[r]:Boolean(Tt[n]);if(t.namespaceURI===dt){if(e.namespaceURI===pt&&!Ct[r])return!1;if(e.namespaceURI===ht&&!kt[r])return!1;var i=yQ({},["title","style","font","a","script"]);return!Tt[n]&&(i[n]||!St[n])}return!1},Ot=function(t){uQ(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(Ft){try{t.outerHTML=x}catch(Ft){t.remove()}}},Mt=function(t,n){try{uQ(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(Ft){uQ(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!z[t])if(J||Q)try{Ot(n)}catch(Ft){}else try{n.setAttribute(t,"")}catch(Ft){}},Nt=function(t){var e=void 0,n=void 0;if(Y)t="<remove></remove>"+t;else{var i=hQ(t,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=w?w.createHTML(t):t;if(ft===dt)try{e=(new d).parseFromString(o,gt)}catch(Ft){}if(!e||!e.documentElement){e=C.createDocument(ft,"template",null);try{e.documentElement.innerHTML=mt?"":o}catch(Ft){}}var s=e.body||e.documentElement;return t&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),ft===dt?E.call(e,G?"html":"body")[0]:G?e.documentElement:s},At=function(t){return S.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Dt=function(t){return!(t instanceof h||t instanceof p)&&!("string"===typeof t.nodeName&&"string"===typeof t.textContent&&"function"===typeof t.removeChild&&t.attributes instanceof c&&"function"===typeof t.removeAttribute&&"function"===typeof t.setAttribute&&"string"===typeof t.namespaceURI&&"function"===typeof t.insertBefore)},Lt=function(t){return"object"===("undefined"===typeof s?"undefined":zQ(s))?t instanceof s:t&&"object"===("undefined"===typeof t?"undefined":zQ(t))&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},It=function(t,n,r){N[t]&&aQ(N[t],(function(t){t.call(e,n,r,bt)}))},Rt=function(t){var n=void 0;if(It("beforeSanitizeElements",t,null),Dt(t))return Ot(t),!0;if(hQ(t.nodeName,/[\u0080-\uFFFF]/))return Ot(t),!0;var r=yt(t.nodeName);if(It("uponSanitizeElement",t,{tagName:r,allowedTags:j}),!Lt(t.firstElementChild)&&(!Lt(t.content)||!Lt(t.content.firstElementChild))&&mQ(/<[/\w]/g,t.innerHTML)&&mQ(/<[/\w]/g,t.textContent))return Ot(t),!0;if("select"===r&&mQ(/<template/i,t.innerHTML))return Ot(t),!0;if(!j[r]||$[r]){if(nt&&!ot[r]){var i=y(t)||t.parentNode,o=_(t)||t.childNodes;if(o&&i)for(var s=o.length,l=s-1;l>=0;--l)i.insertBefore(g(o[l],!0),v(t))}return Ot(t),!0}return t instanceof a&&!Et(t)?(Ot(t),!0):"noscript"!==r&&"noembed"!==r||!mQ(/<\/no(script|embed)/i,t.innerHTML)?(K&&3===t.nodeType&&(n=t.textContent,n=pQ(n,A," "),n=pQ(n,D," "),t.textContent!==n&&(uQ(e.removed,{element:t.cloneNode()}),t.textContent=n)),It("afterSanitizeElements",t,null),!1):(Ot(t),!0)},Pt=function(t,e,n){if(et&&("id"===e||"name"===e)&&(n in r||n in wt))return!1;if(U&&!W[e]&&mQ(L,e));else if(V&&mQ(I,e));else{if(!z[e]||W[e])return!1;if(ut[e]);else if(mQ(B,pQ(n,P,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==dQ(n,"data:")||!at[t]){if(q&&!mQ(R,pQ(n,P,"")));else if(n)return!1}else;}return!0},Bt=function(t){var n=void 0,r=void 0,i=void 0,o=void 0;It("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};o=s.length;while(o--){n=s[o];var l=n,u=l.name,c=l.namespaceURI;if(r=fQ(n.value),i=yt(u),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,It("uponSanitizeAttribute",t,a),r=a.attrValue,!a.forceKeepAttr&&(Mt(u,t),a.keepAttr))if(mQ(/\/>/i,r))Mt(u,t);else{K&&(r=pQ(r,A," "),r=pQ(r,D," "));var h=yt(t.nodeName);if(Pt(h,i,r))try{c?t.setAttributeNS(c,u,r):t.setAttribute(u,r),lQ(e.removed)}catch(Ft){}}}It("afterSanitizeAttributes",t,null)}},jt=function t(e){var n=void 0,r=At(e);It("beforeSanitizeShadowDOM",e,null);while(n=r.nextNode())It("uponSanitizeShadowNode",n,null),Rt(n)||(n.content instanceof i&&t(n.content),Bt(n));It("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(r,o){var a=void 0,l=void 0,u=void 0,c=void 0,h=void 0;if(mt=!r,mt&&(r="\x3c!--\x3e"),"string"!==typeof r&&!Lt(r)){if("function"!==typeof r.toString)throw gQ("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw gQ("dirty is not a string, aborting")}if(!e.isSupported){if("object"===zQ(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof r)return t.toStaticHTML(r);if(Lt(r))return t.toStaticHTML(r.outerHTML)}return r}if(X||xt(o),e.removed=[],"string"===typeof r&&(rt=!1),rt);else if(r instanceof s)a=Nt("\x3c!----\x3e"),l=a.ownerDocument.importNode(r,!0),1===l.nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!J&&!K&&!G&&-1===r.indexOf("<"))return w&&tt?w.createHTML(r):r;if(a=Nt(r),!a)return J?null:x}a&&Y&&Ot(a.firstChild);var p=At(rt?r:a);while(u=p.nextNode())3===u.nodeType&&u===c||Rt(u)||(u.content instanceof i&&jt(u.content),Bt(u),c=u);if(c=null,rt)return r;if(J){if(Q){h=T.call(a.ownerDocument);while(a.firstChild)h.appendChild(a.firstChild)}else h=a;return Z&&(h=O.call(n,h,!0)),h}var d=G?a.outerHTML:a.innerHTML;return K&&(d=pQ(d,A," "),d=pQ(d,D," ")),w&&tt?w.createHTML(d):d},e.setConfig=function(t){xt(t),X=!0},e.clearConfig=function(){bt=null,X=!1},e.isValidAttribute=function(t,e,n){bt||xt({});var r=yt(t),i=yt(e);return Pt(r,i,n)},e.addHook=function(t,e){"function"===typeof e&&(N[t]=N[t]||[],uQ(N[t],e))},e.removeHook=function(t){N[t]&&lQ(N[t])},e.removeHooks=function(t){N[t]&&(N[t]=[])},e.removeAllHooks=function(){N={}},e}var UQ=VQ(),qQ=["iframe","embed"],KQ=[];function GQ(t){At(qQ,t)&&KQ.push(t.toLowerCase())}function XQ(t,e){return UQ.sanitize(t,d({ADD_TAGS:KQ,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function YQ(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function JQ(t){t=t.match(an)[0];var e=t.match(new RegExp(nn,"g"));return e?e.reduce((function(t,e){var n=e.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(t[r]=i.join("=").replace(/'|"/g,"").trim()),t}),{}):{}}function QQ(t){return te(t.attributes).reduce((function(t,e){return t[e.nodeName]=e.nodeValue,t}),{})}function ZQ(t,e,n,r){var i=r.getToDOMNode(e)(t),o=n(i.outerHTML),s=document.createElement("div");s.innerHTML=o,i=s.firstChild;var a=QQ(i);return{dom:i,htmlAttrs:a}}var tZ={htmlBlock:function(t,e,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:QQ(t),childrenHTML:t.innerHTML}}}],toDOM:function(r){var i=ZQ(r,t,e,n),o=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",f([t,s],te(o.childNodes))}}},htmlInline:function(t,e,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:QQ(t)}}}],toDOM:function(r){var i=ZQ(r,t,e,n).htmlAttrs;return[t,i,0]}}}};function eZ(t,e,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(i){t[i]&&Object.keys(t[i]).forEach((function(t){var o="htmlBlock"===i?"nodes":"marks";GQ(t),r[o][t]=tZ[i](t,e,n)}))})),r}var nZ=/^\s*<\s*\//,rZ={paragraph:function(t,e){var n=e.entering,r=e.origin,i=e.options;return i.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(t){var e=t.prev&&"htmlInline"===t.prev.type,n=e&&/<br ?\/?>/.test(t.prev.literal),r=n?"\n":"<br>\n";return{type:"html",content:r}},item:function(t,e){var n=e.entering;if(n){var r={},i=[];return t.listData.task&&(r["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,n=e.fenceLength,r=e.info,i=r?r.split(/\s+/):[],o=[],s={};if(n>3&&(s["data-backticks"]=n),i.length>0&&i[0].length>0){var a=i[0];o.push("lang-"+a),s["data-language"]=a}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var n=e.origin,r=e.entering,i=e.skipChildren,o=t.info;if(-1!==o.indexOf("widget")&&r){i();var s=Pe(t),a=Ae(o,s).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:a},{type:"closeTag",tagName:"span"}]}return n()}};function iZ(t,e){var n=d({},rZ);return t&&(n.link=function(e,n){var r=n.entering,i=n.origin,o=i();return r&&(o.attributes=d(d({},o.attributes),t)),o}),e&&Object.keys(e).forEach((function(t){var r=n[t],i=e[t];r&&Un(i)?n[t]=function(t,e){var n=d({},e);return n.origin=function(){return r(t,e)},i(t,n)}:At(["htmlBlock","htmlInline"],t)&&!Un(i)?n[t]=function(t,e){var n=t.literal.match(an);if(n){var r=n[0],o=n[1],s=n[3],a=(o||s).toLowerCase(),l=i[a],u=YQ(t,a);if(l){var c=d({},t);return c.attrs=JQ(r),c.childrenHTML=u,c.type=a,e.entering=!nZ.test(t.literal),l(c,e)}}return e.origin()}:n[t]=i})),n}var oZ=["list","item","blockQuote"],sZ=["UL","OL","BLOCKQUOTE"];function aZ(t,e){var n,r=t.child(e);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function lZ(t,e,n){var r=ae(e)-1,i=le(e)-1,o=n[r].getBoundingClientRect(),s=n[i].offsetTop-n[r].offsetTop+n[i].clientHeight;return{height:s<=0?n[r].clientHeight:s+uZ(t,n,Math.min(i+1,t.childCount-1)),rect:o}}function uZ(t,e,n){var r=t.childCount-1,i=0;while(n<=r&&aZ(t,n))i+=e[n].clientHeight,n+=1;return i}function cZ(t,e){while(!t.getAttribute("data-nodeid")&&t.parentElement!==e)t=t.parentElement;return t}function hZ(t,e){var n=0;while(t&&t!==e){if(At(sZ,t.tagName)||(n+=t.offsetTop),t.offsetParent===e.offsetParent)break;t=t.parentElement}return n}function pZ(t,e){var n=e,r=null;while(n){var i=n.firstElementChild;if(!i)break;var o=dZ(i,t,hZ(n,e));r=n,n=o}var s=n||r;return s===e?null:s}function dZ(t,e,n){return t&&e>n+t.offsetTop?dZ(t.nextElementSibling,e,n)||t:null}function fZ(t,e,n,r){var i=Math.min((t-e)/n,1);return i*r}function mZ(t,e){var n=t.querySelector('[data-nodeid="'+e.id+'"]');while(!n||pe(e))e=e.parent,n=t.querySelector('[data-nodeid="'+e.id+'"]');return gZ({mdNode:e,el:n})}function gZ(t){var e=t.mdNode,n=t.el;while((At(oZ,e.type)||"table"===e.type)&&e.firstChild)e=e.firstChild,n=n.firstElementChild;return{mdNode:e,el:n}}var vZ={};function _Z(t,e){vZ[t]=vZ[t]||{},vZ[t].height=e}function yZ(t,e){vZ[t]=vZ[t]||{},vZ[t].offsetTop=e}function bZ(t){return vZ[t]&&vZ[t].height}function wZ(t){return vZ[t]&&vZ[t].offsetTop}function xZ(t){t&&(delete vZ[Number(t.getAttribute("data-nodeid"))],te(t.children).forEach((function(t){xZ(t)})))}function kZ(t,e,n){var r=bZ(n),i=wZ(n),o=r||t.clientHeight,s=i||hZ(t,e)||t.offsetTop;return r||_Z(n,o),i||yZ(n,s),{nodeHeight:o,offsetTop:s}}var CZ=fn("md-preview-highlight");function SZ(t,e){var n=t.firstChild;while(n&&n.next){if(ue(n.next)>e+1)break;n=n.next}return n}var TZ=function(){function t(t,e){var n=document.createElement("div");this.el=n,this.eventEmitter=t,this.isViewer=!!e.isViewer,this.el.className=fn("md-preview");var r=e.linkAttributes,i=e.customHTMLRenderer,o=e.sanitizer,s=e.highlight,a=void 0!==s&&s;this.renderer=new GJ({gfm:!0,nodeId:!0,convertors:iZ(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(a),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=Cn('<div class="'+fn("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(t){kn(this.el,"active",t)},t.prototype.initEvent=function(t){var e=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),this.isViewer||(t&&(this.eventEmitter.listen("changeToolbarState",(function(t){var n=t.mdNode,r=t.cursorPos;e.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){e.removeHighlight()}))),Do(this.el,"scroll",(function(t){e.eventEmitter.emit("scroll","preview",pZ(t.target.scrollTop,e.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return e.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return e.toggleActive(!1)})))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var t=this.getElementByNodeId(this.cursorNodeId);t&&it(t,CZ)}},t.prototype.updateCursorNode=function(t,e){t&&(t=ye(t,(function(t){return!_e(t)})),"tableRow"===t.type?t=SZ(t,e[1]):"tableBody"===t.type&&(t=null));var n=t?t.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&it(r,CZ),i&&Q(i,CZ),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(t){return t?this.previewContent.querySelector('[data-nodeid="'+t+'"]'):null},t.prototype.update=function(t){var e=this;t.forEach((function(t){return e.replaceRangeNodes(t)})),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(t){var e=this,n=t.nodes,r=t.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(t){return e.renderer.render(t)})).join("")));if(r){var s=r.id,a=s[0],l=s[1],u=this.getElementByNodeId(a),c=this.getElementByNodeId(l);if(u){u.insertAdjacentHTML("beforebegin",o);var h=u;while(h&&h!==c){var p=h.nextElementSibling;wn(h),xZ(h),h=p}(null===h||void 0===h?void 0:h.parentNode)&&(wn(h),xZ(h))}}else i.insertAdjacentHTML("afterbegin",o)},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){So(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return Nn(this.previewContent.innerHTML)},t.prototype.setHTML=function(t){this.previewContent.innerHTML=t},t.prototype.setHeight=function(t){I(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){I(this.el,{minHeight:t+"px"})},t}();function EZ(t,e){var n=t.depth;while(n){var r=t.node(n);if(e(r,n))return{node:r,depth:n,offset:n>0?t.before(n):0};n-=1}return null}function OZ(t){return!!EZ(t,(function(t){var e=t.type;return"listItem"===e.name||"bulletList"===e.name||"orderedList"===e.name}))}function MZ(t){return!!EZ(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function NZ(t){return EZ(t,(function(t){var e=t.type;return"listItem"===e.name}))}function AZ(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({},e&&{rawHTML:e})}}}function DZ(t){return Object.keys(t).reduce((function(e,n){return"rawHTML"!==n&&t[n]&&(n="className"===n?"class":n,e[n]=t[n]),e}),{})}function LZ(t){return{tag:t,getAttrs:function(t){return["rawHTML","colspan","rowspan","extended"].reduce((function(e,n){var r="rawHTML"===n?"data-raw-html":n,i=t.getAttribute(r);return i&&(e[n]=At(["rawHTML","extended"],n)?i:Number(i)),e}),{})}}}function IZ(){return{htmlAttrs:{default:null},classNames:{default:null}}}function RZ(t){var e=t.htmlAttrs,n=t.classNames;return d(d({},e),{class:n?n.join(" "):null})}function PZ(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(o){var s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}return null}function BZ(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(s){for(var a=s.length?s[s.length-1]:e,l=a.contentMatch,u=r;l&&u<i;u+=1)l=l.matchType(n.child(u).type);if(l&&l.validEnd)return s}return null}function jZ(t,e,n,r){var i=PZ(t,n),o=BZ(e,n);if(i&&o){var s=i.map((function(t){return{type:t}})),a=o.map((function(t){return{type:t,attrs:r}}));return s.concat({type:n}).concat(a)}return null}function FZ(t,e,n,i,s){for(var a=e.start,l=e.end,u=e.startIndex,c=e.endIndex,h=e.parent,p=r["c"].empty,d=n.length-1;d>=0;d-=1)p=r["c"].from(n[d].type.create(n[d].attrs,p));t.step(new o["b"](a-(i?2:0),l,a,l,new r["j"](p,0,0),n.length,!0));var f=0;for(d=0;d<n.length;d+=1)if(n[d].type===s){f=d+1;break}for(var m=n.length-f,g=a+n.length-(i?2:0),v=(d=u,c);d<v;d+=1){var _=d===u;!_&&Object(o["g"])(t.doc,g,m)&&(t.split(g,m),g+=2*m),g+=h.child(d).nodeSize}return t}function zZ(t,e,n,i){var o=e.$from,s=e.$to,a=e.depth,l=e,u=!1;if(a>=2&&o.node(a-1).type.compatibleContent(n)&&0===e.startIndex&&o.index(a-1)){var c=t.doc.resolve(e.start-2);l=new r["g"](c,c,a),e.endIndex<e.parent.childCount&&(e=new r["g"](o,t.doc.resolve(s.end(a)),a)),u=!0}var h=jZ(l,e,n,i);return h?FZ(t,e,h,u,n):t}function HZ(t,e){var n=t.resolve(e);while("paragraph"!==n.node().type.name)e-=2,n=t.resolve(e);return NZ(n)}function $Z(t,e){var n=e.$from,r=e.$to,i=NZ(n),o=NZ(r);if(i&&o)while(o){var s=o.offset,a=o.node,l={task:!a.attrs.task,checked:!1};if(t.setNodeMarkup(s,null,l),s===i.offset)break;o=HZ(t.doc,s)}return t}function WZ(t,e,n){var r=e.$from,i=e.$to,o=NZ(r),s=NZ(i);if(o&&s)while(s){var a=s.offset,l=s.node,u=s.depth;l.attrs.task&&t.setNodeMarkup(a,null,{task:!1,checked:!1});var c=t.doc.resolve(a);if(c.parent.type!==n){var h=c.before(u-1);t.setNodeMarkup(h,n)}if(a===o.offset)break;s=HZ(t.doc,a)}return t}function VZ(t){return function(e,n){var r=e.selection,i=e.tr,o=r.$from,s=r.$to,a=o.blockRange(s);if(a){var l=OZ(o)?WZ(i,a,t):zZ(i,a,t);return n(l),!0}return!1}}function UZ(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=n.$to,a=o.blockRange(s);if(a){var l=OZ(o)?$Z(r,a):zZ(r,a,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function qZ(t){return function(e,n){var i=e.tr,s=e.selection,a=s.$from,l=s.$to,u=a.blockRange(l,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));if(u&&u.startIndex>0){var c=u.parent,h=c.child(u.startIndex-1);if(h.type!==t)return!1;var p=h.lastChild&&h.lastChild.type===c.type,d=p?r["c"].from(t.create()):null,f=new r["j"](r["c"].from(t.create(null,r["c"].from(c.type.create(null,d)))),p?3:1,0),m=u.start,g=u.end;return i.step(new o["b"](m-(p?3:1),g,m,g,f,1,!0)),n(i),!0}return!1}}function KZ(t,e,n){var i=e.$from,s=e.$to,a=e.end,l=e.depth,u=e.parent,c=s.end(l);return a<c&&(t.step(new o["b"](a-1,c,a,c,new r["j"](r["c"].from(n.create(null,u.copy())),1,0),1,!0)),e=new r["g"](t.doc.resolve(i.pos),t.doc.resolve(c),l)),t.lift(e,Object(o["k"])(e)),t}function GZ(t,e){for(var n=e.parent,i=e.end,s=e.endIndex-1,a=e.startIndex;s>a;s-=1)i-=n.child(s).nodeSize,t.delete(i-1,i+1);var l=t.doc.resolve(e.start),u=l.nodeAfter,c=0===e.startIndex,h=e.endIndex===n.childCount,p=l.node(-1),d=l.index(-1),f=p.canReplace(d+(c?0:1),d+1,null===u||void 0===u?void 0:u.content.append(h?r["c"].empty:r["c"].from(n)));if(u&&f){var m=l.pos,g=m+u.nodeSize;t.step(new o["b"](m-(c?1:0),g+(h?1:0),m+1,g-1,new r["j"]((c?r["c"].empty:r["c"].from(n.copy(r["c"].empty))).append(h?r["c"].empty:r["c"].from(n.copy(r["c"].empty))),c?0:1,h?0:1),c?0:1))}return t}function XZ(t){return function(e,n){var r=e.tr,i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));if(a){var l=o.node(a.depth-1).type===t,u=l?KZ(r,a,t):GZ(r,a);return n(u),!0}return!1}}function YZ(t){return function(e,n){var i=e.tr,a=e.selection,l=a.$from,u=a.$to;if(l.depth<2||!l.sameParent(u))return!1;var c=l.node(-1);if(c.type!==t)return!1;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==t||l.index(-2)!==l.node(-2).childCount-1)return!1;for(var h=l.index(-1)>0,p=r["c"].empty,d=l.depth-(h?1:2);d>=l.depth-3;d-=1)p=r["c"].from(l.node(d).copy(p));return p=p.append(r["c"].from(t.createAndFill())),i.replace(h?l.before():l.before(-1),l.after(-3),new r["j"](p,h?3:2,2)),i.setSelection(s["f"].near(i.doc.resolve(l.pos+(h?3:2)))),n(i),!0}var f=u.pos===l.end()?c.contentMatchAt(0).defaultType:null,m=f&&[null,{type:f}];return i.delete(l.pos,u.pos),!!Object(o["g"])(i.doc,l.pos,2,m)&&(i.split(l.pos,2,m),n(i),!0)}}function JZ(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||!OZ(i))&&qZ(r.nodes.listItem)(t,e)}}}function QZ(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||!OZ(i))&&XZ(r.nodes.listItem)(t,e)}}}function ZZ(){return{indent:JZ(),outdent:QZ()}}var t0=new Map,e0=function(){function t(t,e,n,r){this.table=t,this.tableRows=e,this.tableStartPos=n,this.rowInfo=r}return t.create=function(e){var n=EZ(e,(function(t){var e=t.type;return"table"===e.name}));if(n){var r=n.node,i=n.depth,o=n.offset,s=t0.get(r);if((null===s||void 0===s?void 0:s.tableStartPos)===o+1)return s;var a=[],l=e.start(i),u=r.child(0),c=r.child(1),h=n0(u,l),p=n0(c,l+u.nodeSize);u.forEach((function(t){return a.push(t)})),c.forEach((function(t){return a.push(t)}));var d=new t(r,a,l,h.concat(p));return t0.set(r,d),d}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(t,e){return this.rowInfo[t][e]},t.prototype.posAt=function(t,e){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===t){var o=e;while(o<this.totalColumnCount&&this.rowInfo[n][o].offset<r)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},t.prototype.getNodeAndPos=function(t,e){var n=this.rowInfo[t][e];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(t,e){return!1},t.prototype.extendedColspan=function(t,e){return!1},t.prototype.getRowspanCount=function(t,e){return 0},t.prototype.getColspanCount=function(t,e){return 0},t.prototype.decreaseColspanCount=function(t,e){return 0},t.prototype.decreaseRowspanCount=function(t,e){return 0},t.prototype.getColspanStartInfo=function(t,e){return null},t.prototype.getRowspanStartInfo=function(t,e){return null},t.prototype.getCellStartOffset=function(t,e){var n=this.rowInfo[t][e].offset;return this.extendedRowspan(t,e)?this.posAt(t,e):n},t.prototype.getCellEndOffset=function(t,e){var n=this.rowInfo[t][e],r=n.offset,i=n.nodeSize;return this.extendedRowspan(t,e)?this.posAt(t,e):r+i},t.prototype.getCellIndex=function(t){for(var e=0;e<this.totalRowCount;e+=1)for(var n=this.rowInfo[e],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>t.pos)return[e,r];return[0,0]},t.prototype.getRectOffsets=function(t,e){var n,r,i;void 0===e&&(e=t),t.pos>e.pos&&(n=[e,t],t=n[0],e=n[1]);var o=this.getCellIndex(t),s=o[0],a=o[1],l=this.getCellIndex(e),u=l[0],c=l[1];return r=Xt(s,u),s=r[0],u=r[1],i=Xt(a,c),a=i[0],c=i[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:a,endRowIdx:u,endColIdx:c})},t.prototype.getSpannedOffsets=function(t){return t},t}(),n0=function(t,e){var n=[];return t.forEach((function(t,r){var i={rowspanMap:{},colspanMap:{},length:0};t.forEach((function(t,n){var o=t.nodeSize,s=0;while(i[s])s+=1;i[s]={offset:e+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function r0(t,e){return Gt(e0.prototype,t),n0=e,e0}function i0(t,e,n){for(var r=n.startRowIdx,i=n.startColIdx,o=n.endRowIdx,a=n.endColIdx,l=[],u=r;u<=o;u+=1)for(var c=i;c<=a;c+=1){var h=e.getCellInfo(u,c),p=h.offset,d=h.nodeSize;l.push(new s["g"](t.resolve(p+1),t.resolve(p+d-1)))}return l}function o0(t,e){var n=[];return t.childCount&&n.push(t),e.childCount&&n.push(e),r["c"].from(n)}var s0=function(t){function e(e,n){void 0===n&&(n=e);var r=this,i=e.node(0),o=e0.create(e),s=o.getRectOffsets(e,n),a=i0(i,o,s);return r=t.call(this,a[0].$from,a[0].$to,a)||this,r.startCell=e,r.endCell=n,r.offsetMap=o,r.isCellSelection=!0,r.visible=!1,r}return p(e,t),e.prototype.map=function(t,n){var r=this.startCell.pos,i=this.endCell.pos,o=t.resolve(n.map(r)),a=t.resolve(n.map(i)),l=e0.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[a.parent.type.name],h=a.end(a.depth-c),p=Math.min(h-4,a.pos);return s["h"].create(t,p)}return new e(o,a)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),e=this.startCell.start(-2),n=t.child(1).firstChild,i=t.child(0).type.create(),o=t.child(1).type.create(),s=e0.create(this.startCell),a=s.getRectOffsets(this.startCell,this.endCell),l=a.startRowIdx,u=a.startColIdx,c=a.endRowIdx,h=a.endColIdx,p=!1,d=l;d<=c;d+=1){for(var f=[],m=u;m<=h;m+=1){var g=s.getCellInfo(d,m).offset,v=t.nodeAt(g-e);v&&(p="tableHeadCell"===v.type.name,s.extendedRowspan(d,m)||s.extendedColspan(d,m)?f.push(v.type.create({extended:!0})):f.push(v.copy(v.content)))}var _=n.copy(r["c"].from(f)),y=p?i:o;y.content=y.content.append(r["c"].from(_))}return new r["j"](o0(i,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(s["f"]);function a0(t,e,n){for(var r=e.nodes,i=r.tableRow,o=r.tableHeadCell,s=r.paragraph,a=[],l=0;l<t;l+=1){var u=n&&n[l],c=s.create(null,u?e.text(u):[]);a.push(o.create(null,c))}return[i.create(null,a)]}function l0(t,e,n,r){for(var i=n.nodes,o=i.tableRow,s=i.tableBodyCell,a=i.paragraph,l=[],u=0;u<t;u+=1){for(var c=[],h=0;h<e;h+=1){var p=r&&r[u*e+h],d=a.create(null,p?n.text(p):[]);c.push(s.create(null,d))}l.push(o.create(null,c))}return l}function u0(t,e,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,s=i.tableBodyCell,a=i.paragraph,l=0===e?o:s,u=[],c=0;c<t;c+=1)u.push(l.create(r,a.create()));return u}function c0(t,e){while(t&&t!==e){if("TD"===t.nodeName||"TH"===t.nodeName)return t;t=t.parentNode}return null}function h0(t){return EZ(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function p0(t){if(t instanceof s["h"]){var e=t.$anchor,n=h0(e);if(n){var r=e.node(0).resolve(e.before(n.depth));return{anchor:r,head:r}}}var i=t,o=i.startCell,a=i.endCell;return{anchor:o,head:a}}function d0(t){var e;if(t.size){var n=t.content,r=t.openStart,i=t.openEnd;if(1!==n.childCount)return null;while(1===n.childCount&&(r>0&&i>0||"table"===(null===(e=n.firstChild)||void 0===e?void 0:e.type.name)))r-=1,i-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function f0(t){var e=t.startRowIdx,n=t.startColIdx,r=t.endRowIdx,i=t.endColIdx,o=r-e+1,s=i-n+1;return{rowCount:o,columnCount:s}}function m0(t,e){return d(d({},t.attrs),e)}var g0=new s["e"]("cellSelection"),v0=2,_0=function(){function t(t){this.view=t,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(t){var e=c0(t.target,this.view.dom);if(t.button!==v0){if(e){var n=this.getCellPos(t);n&&(this.startCellPos=n),this.bindEvent()}}else t.preventDefault()},t.prototype.handleMousemove=function(t){var e,n=g0.getState(this.view.state),r=this.getCellPos(t),i=this.startCellPos;n?e=this.view.state.doc.resolve(n):i!==r&&(e=i),e&&i&&r&&this.setCellSelection(i,r)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==g0.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(g0,-1))},t.prototype.bindEvent=function(){var t=this.view.dom;t.addEventListener("mousemove",this.handlers.mousemove),t.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var t=this.view.dom;t.removeEventListener("mousemove",this.handlers.mousemove),t.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(t){var e=t.clientX,n=t.clientY,r=this.view.posAtCoords({left:e,top:n});if(r){var i=this.view.state.doc,o=i.resolve(r.pos),s=h0(o);if(s){var a=o.before(s.depth);return i.resolve(a)}}return null},t.prototype.setCellSelection=function(t,e){var n=this.view.state,r=n.selection,i=n.tr,o=null===g0.getState(this.view.state),s=new s0(t,e);if(o||!r.eq(s)){var a=i.setSelection(s);o&&a.setMeta(g0,e.pos),this.view.dispatch(a)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),y0=fn("cell-selected");function b0(t){var e=t.selection,n=t.doc;if(e instanceof s0){var r=[],o=e.ranges;return o.forEach((function(t){var e=t.$from,n=t.$to;r.push(i["a"].node(e.pos-1,n.pos+1,{class:y0}))})),i["b"].create(n,r)}return null}function w0(){return new s["d"]({key:g0,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(g0);if(n)return-1===n?null:n;if(lt(e)||!t.docChanged)return e;var r=t.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:b0,createSelectionBetween:function(t){var e=t.state;return lt(g0.getState(e))?null:e.selection}},view:function(t){return new _0(t)}})}var x0=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(t){return B(t,this.keys)},t.prototype.get=function(t){return this.values[this.getKeyIndex(t)]},t.prototype.set=function(t,e){var n=this.getKeyIndex(t);return n>-1?this.values[n]=e:(this.keys.push(t),this.values.push(e)),this},t.prototype.has=function(t){return this.getKeyIndex(t)>-1},t.prototype.delete=function(t){var e=this.getKeyIndex(t);return e>-1&&(this.keys.splice(e,1),this.values.splice(e,1),!0)},t.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=this),this.values.forEach((function(r,i){r&&n.keys[i]&&t.call(e,r,n.keys[i],n)}))},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),k0="en-US",C0=function(){function t(){this.code=k0,this.langs=new x0}return t.prototype.setCode=function(t){this.code=t||k0},t.prototype.setLanguage=function(t,e){var n=this;t=[].concat(t),t.forEach((function(t){if(n.langs.has(t)){var r=n.langs.get(t);n.langs.set(t,y(r,e))}else n.langs.set(t,e)}))},t.prototype.get=function(t,e){e||(e=this.code);var n=this.langs.get(e);n||(n=this.langs.get(k0));var r=n[t];if(!r)throw new Error('There is no text key "'+t+'" in '+e);return r},t}(),S0=new C0,T0=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function E0(t,e){return T0.map((function(n){return n.map((function(n){var r=n.action,i=n.command,o=n.payload,s=n.disableInThead,a=n.className;return{label:S0.get(r),onClick:function(){t.emit("command",i,o)},disabled:e&&!!s,className:a}}))})).concat()}function O0(t){return new s["d"]({props:{handleDOMEvents:{contextmenu:function(e,n){var r=c0(n.target,e.dom);if(r){n.preventDefault();var i=n,o=i.clientX,s=i.clientY,a=e.dom.parentNode.getBoundingClientRect(),l=a.left,u=a.top,c="TH"===r.nodeName;return t.emit("contextmenu",{pos:{left:o-l+10+"px",top:s-u+30+"px"},menuGroups:E0(t,c),tableCell:r}),!0}return!1}}}})}function M0(){return new s["d"]({props:{handleDOMEvents:{mousedown:function(t,e){var n=e,r=n.clientX,i=n.clientY,o=t.posAtCoords({left:r,top:i});if(o){var s=t.state,a=s.doc,l=s.tr,u=a.resolve(o.pos),c=NZ(u),h=e.target,p=getComputedStyle(h,":before"),f=e,m=f.offsetX,g=f.offsetY;if(!c||!pn(p,m,g))return!1;e.preventDefault();var v=u.before(c.depth),_=c.node.attrs;return l.setNodeMarkup(v,null,d(d({},_),{checked:!_.checked})),t.dispatch(l),!0}return!1}}}})}var N0=["image","link","customBlock","frontMatter"],A0=["strong","strike","emph","code"],D0=["bulletList","orderedList","taskList"];function L0(t,e){var n=t.type.name;return"listItem"===n?t.attrs.task?"taskList":e.type.name:-1!==n.indexOf("table")?"table":n}function I0(t,e){e[t]={active:!0},D0.filter((function(e){return e!==t})).forEach((function(t){e[t]&&delete e[t]}))}function R0(t,e,n,r){A0.forEach((function(i){var o=n.marks[i],s=t.marksAcross(e)||[],a=!!o.isInSet(s);a&&(r[i]={active:!0})}))}function P0(t,e,n){var r=t.$from,i=t.$to,o=t.from,s=t.to,a={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(o,s,(function(t,e,o){var s=L0(t,o);At(N0,s)||(At(D0,s)?(I0(s,a),a.indent.disabled=!1,a.outdent.disabled=!1):"paragraph"===s||"text"===s?R0(r,i,n,a):a[s]={active:!0})})),a}function B0(t){return new s["d"]({view:function(){return{update:function(e){var n=e.state,r=n.selection,i=n.doc,o=n.schema;t.emit("changeToolbarState",{toolbarState:P0(r,i,o)})}}}})}var j0=function(){function t(t,e,n,r){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.dom.draggable=!1,o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new i["c"](o.innerViewContainer,{state:s["b"].create({doc:o.node,plugins:[Object(a["a"])({"Mod-z":function(){return Object(c["c"])(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Object(c["b"])(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(t,e){return e(t.tr.insertText("\t")),!0},Enter:l["f"],Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),Object(c["a"])()]}),dispatchTransaction:function(t){return o.dispatchInner(t)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=t,this.editorView=e,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=fn("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=fn("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var t=this,e=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");e.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return t.openEditor()})),e.appendChild(n),e.appendChild(r),this.wrapper.appendChild(e)},t.prototype.renderCustomBlock=function(){var t=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(t){var e=t(this.node);while(this.wrapper.hasChildNodes())this.wrapper.removeChild(this.wrapper.lastChild);e&&this.wrapper.appendChild(e),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=fn("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var t=this.editorView.state.selection.to,e=this.editorView.state;this.editorView.dispatch(e.tr.setSelection(re(e.tr,t))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var t=Object(c["d"])(this.innerEditorView.state);this.canceled=!0;while(t--)Object(c["c"])(this.innerEditorView.state,this.innerEditorView.dispatch),Object(c["c"])(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var e=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(s["h"].create(n.doc,e))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(t){var e=this.innerEditorView.state.applyTransaction(t),n=e.state,r=e.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Un(this.getPos)){for(var i=this.editorView.state.tr,s=o["d"].offset(this.getPos()+1),a=0;a<r.length;a+=1)for(var l=r[a].steps,u=0;u<l.length;u+=1)i.step(l[u].map(s));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,this.innerEditorView||this.renderCustomBlock(),!0)},t.prototype.stopEvent=function(t){return!!this.innerEditorView&&!!t.target&&this.innerEditorView.dom.contains(t.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),F0="image-link",z0=function(){function t(t,e,n,r){var i,o=this;this.handleMousedown=function(t){t.preventDefault();var e=t.target,n=t.offsetX,r=t.offsetY;if(o.imageLink&&Un(o.getPos)&&$e(e,F0)){var i=getComputedStyle(e,":before");if(t.stopPropagation(),pn(i,n,r)){var s=o.view.state.tr,a=o.getPos();s.setSelection(re(s,a,a+1)),o.view.dispatch(s),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(i=t.marks.filter((function(t){var e=t.type;return"link"===e.name}))[0])&&void 0!==i?i:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.createImageElement(this.node);if(this.imageLink){var e=document.createElement("span");return e.className=F0,e.appendChild(t),e}return t},t.prototype.createImageElement=function(t){var e=document.createElement("img"),n=t.attrs,r=n.imageUrl,i=n.altText,o=RZ(t.attrs);return e.src=r,i&&(e.alt=i),On(o,e),e},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),H0="toastui-editor-ww-code-block",$0="toastui-editor-ww-code-block-language",W0=function(){function t(t,e,n,r){var i=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(t){var e=t.target,n=getComputedStyle(e,":after");if("none"!==n.backgroundImage&&Un(i.getPos)){var r=i.view.coordsAtPos(i.getPos()),o=r.top,s=r.right;i.createLanguageEditor({top:o,right:s})}},this.handleKeydown=function(t){"Enter"===t.key&&i.input&&(t.preventDefault(),i.changeLanguage())},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.node.attrs.language,e=document.createElement("div");e.setAttribute("data-language",t||"text"),e.className=H0;var n=this.createCodeBlockElement(),r=n.firstChild;e.appendChild(n),this.dom=e,this.contentDOM=r},t.prototype.createCodeBlockElement=function(){var t=document.createElement("pre"),e=document.createElement("code"),n=this.node.attrs.language,r=RZ(this.node.attrs);return n&&e.setAttribute("data-language",n),On(r,t),t.appendChild(e),t},t.prototype.createLanguageEditor=function(t){var e=this,n=t.top,r=t.right,i=document.createElement("span");i.className=$0;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var s=i.clientWidth;I(i,{top:n+10+"px",left:r-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",(function(){return e.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout((function(){e.input.focus()}))},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.listen("scroll",(function(){t.input&&t.reset()}))},t.prototype.changeLanguage=function(){if(this.input&&Un(this.getPos)){var t=this.input.value;this.reset();var e=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(e,null,{language:t}),this.view.dispatch(n)}},t.prototype.reset=function(){var t;if(null===(t=this.input)||void 0===t?void 0:t.parentElement){var e=this.input.parentElement;this.input=null,wn(e)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,!0)},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),V0=/MsoListParagraph/,U0=/style=(.|\n)*mso-/,q0=/mso-list:(.*)/,K0=/O:P/,G0=/^(n|u|l)/,X0="p.MsoListParagraph";function Y0(t){return U0.test(t)}function J0(t){var e=[],n=document.createTreeWalker(t,1,null,!1);while(n.nextNode()){var r=n.currentNode;if(vn(r)){var i=r,o=i.outerHTML,s=i.textContent,a=U0.test(o),l=q0.test(o);a&&!l&&s?e.push([r,!0]):(K0.test(r.nodeName)||a&&!s||l)&&e.push([r,!1])}}return e.forEach((function(t){var e=t[0],n=t[1];n?xn(e):wn(e)})),t.innerHTML.trim()}function Q0(t,e){var n=t.getAttribute("style");if(n){var r=n.match(q0),i=r[1],o=i.trim().split(" "),s=o[1],a=parseInt(s.replace("level",""),10),l=G0.test(t.textContent||"");return{id:e,level:a,prev:null,parent:null,children:[],unordered:l,contents:J0(t)}}return null}function Z0(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{while(e){if(e.level===t.level)break;e=e.parent}e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function t1(t){var e=[];return t.forEach((function(t,n){var r=e[n-1],i=Q0(t,n);i&&(r&&Z0(i,r),e.push(i))})),e}function e1(t){var e=t[0].unordered?"ul":"ol",n=document.createElement(e);return t.forEach((function(t){var e=t.children,r=t.contents,i=document.createElement("li");i.innerHTML=r,n.appendChild(i),e.length&&n.appendChild(e1(e))})),n}function n1(t){var e=t1(t),n=e.filter((function(t){var e=t.parent;return!e}));return e1(n)}function r1(t){while(t){if(vn(t))break;t=t.nextSibling}return!t||!V0.test(t.className)}function i1(t){var e=document.createElement("div");e.innerHTML=t;var n=[],r=_n(e,X0);r.forEach((function(t){var r=r1(t.nextSibling);if(n.push(t),r){var i=n1(n),o=t.nextSibling;o?bn(i,o):yn(e,i),n=[]}wn(t)}));var i=r.length?"<p></p>":"";return""+i+e.innerHTML}var o1="\x3c!--StartFragment--\x3e",s1="\x3c!--EndFragment--\x3e";function a1(t){var e=t.indexOf(o1),n=t.lastIndexOf(s1);return e>-1&&n>-1&&(t=t.slice(e+o1.length,n)),t.replace(/<br[^>]*>/g,cn)}function l1(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function u1(t){return t=a1(t),t=l1(t),Y0(t)&&(t=i1(t)),t}function c1(t){var e=t.reduce((function(t,e){return t.childCount>e.childCount?t:e}));return e.childCount}function h1(t,e,n){for(var r=[],i=t.childCount,o=0;o<i;o+=1)if(!t.child(o).attrs.extended){var s=o<i?n.create(t.child(o).attrs,t.child(o).content):n.createAndFill();r.push(s)}return r}function p1(t,e,n){var r=n.nodes,i=r.tableRow,o=r.tableHeadCell,s=h1(t,e,o);return i.create(null,s)}function d1(t,e,n){var r=n.nodes,i=r.tableRow,o=r.tableBodyCell,s=h1(t,e,o);return i.create(null,s)}function f1(t,e){for(var n=e.nodes,r=n.tableRow,i=n.tableBodyCell,o=[],s=0;s<t;s+=1){var a=i.createAndFill();o.push(a)}return r.create({dummyRowForPasting:!0},o)}function m1(t){var e=[],n=[];if("tableHead"===t.firstChild.type.name){var r=t.firstChild;r.forEach((function(t){return e.push(t)}))}if("tableBody"===t.lastChild.type.name){var i=t.lastChild;i.forEach((function(t){return n.push(t)}))}return f(f([],e),n)}function g1(t,e,n){var r=p1(t,e,n);return n.nodes.tableHead.create(null,r)}function v1(t,e,n){var r=t.map((function(t){return d1(t,e,n)}));if(!t.length){var i=f1(e,n);r.push(i)}return n.nodes.tableBody.create(null,r)}function _1(t,e,n,r){var i=c1(t);if(n&&r)return e.nodes.table.create(null,[v1(t,i,e)]);var o=t[0],s=t.slice(1),a=[g1(o,i,e)];return s.length&&a.push(v1(s,i,e)),e.nodes.table.create(null,a)}function y1(t,e,n){var i=[],o=t.content,s=t.openStart,a=t.openEnd;return o.forEach((function(t){if("table"===t.type.name){var o=d0(new r["j"](r["c"].from(t),0,0));if(o){var s=m1(o),a="tableBody"===o.firstChild.type.name,l=_1(s,e,a,n);i.push(l)}}else i.push(t)})),new r["j"](r["c"].from(i),s,a)}var b1=4,w1=2;function x1(t){return t*b1}function k1(t,e,n){var r=[],i=m1(t),o=i[0].childCount,s=i.length,a=0===e.startRowIdx,l=i.slice(0,s);if(a){var u=l.shift();if(u){var c=p1(u,o,n).content;r.push(c)}}return l.forEach((function(t){if(!t.attrs.dummyRowForPasting){var e=d1(t,o,n).content;r.push(e)}})),r}function C1(t,e,n){for(var r=e.startRowIdx,i=e.startColIdx,o=n.length,s=0,a=function(t){var e=n[t].childCount;n[t].forEach((function(t){var n=t.attrs,r=n.colspan;r>1&&(e+=r-1)})),s=Math.max(s,e)},l=0;l<o;l+=1)a(l);var u=r+o-1,c=i+s-1,h=Math.max(u+1-t.totalRowCount,0),p=Math.max(c+1-t.totalColumnCount,0);return{startRowIdx:r,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:h,addedColumnCount:p}}function S1(t,e){for(var n=t.startRowIdx,r=t.startColIdx,i=t.endRowIdx,o=t.endColIdx,s=t.addedRowCount,a=t.addedColumnCount,l=n;l<=i-s;l+=1)e.push({rowIdx:l,startColIdx:r,endColIdx:o-a})}function T1(t,e,n,r,i){for(var o=r.startRowIdx,s=r.startColIdx,a=r.endRowIdx,l=r.endColIdx,u=r.addedRowCount,c=r.addedColumnCount,h=n.totalRowCount,p=0,d=0;d<h;d+=1){var f=n.getCellInfo(d,l-c),m=f.offset,g=f.nodeSize,v=t.mapping.map(m+g),_=u0(c,d,e);if(t.insert(v,_),d>=o&&d<=a-u){var y=n.getCellInfo(d,l-c),b=t.mapping.map(y.offset),w=v+x1(c);i[p]={rowIdx:d,startColIdx:s,endColIdx:l,dummyOffsets:[b,w]},p+=1}}}function E1(t,e,n,r,i){var o=r.addedRowCount,s=r.addedColumnCount,a=r.startColIdx,l=r.endColIdx,u=t.mapping.maps.length,c=n.tableEndOffset-2,h=l0(o,n.totalColumnCount+s,e),p=c;t.insert(t.mapping.slice(u).map(p),h);for(var d=0;d<o;d+=1){var f=p+x1(a)+1,m=p+x1(l+1)+1,g=p+x1(n.totalColumnCount+s)+w1;i.push({rowIdx:d+n.totalRowCount,startColIdx:a,endColIdx:l,dummyOffsets:[f,m]}),p=g}}function O1(t,e,n,i){var o=t.mapping.maps.length;n.forEach((function(n,s){var a=n.rowIdx,l=n.startColIdx,u=n.endColIdx,c=n.dummyOffsets,h=t.mapping.slice(o),p=new r["j"](e[s],0,0),d=c?c[0]:i.getCellStartOffset(a,l),f=c?c[1]:i.getCellEndOffset(a,u);t.replace(h.map(d),h.map(f),p)}))}function M1(t,e){var n=t.state,r=n.selection,i=n.schema,o=n.tr,s=p0(r),a=s.anchor,l=s.head;if(a&&l){var u=d0(e);if(!u)return!1;var c=e0.create(a),h=c.getRectOffsets(a,l),p=k1(u,h,i),d=C1(c,h,p),f=[];return A1(c,d)&&(S1(d,f),d.addedColumnCount&&T1(o,i,c,d,f),d.addedRowCount&&E1(o,i,c,d,f),O1(o,p,f,c),t.dispatch(o),N1(t,f,c.getCellInfo(0,0).offset)),!0}return!1}function N1(t,e,n){var r=t.state,i=r.tr,o=r.doc,s=e0.create(o.resolve(n)),a=e[0],l=a.rowIdx,u=a.startColIdx,c=$t(e),h=c.rowIdx,p=c.endColIdx,d=s.getCellInfo(l,u).offset,f=s.getCellInfo(h,p).offset;t.dispatch(i.setSelection(new s0(o.resolve(d),o.resolve(f))))}function A1(t,e){var n=t.getSpannedOffsets(e),r=f0(n),i=r.rowCount,o=r.columnCount,s=f0(e),a=s.rowCount,l=s.columnCount;return i===a&&o===l}var D1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Fn),L1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:d({},IZ()),parseDOM:[{tag:"p"}],toDOM:function(t){var e=t.attrs;return["p",RZ(e),0]}}},enumerable:!1,configurable:!0}),e}(Fn),I1=/\s{1,4}$/,R1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||OZ(i)||MZ(i))&&(e(r.insertText("    ",i.pos,o.pos)),!0)}},e.prototype.removeSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to,s=n.from,a=i.blockRange(o);if(a&&!OZ(i)&&!MZ(i)){var l=i.nodeBefore;if(l&&l.isText){var u=l.text,c=u.replace(I1,""),h=u.length-c.length;return e(r.delete(s-h,s)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Fn),P1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map((function(t){return{tag:"h"+t,getAttrs:function(e){var n=e.getAttribute("data-raw-html");return d({level:t},n&&{rawHTML:n})}}}));return{attrs:d({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},IZ()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(t){var e=t.attrs;return["h"+e.level,RZ(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){var r=e.schema.nodes[t.level?"heading":"paragraph"];return Object(l["h"])(r,t)(e,n)}}},e}(Fn),B1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:d({language:{default:null},rawHTML:{default:null}},IZ()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var e=t.getAttribute("data-raw-html"),n=t.firstElementChild;return d({language:(null===n||void 0===n?void 0:n.getAttribute("data-language"))||null},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"pre",["code",d({"data-language":e.language},RZ(e)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(l["h"])(t.schema.nodes.codeBlock)(t,e)}}},e.prototype.moveCursor=function(t){var e=this;return function(n,r){var i=n.tr,o=n.doc,s=n.schema,a=n.selection.$from,l=e.context.view;if(l.endOfTextblock(t)&&"codeBlock"===a.node().type.name){var u=a.parent.textContent.split("\n"),c="up"===t?a.start():a.end(),h="up"===t?[c,u[0].length+c]:[c-$t(u).length,c],p=o.resolve("up"===t?a.before():a.after()),d="up"===t?p.nodeBefore:p.nodeAfter;if(Wt(a.pos,h[0],h[1])&&!d){var f=ie(i,p,s);if(f)return r(f),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Fn),j1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[AZ("ul")],toDOM:function(t){var e=t.attrs;return["ul",RZ(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,e){return VZ(t.schema.nodes.bulletList)(t,e)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:UZ}},e.prototype.keymaps=function(){var t=this.changeList(),e=ZZ(),n=e.indent,r=e.outdent;return{"Mod-u":t,"Mod-U":t,Tab:n(),"Shift-Tab":r()}},e}(Fn),F1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:d({order:{default:1},rawHTML:{default:null}},IZ()),parseDOM:[{tag:"ol",getAttrs:function(t){var e=t.getAttribute("start"),n=t.getAttribute("data-raw-html");return d({order:t.hasAttribute("start")?Number(e):1},n&&{rawHTML:n})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"ol",d({start:1===e.order?null:e.order},RZ(e)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return VZ(t.schema.nodes.orderedList)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()(),e=ZZ(),n=e.indent,r=e.outdent;return{"Mod-o":t,"Mod-O":t,Tab:n(),"Shift-Tab":r()}},e}(Fn),z1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs,n=e.task,r=e.checked;if(!n)return[e.rawHTML||"li",0];var i=["task-list-item"];return r&&i.push("checked"),[e.rawHTML||"li",d({class:i.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=n.empty,a=i.nodes.listItem,l=o.parent,u=o.node(-1);if(s&&!l.childCount&&u.type===a){if(o.index(-2)>=1)return r.delete(o.start(-1)-1,o.end(-1)),e(r),!0;var c=o.node(-3);if(c.type===a)return r.delete(o.start(-2)-1,o.end(-1)),e(r),!0}return!1}},e.prototype.keymaps=function(){var t=function(t,e){return YZ(t.schema.nodes.listItem)(t,e)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Fn),H1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:d({rawHTML:{default:null}},IZ()),content:"block+",group:"block",parseDOM:[AZ("blockquote")],toDOM:function(t){var e=t.attrs;return["blockquote",RZ(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(l["j"])(t.schema.nodes.blockQuote)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Fn),$1={left:Q1,right:J1,up:Z1,down:t2};function W1(t,e,n){var r=n[0],i=n[1],o=e.resolve(t.before(r-1));return i===r&&!o.nodeBefore}function V1(t){var e,n,r=t.depth;while(r){if(n=t.node(r),"tableBodyCell"===n.type.name)break;if("listItem"===n.type.name){var i=t.node(r-1),o=i.lastChild===n,s="paragraph"!==(null===(e=n.lastChild)||void 0===e?void 0:e.type.name);return!!o&&!s}r-=1}return!1}function U1(t,e,n,r,i){var o=e[0],s=e[1],a=e[2];if("left"===t||"up"===t){if(i&&!W1(n,r,[o,s]))return!1;var l=n.before(a),u=r.resolve(l).nodeBefore;if(u)return!1}return!0}function q1(t,e,n,r,i){if("right"===t||"down"===t){if(i&&!V1(n))return!1;var o=n.after(e),s=r.resolve(o).nodeAfter;if(s)return!1}return!0}function K1(t,e,n,r){var i=e[0],o=e[1],s=i+3,a=o>=s,l=a?i+1:o,u=U1(t,[o,s,l],n,r,a),c=q1(t,l,n,r,a);return u&&c}function G1(t,e,n){var r=n[0],i=n[1],o=e.getRowspanStartInfo(r,i),s="up"===t&&0===r,a="down"===t&&((null===o||void 0===o?void 0:o.count)>1?r+o.count-1:r)===e.totalRowCount-1;return s||a}function X1(t,e,n){var r=t.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?t.setSelection(s["f"].near(r,-1)):ie(t,r,n)}function Y1(t,e,n,r){void 0===r&&(r=!1);var i=t.doc.resolve(e.tableEndOffset);return r||!i.nodeAfter?ie(t,i,n):t.setSelection(s["f"].near(i,1))}function J1(t,e){var n=t[0],r=t[1],i=e.totalRowCount,o=e.totalColumnCount,s=r===o-1,a=n===i-1&&s;if(!a){var l=r+1,u=e.getColspanStartInfo(n,r);(null===u||void 0===u?void 0:u.count)>1&&(l+=u.count-1),(s||l===o)&&(n+=1,l=0);var c=e.getCellInfo(n,l).offset;return c+2}return null}function Q1(t,e){var n=t[0],r=t[1],i=e.totalColumnCount,o=0===r,s=0===n&&o;if(!s){r-=1,o&&(n-=1,r=i-1);var a=e.getCellInfo(n,r),l=a.offset,u=a.nodeSize;return l+u-2}return null}function Z1(t,e){var n=t[0],r=t[1];if(n>0){var i=e.getCellInfo(n-1,r),o=i.offset,s=i.nodeSize;return o+s-2}return null}function t2(t,e){var n=t[0],r=t[1],i=e.totalRowCount;if(n<i-1){var o=n+1,s=e.getRowspanStartInfo(n,r);(null===s||void 0===s?void 0:s.count)>1&&(o+=s.count-1);var a=e.getCellInfo(o,r).offset;return a+2}return null}function e2(t,e,n,r){var i=$1[t],o=i(n,r);if(o){var a="right"===t||"down"===t?1:-1;return e.setSelection(s["f"].near(e.doc.resolve(o),a))}return null}function n2(t,e,n){var r=n[0],i=n[1];if("up"===t||"down"===t)return!1;var o=e.tableStartOffset,s=e.tableEndOffset,a=e.getCellInfo(r,i),l=a.offset,u=a.nodeSize,c="left"===t?o:s,h="left"===t?l-2:l+u+3;return c===h}function r2(t,e,n){var r=t.doc.resolve(e.before(n-3));return t.setSelection(new s["c"](r))}function i2(t,e,n){var r,i,o;return"up"===t?(r=n.startRowIdx,i=0,o=-1):(r=n.endRowIdx,i=e.totalColumnCount-1,o=e.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}function o2(t,e,n){var r=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,n-1),o=i.offset,s=i.nodeSize;return{from:r,to:o+s}}var s2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[AZ("table")],toDOM:function(t){var e=t.attrs;return["table",RZ(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return void 0===t&&(t={rowCount:2,columnCount:1,data:[]}),function(e,n){var r=t.rowCount,i=t.columnCount,o=t.data,s=e.schema,a=e.selection,l=e.tr,u=a.from,c=a.to,h=a.$from,p=u===c;if(p&&!MZ(h)){var d=s.nodes,f=d.tableHead,m=d.tableBody,g=null===o||void 0===o?void 0:o.slice(0,i),v=null===o||void 0===o?void 0:o.slice(i,o.length),_=a0(i,s,g),y=l0(r-1,i,s,v),b=s.nodes.table.create(null,[f.create(null,_),m.create(null,y)]);return n(l.replaceSelectionWith(b)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=e0.create(n.$anchor);if(i){var o=i.tableStartOffset,s=i.tableEndOffset,a=o-1,l=re(r.delete(a,s),a);return e(r.setSelection(l)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=p0(r),a=s.anchor,l=s.head;if(a&&l){for(var u=e0.create(a),c=u.getRectOffsets(a,l),h="left"===t?c.startColIdx:c.endColIdx+1,p=f0(c).columnCount,d=u.totalRowCount,f=0;f<d;f+=1){var m=u0(p,f,o);i.insert(i.mapping.map(u.posAt(f,h)),m)}return n(i),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=p0(n),o=i.anchor,s=i.head;if(o&&s){var a=e0.create(o),l=a.getRectOffsets(o,s),u=a.totalColumnCount,c=a.totalRowCount,h=f0(l).columnCount,p=h===u;if(p)return!1;for(var d=l.startColIdx,f=l.endColIdx,m=r.mapping.maps.length,g=0;g<c;g+=1)for(var v=f;v>=d;v-=1){var _=a.getCellInfo(g,v),y=_.offset,b=_.nodeSize,w=r.mapping.slice(m).map(y),x=w+b;r.delete(w,x)}return e(r),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(e,n){var r=e.selection,i=e.schema,o=e.tr,s=p0(r),a=s.anchor,l=s.head;if(a&&l){var u=e0.create(a),c=u.totalColumnCount,h=u.getRectOffsets(a,l),p=f0(h).rowCount,d=i2(t,u,h),f=d.targetRowIdx,m=d.insertColIdx,g=d.nodeSize,v=0===f;if(!v){for(var _=[],y=o.mapping.map(u.posAt(f,m))+g,b=[],w=0;w<c;w+=1)b=b.concat(u0(1,f,i));for(var x=0;x<p;x+=1)_.push(i.nodes.tableRow.create(null,b));return n(o.insert(y,_)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=p0(n),o=i.anchor,s=i.head;if(o&&s){var a=e0.create(o),l=a.totalRowCount,u=a.totalColumnCount,c=a.getRectOffsets(o,s),h=f0(c).rowCount,p=c.startRowIdx,d=c.endRowIdx,f=0===p,m=h===l-1;if(m||f)return!1;for(var g=d;g>=p;g-=1){var v=o2(a,g,u),_=v.from,y=v.to;r.delete(_-1,y+1)}return e(r),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return void 0===t&&(t={align:"center"}),function(e,n){var r=t.align,i=e.selection,o=e.tr,s=p0(i),a=s.anchor,l=s.head;if(a&&l){for(var u=e0.create(a),c=u.totalRowCount,h=u.getRectOffsets(a,l),p=h.startColIdx,d=h.endColIdx,f=0;f<c;f+=1)for(var m=p;m<=d;m+=1)if(!u.extendedRowspan(f,m)&&!u.extendedColspan(f,m)){var g=u.getNodeAndPos(f,m),v=g.node,_=g.pos,y=m0(v,{align:r});o.setNodeMarkup(_,null,y)}return n(o),!0}return!1}}},e.prototype.moveToCell=function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=p0(r),a=s.anchor,l=s.head;if(a&&l){var u=e0.create(a),c=u.getCellIndex(a),h=void 0;if(h=G1(t,u,c)?Y1(i,u,o):e2(t,i,c,u),h)return n(h),!0}return!1}},e.prototype.moveInCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,s=n.doc,a=n.schema,l=i.$from,u=e.context.view;if(!u.endOfTextblock(t))return!1;var c=EZ(l,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}));if(c){var h=EZ(l,(function(t){var e=t.type;return"paragraph"===e.name})),p=c.depth;if(h&&K1(t,[p,h.depth],l,s)){var d=p0(i).anchor,f=e0.create(d),m=f.getCellIndex(d),g=void 0;if(n2(t,f,m)?g=r2(o,l,p):G1(t,f,m)?"up"===t?g=X1(o,f,a):"down"===t&&(g=Y1(o,f,a)):g=e2(t,o,m,f),g)return r(g),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,e){var n=t.schema,r=t.selection,i=t.tr,o=p0(r),a=o.anchor,l=o.head,u=r instanceof s["h"];if(a&&l&&!u){for(var c=e0.create(a),h=c.getRectOffsets(a,l),p=h.startRowIdx,d=h.startColIdx,f=h.endRowIdx,m=h.endColIdx,g=p;g<=f;g+=1)for(var v=d;v<=m;v+=1)if(!c.extendedRowspan(g,v)&&!c.extendedColspan(g,v)){var _=c.getNodeAndPos(g,v),y=_.node,b=_.pos,w=u0(1,g,n,y.attrs);i.replaceWith(i.mapping.map(b),i.mapping.map(b+y.nodeSize),w)}return e(i),!0}return!1}},e.prototype.exitTable=function(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=EZ(o,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}));if(s){var a=EZ(o,(function(t){var e=t.type;return"paragraph"===e.name}));if(a){var l=p0(n).anchor,u=e0.create(l);return e(Y1(r,u,i,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Fn),a2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[AZ("thead")],toDOM:function(t){var e=t.attrs;return["thead",RZ(e),0]}}},enumerable:!1,configurable:!0}),e}(Fn),l2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[{tag:"tbody",getAttrs:function(t){var e=t.querySelectorAll("tr"),n=e[0].children.length,r=t.getAttribute("data-raw-html");return!!n&&d({},r&&{rawHTML:r})}}],toDOM:function(t){var e=t.attrs;return["tbody",RZ(e),0]}}},enumerable:!1,configurable:!0}),e}(Fn),u2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[{tag:"tr",getAttrs:function(t){var e=t.children.length,n=t.getAttribute("data-raw-html");return!!e&&d({},n&&{rawHTML:n})}}],toDOM:function(t){var e=t.attrs;return["tr",RZ(e),0]}}},enumerable:!1,configurable:!0}),e}(Fn),c2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:d({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},IZ()),isolating:!0,parseDOM:[LZ("th")],toDOM:function(t){var e=t.attrs,n=DZ(e);return["th",d(d({},n),RZ(e)),0]}}},enumerable:!1,configurable:!0}),e}(Fn),h2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[LZ("td")],toDOM:function(t){var e=t.attrs,n=DZ(e);return["td",n,0]}}},enumerable:!1,configurable:!0}),e}(Fn),p2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:d({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},IZ()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=XQ(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("src")||"",r=e.getAttribute("data-raw-html"),i=e.getAttribute("alt");return d({imageUrl:n,altText:i},r&&{rawHTML:r})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"img",d(d({src:Mt(e.imageUrl)},e.altText&&{alt:e.altText}),RZ(e))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(e,n){var r=e.schema,i=e.tr,o=t,s=o.imageUrl,a=o.altText;if(!s)return!1;var l=r.nodes.image.createAndFill(d({imageUrl:s},a&&{altText:a}));return n(i.replaceSelectionWith(l).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Fn),d2=1,f2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:d({rawHTML:{default:null}},IZ()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var e=t.attrs;return["div",RZ(e),[e.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(e,n){var r,i=e.selection,o=i.$from,s=i.$to;if(o===s){var a=e.doc,l=e.schema.nodes,u=l.thematicBreak,c=l.paragraph,h=[u.create()],p=o.node(d2),d=a.child(a.childCount-1)===p,f=a.resolve(o.after(d2)),m=(null===(r=o.nodeAfter)||void 0===r?void 0:r.type.name)===t.name;return(d||m)&&h.push(c.create()),n(e.tr.insert(f.pos,h).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Fn),m2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({},e&&{rawHTML:e})}}}));return{attrs:d({rawHTML:{default:null}},IZ()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"strong",RZ(e)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,e){return Object(l["i"])(t.schema.marks.strong)(t,e)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Jr),g2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({},e&&{rawHTML:e})}}}));return{attrs:d({rawHTML:{default:null}},IZ()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"em",RZ(e)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,e){return Object(l["i"])(t.schema.marks.emph)(t,e)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Jr),v2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({},e&&{rawHTML:e})}}}));return{attrs:d({rawHTML:{default:null}},IZ()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"del",RZ(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(l["i"])(t.schema.marks.strike)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Jr),_2=function(t){function e(e){var n=t.call(this)||this;return n.linkAttributes=e,n}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:d({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},IZ()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=XQ(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("href")||"",r=e.getAttribute("title")||"",i=e.getAttribute("data-raw-html");return d({linkUrl:n,title:r},i&&{rawHTML:i})}}],toDOM:function(e){var n=e.attrs;return[n.rawHTML||"a",d(d({href:Mt(n.linkUrl)},t.linkAttributes),RZ(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(e,n){var r=t,i=r.linkUrl,o=r.linkText,s=void 0===o?"":o,a=e.schema,l=e.tr,u=e.selection,c=u.empty,h=u.from,p=u.to;if(h&&p&&i){var d={linkUrl:i},f=a.mark("link",d);if(c&&s){var m=ne(a,s,f);l.replaceRangeWith(h,p,m)}else l.addMark(h,p,f);return n(l.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(e,n){return Object(l["i"])(e.schema.marks.link,t)(e,n)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Jr),y2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:d({rawHTML:{default:null}},IZ()),parseDOM:[{tag:"code",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return d({},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"code",RZ(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(l["i"])(t.schema.marks.code)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Jr),b2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var e=t.getAttribute("data-custom-info");return{info:e}}}],toDOM:function(t){var e=t.attrs;return["div",{"data-custom-info":e.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){return!!(null===t||void 0===t?void 0:t.info)&&Object(l["h"])(e.schema.nodes.customBlock,t)(e,n)}}},e}(Fn),w2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var r=t.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&Object(l["d"])(t,e)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Fn),x2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var r=t.selection.$from;return!(!n.endOfTextblock("down")||"htmlComment"!==r.node().type.name)&&Object(l["d"])(t,e)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Fn);function k2(t){return new Gn([new D1,new L1,new R1,new P1,new B1,new j1,new F1,new z1,new H1,new s2,new a2,new l2,new u2,new c2,new h2,new p2,new f2,new m2,new g2,new v2,new _2(t),new y2,new b2,new w2,new $n,new x2])}var C2=fn("contents"),S2=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,s=void 0===o?{}:o,a=n.linkAttributes,l=void 0===a?{}:a,u=n.useCommandShortcut,c=void 0===u||u,h=n.wwPlugins,p=void 0===h?[]:h,f=n.wwNodeViews,m=void 0===f?{}:f;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=i,r.linkAttributes=l,r.extraPlugins=p,r.pluginNodeViews=m,r.specs=r.createSpecs(),r.schema=r.createSchema(s),r.context=r.createContext(),r.keymaps=r.createKeymaps(c),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(d(d({},r.context),{view:r.view})),r.initEvent(),r}return p(e,t),e.prototype.createSpecs=function(){return k2(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new r["i"]({nodes:d(d({},this.specs.nodes),t.nodes),marks:d(d({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return f([w0(),O0(this.eventEmitter),M0(),B0(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,e=t.eventEmitter,n=t.pluginNodeViews,r={};return n&&Object.keys(n).forEach((function(t){r[t]=function(r,i,o){return n[t](r,i,o,e)}})),r},e.prototype.createView=function(){var t=this,e=this,n=e.toDOMAdaptor,r=e.eventEmitter;return new i["c"](this.el,{state:this.createState(),attributes:{class:C2},nodeViews:d({customBlock:function(t,e,r){return new j0(t,e,r,n)},image:function(t,e,n){return new z0(t,e,n,r)},codeBlock:function(t,e,n){return new W0(t,e,n,r)},widget:zn},this.createPluginNodeViews()),dispatchTransaction:function(e){var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:u1,transformPasted:function(e){return y1(e,t.schema,MZ(t.view.state.selection.$from))},handlePaste:function(t,e,n){return M1(t,n)},handleKeyDown:function(e,n){return t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{paste:function(e,n){var r=n.clipboardData||window.clipboardData,i=null===r||void 0===r?void 0:r.items;if(i){var o=te(i).some((function(t){return"string"===t.kind&&"text/rtf"===t.type}));if(!o){var s=Bn(i);s&&(n.preventDefault(),Pn(t.eventEmitter,s,n.type))}}return!1},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,ZZ())},e.prototype.getHTML=function(){return Nn(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,e=t.from,n=t.to;return[e,n]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,e,n){var i=this.view.state,o=i.schema,s=i.tr,a=t.split("\n"),l=a.map((function(t){return ee(o,Re(t,o))})),u=new r["j"](r["c"].from(l),1,1),c=st(e)&&st(n)?s.replaceRange(e,n,u):s.replaceSelection(u);this.view.dispatch(c),this.focus()},e.prototype.deleteSelection=function(t,e){var n=this.view.state.tr,r=st(t)&&st(e)?n.deleteRange(t,e):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,s=i.to;return st(t)&&st(e)&&(o=t,s=e),r.textBetween(o,s,"\n")},e.prototype.setModel=function(t,e){void 0===e&&(e=!1);var n=this.view.state,r=n.tr,i=n.doc;this.view.dispatch(r.replaceWith(0,i.content.size,t)),e&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=re(n,t,e);this.view.dispatch(n.setSelection(r).scrollIntoView())},e.prototype.addWidget=function(t,e,n){var r=this.view,i=r.dispatch,o=r.state;i(o.tr.setMeta("widget",{pos:null!==n&&void 0!==n?n:o.selection.to,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.schema,s=Re(n,o);this.view.dispatch(i.replaceWith(t,e,s))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t?n.resolve(t):r.$from,o=i.marks(),s=i.node(),a=i.start(),l=i.end(),u=s.type.name;if(o.length||"paragraph"===u){var c=o[o.length-1],h=function(t){return!t.length||At(t,c)};u=c?c.type.name:"text",s.forEach((function(t,e){var n=t.isText,r=t.nodeSize,o=t.marks,s=i.pos-a;n&&e<=s&&e+r>=s&&h(o)&&(a+=e,l=a+r)}))}return{range:[a,l],type:u}},e}(Wn),T2=F,E2=lt;function O2(t){return!T2(t)&&!E2(t)}var M2=O2,N2=M2;function A2(t){return N2(t)&&!1!==t}var D2=A2,L2=D2;function I2(t){return!L2(t)}var R2=I2,P2=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],B2=function(){function t(){var t=this;this.events=new x0,this.eventTypes=P2.reduce((function(t,e){return d(d({},t),{type:e})}),{}),this.hold=!1,P2.forEach((function(e){t.addEventType(e)}))}return t.prototype.listen=function(t,e){var n=this.getTypeInfo(t),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(e.namespace=n.namespace),r.push(e),this.events.set(n.type,r)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getTypeInfo(t),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(t){var n=t.apply(void 0,e);F(n)||o.push(n)})),o},t.prototype.emitReduce=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.events.get(t);return!this.hold&&i&&i.forEach((function(t){var r=t.apply(void 0,f([e],n));R2(r)||(e=r)})),e},t.prototype.getTypeInfo=function(t){var e=t.split(".");return{type:e[0],namespace:e[1]}},t.prototype.hasEventType=function(t){return!F(this.eventTypes[this.getTypeInfo(t).type])},t.prototype.addEventType=function(t){if(this.hasEventType(t))throw new Error("There is already have event type "+t);this.eventTypes[t]=t},t.prototype.removeEventHandler=function(t,e){var n=this,r=this.getTypeInfo(t),i=r.type,o=r.namespace;i&&e?this.removeEventHandlerWithHandler(i,e):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(t,e){n.removeEventHandlerWithTypeInfo(e,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(t,e){var n=this.events.get(t);if(n){var r=n.indexOf(e);n.indexOf(e)>=0&&n.splice(r,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(t,e){var n=[],r=this.events.get(t);r&&(r.map((function(t){return t.namespace!==e&&n.push(t),null})),this.events.set(t,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(t){this.hold=!0,t(),this.hold=!1},t}(),j2=function(){function t(t,e,n,r){this.eventEmitter=t,this.mdCommands=e,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return t.prototype.initEvent=function(){var t=this;this.eventEmitter.listen("command",(function(e,n){t.exec(e,n)}))},t.prototype.addCommand=function(t,e,n){"markdown"===t?this.mdCommands[e]=n:this.wwCommands[e]=n},t.prototype.deleteCommand=function(t,e){"markdown"===t?delete this.mdCommands[e]:delete this.wwCommands[e]},t.prototype.exec=function(t,e){var n=this.getEditorType();"markdown"===n?this.mdCommands[t](e):this.wwCommands[t](e)},t}();function F2(t){return"\n"===t[t.length-1]?t.slice(0,t.length-1):t}function z2(t,e){var n=t.schema,r=e.literal,i=r.match(an);if(i){var o=i[1],s=i[3],a=(o||s).toLowerCase();return"htmlInline"===e.type&&!(!n.marks[a]&&!n.nodes[a])}return!1}function H2(t){var e=t.type;return At(["text","strong","emph","strike","image","link","code"],e)}function $2(t){return"softbreak"===(null===t||void 0===t?void 0:t.type)}function W2(t){var e=t.type,n=t.literal,r="htmlInline"===e&&n.match(an);if(r){var i=r[1],o=r[3],s=i||o;if(s)return At(["ul","ol","li"],s.toLowerCase())}return!1}function V2(t){var e=t.literal,n=/data-task/.test(e),r=/data-task-checked/.test(e);return{task:n,checked:r}}function U2(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElement("div");r.innerHTML=XQ(t);var i=r.firstChild;return e.map((function(t){return i.getAttribute(t)||""}))}function q2(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split(", ");r.forEach((function(r){var i=r.toLowerCase();e[i]=t[n]}))})),e}var K2={"b, strong":function(t,e,n){var r=t.schema.marks.strong;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"i, em":function(t,e,n){var r=t.schema.marks.emph;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"s, del":function(t,e,n){var r=t.schema.marks.strike;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},code:function(t,e,n){var r=t.schema.marks.code;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},a:function(t,e,n){var r=e.literal,i=t.schema.marks.link;if(n){var o=U2(r,"href")[0];t.openMark(i.create({linkUrl:o,rawHTML:n}))}else t.closeMark(i)},img:function(t,e,n){var r=e.literal;if(n){var i=U2(r,"src","alt"),o=i[0],s=i[1],a=t.schema.nodes.image;t.addNode(a,d({rawHTML:n,imageUrl:o},s&&{altText:s}))}},hr:function(t,e,n){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:n})},br:function(t,e){var n=t.schema.nodes.paragraph,r=e.parent,i=e.prev,o=e.next;"paragraph"===(null===r||void 0===r?void 0:r.type)?($2(i)&&t.openNode(n),$2(o)?t.closeNode():o&&(t.closeNode(),t.openNode(n))):"tableCell"===(null===r||void 0===r?void 0:r.type)&&(i&&(H2(i)||z2(t,i))&&t.closeNode(),o&&(H2(o)||z2(t,o))&&t.openNode(n))},pre:function(t,e,n){var r,i,o=document.createElement("div");o.innerHTML=e.literal;var s=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:n}),t.addText(F2(s)),t.closeNode()},"ul, ol":function(t,e,n){if("tableCell"===e.parent.type){var r=t.schema.nodes,i=r.bulletList,o=r.orderedList,s=r.paragraph,a="ul"===n?i:o;n?(e.prev&&!W2(e.prev)&&t.closeNode(),t.openNode(a,{rawHTML:n})):(t.closeNode(),e.next&&!W2(e.next)&&t.openNode(s))}},li:function(t,e,n){var r;if("tableCell"===(null===(r=e.parent)||void 0===r?void 0:r.type)){var i=t.schema.nodes,o=i.listItem,s=i.paragraph;if(n){var a=V2(e);e.prev&&!W2(e.prev)&&t.closeNode(),t.openNode(o,d({rawHTML:n},a)),e.next&&!W2(e.next)&&t.openNode(s)}else e.prev&&!W2(e.prev)&&t.closeNode(),t.closeNode()}}},G2=q2(K2);function X2(t){return"htmlInline"===t.type&&ln.test(t.literal)}function Y2(t){te(t.childNodes).forEach((function(t){if(vn(t)){var e=t.nodeName.toLowerCase();t.setAttribute("data-raw-html",e),t.childNodes&&Y2(t)}}))}var J2={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,n,r){var i,o=n.entering;if(o){var s=t.schema.nodes.paragraph;"paragraph"===(null===(i=e.prev)||void 0===i?void 0:i.type)&&(t.openNode(s,r),t.closeNode()),t.openNode(s,r)}else t.closeNode()},heading:function(t,e,n,r){var i=n.entering;if(i){var o=e,s=o.level,a=o.headingType;t.openNode(t.schema.nodes.heading,d({level:s,headingType:a},r))}else t.closeNode()},codeBlock:function(t,e,n){var r=t.schema.nodes.codeBlock,i=e,o=i.info,s=i.literal;t.openNode(r,d({language:o},n)),t.addText(F2(s||"")),t.closeNode()},list:function(t,e,n,r){var i=n.entering;if(i){var o=t.schema.nodes,s=o.bulletList,a=o.orderedList,l=e.listData,u=l.type,c=l.start;"bullet"===u?t.openNode(s,r):t.openNode(a,d({order:c},r))}else t.closeNode()},item:function(t,e,n,r){var i=n.entering,o=t.schema.nodes.listItem,s=e.listData,a=s.task,l=s.checked;if(i){var u=d(d(d({},a&&{task:a}),l&&{checked:l}),r);t.openNode(o,u)}else t.closeNode()},blockQuote:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.blockQuote,r):t.closeNode()},image:function(t,e,n,r){var i=n.entering,o=n.skipChildren,s=t.schema.nodes.image,a=e,l=a.destination,u=a.firstChild;i&&o&&o(),t.addNode(s,d(d({imageUrl:l},u&&{altText:u.literal}),r))},thematicBreak:function(t,e,n,r){t.addNode(t.schema.nodes.thematicBreak,r)},strong:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strong;i?t.openMark(o.create(r)):t.closeMark(o)},emph:function(t,e,n,r){var i=n.entering,o=t.schema.marks.emph;i?t.openMark(o.create(r)):t.closeMark(o)},link:function(t,e,n,r){var i=n.entering,o=t.schema.marks.link,s=e,a=s.destination,l=s.title;if(i){var u=d({linkUrl:a,title:l},r);t.openMark(o.create(u))}else t.closeMark(o)},softbreak:function(t,e){if("paragraph"===e.parent.type){var n=e.prev,r=e.next;n&&!X2(n)&&t.closeNode(),r&&!X2(r)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.table,r):t.closeNode()},tableHead:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableHead,r):t.closeNode()},tableBody:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableBody,r):t.closeNode()},tableRow:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableRow,r):t.closeNode()},tableCell:function(t,e,n){var r=n.entering;if(!e.ignored){var i=function(e){return e&&(H2(e)||z2(t,e))};if(r){var o=t.schema.nodes,s=o.tableHeadCell,a=o.tableBodyCell,l=o.paragraph,u=e.parent.parent,c="tableHead"===u.type?s:a,h=u.parent,p=(h.columns[e.startIdx]||{}).align,f=d({},e.attrs);p&&(f.align=p),t.openNode(c,f),i(e.firstChild)&&t.openNode(l)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strike;i?t.openMark(o.create(r)):t.closeMark(o)},code:function(t,e,n,r){var i=t.schema.marks.code;t.openMark(i.create(r)),t.addText(F2(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var n=t.schema.nodes,r=n.customBlock,i=n.paragraph,o=e,s=o.info,a=o.literal;t.openNode(r,{info:s}),t.addText(F2(a||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var n=e.literal,r=n.match(an),i=r[1],o=r[3],s=(i||o).toLowerCase(),a=t.schema.marks[s],l=XQ(n);if(null===a||void 0===a?void 0:a.spec.attrs.htmlInline)if(i){var u=JQ(l);t.openMark(a.create({htmlAttrs:u}))}else t.closeMark(a);else{var c=G2[s];c&&c(t,e,i)}},htmlBlock:function(t,e){var n=e.literal,r=document.createElement("div"),i=un.test(n);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var o=n.match(an),s=o[1],a=o[3],l=(s||a).toLowerCase(),u=t.schema.nodes[l],c=XQ(n);if(null===u||void 0===u?void 0:u.spec.attrs.htmlBlock){var h=JQ(c),p=YQ(e,l);t.addNode(u,{htmlAttrs:h,childrenHTML:p})}else r.innerHTML=c,Y2(r),t.convertByDOMParser(r)}},customInline:function(t,e,n){var r=n.entering,i=n.skipChildren,o=e,s=o.info,a=o.firstChild,l=t.schema;if(-1!==s.indexOf("widget")&&r){var u=Pe(e);i(),t.addNode(l.nodes.widget,{info:s},[l.text(Ne(s,u))])}else{var c="$$";r&&(c+=a?s+" ":s),t.addText(c)}}};function Q2(t){var e=Object.keys(t),n=d({},J2),r=new GJ({gfm:!0,nodeId:!0,convertors:t}),i=r.getConvertors();return e.forEach((function(e){var r=J2[e];r&&!At(["htmlBlock","htmlInline"],e)&&(n[e]=function(n,o,s){s.origin=function(){return i[e](o,s,i)};var a,l=t[e](o,s);if(l){var u=Array.isArray(l)?l[0]:l,c=u.attributes,h=u.classNames;a={htmlAttrs:c,classNames:h}}r(n,o,s,a)})})),n}function Z2(t,e){return!!(t.isText&&e.isText&&r["d"].sameSet(t.marks,e.marks))&&t.withText(t.text+e.text)}var t3=function(){function t(t,e){this.schema=t,this.convertors=e,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=r["d"].none}return t.prototype.top=function(){return $t(this.stack)},t.prototype.push=function(t){this.stack.length&&this.top().content.push(t)},t.prototype.addText=function(t){if(t){var e=this.top().content,n=$t(e),r=this.schema.text(t,this.marks),i=n&&Z2(n,r);i?e[e.length-1]=i:e.push(r)}},t.prototype.openMark=function(t){this.marks=t.addToSet(this.marks)},t.prototype.closeMark=function(t){this.marks=t.removeFromSet(this.marks)},t.prototype.addNode=function(t,e,n){var r=t.createAndFill(e,n,this.marks);return r?(this.push(r),r):null},t.prototype.openNode=function(t,e){this.stack.push({type:t,attrs:e,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=r["d"].none);var t=this.stack.pop(),e=t.type,n=t.attrs,i=t.content;return this.addNode(e,n,i)},t.prototype.convertByDOMParser=function(t){var e=this,n=r["a"].fromSchema(this.schema).parse(t);n.content.forEach((function(t){return e.push(t)}))},t.prototype.closeUnmatchedHTMLInline=function(t,e){var n;if(!e&&"htmlInline"!==t.type)for(var r=this.stack.length-1,i=r;i>=0;i-=1){var o=this.stack[i];if(!(null===(n=o.attrs)||void 0===n?void 0:n.rawHTML))break;o.content.length?this.closeNode():this.stack.pop()}},t.prototype.convert=function(t,e){var n=t.walker(),r=n.next(),i=function(){var t=r.node,i=r.entering,s=o.convertors[t.type],a=!1;if(s){var l={entering:i,leaf:!Ce(t),getChildrenText:Se,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){a=!0}};if(o.closeUnmatchedHTMLInline(t,i),s(o,t,l),(null===e||void 0===e?void 0:e.node)===t){var u=o.stack.reduce((function(t,e){return t+e.content.reduce((function(t,e){return t+e.nodeSize}),0)}),0)+1;e.setMappedPos(u)}}a&&(n.resumeAt(t,!1),n.next()),r=n.next()},o=this;while(r)i()},t.prototype.convertNode=function(t,e){return this.convert(t,e),this.stack.length?this.closeNode():null},t}();function e3(t,e,n){var r=n[0],i=n[1];t.write(r),t.convertInline(e),t.write(i)}function n3(t,e,n){var r=e.node,i=e.parent,o=n[0],s=n[1];t.stopNewline=!0,t.write(o),t.convertNode(r),t.write(s),"doc"===(null===i||void 0===i?void 0:i.type.name)&&(t.closeBlock(r),t.stopNewline=!1)}function r3(t,e){var n=t.length,r="",i="";return"left"===e?(r=":",n-=1):"right"===e?(i=":",n-=1):"center"===e&&(r=":",i=":",n-=2),""+r+Rt("-",Math.max(n,3))+i}var i3={text:function(t,e){var n,r=e.node,i=null!==(n=r.text)&&void 0!==n?n:"";(r.marks||[]).some((function(t){return"link"===t.type.name}))?t.text(Bt(i),!1):t.text(i)},paragraph:function(t,e){var n=e.node,r=e.parent,i=e.index,o=void 0===i?0:i;if(t.stopNewline)t.convertInline(n);else{var s=0===o,a=!s&&r.child(o-1),l=a&&0===a.childCount,u=o<r.childCount-1&&r.child(o+1),c=u&&"paragraph"===u.type.name,h=0===n.childCount;if(h&&l)t.write("<br>\n");else if(!h||l||s)t.convertInline(n),c?t.write("\n"):t.closeBlock(n);else{if("listItem"===(null===r||void 0===r?void 0:r.type.name)){var p=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(p)}t.write("\n")}}},heading:function(t,e,n){var r=e.node,i=n.delim,o=r.attrs.headingType;"atx"===o?(t.write(i+" "),t.convertInline(r),t.closeBlock(r)):(t.convertInline(r),t.ensureNewLine(),t.write(i),t.closeBlock(r))},codeBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,s=i,a=s[0],l=s[1];t.write(a),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(l),t.closeBlock(r)},blockQuote:function(t,e,n){var r=e.node,i=e.parent,o=n.delim;(null===i||void 0===i?void 0:i.type.name)===r.type.name&&t.flushClose(1),t.wrapBlock(o,null,r,(function(){return t.convertNode(r)}))},bulletList:function(t,e,n){var r=e.node,i=n.delim;t.convertList(r,Rt(" ",4),(function(){return i+" "}))},orderedList:function(t,e){var n=e.node,r=n.attrs.order||1;t.convertList(n,Rt(" ",4),(function(t){var e=String(r+t);return e+". "}))},listItem:function(t,e){var n=e.node,r=n.attrs,i=r.task,o=r.checked;i&&t.write("["+(o?"x":" ")+"] "),t.convertNode(n)},image:function(t,e,n){var r=n.attrs;t.write("!["+(null===r||void 0===r?void 0:r.altText)+"]("+(null===r||void 0===r?void 0:r.imageUrl)+")")},thematicBreak:function(t,e,n){var r=e.node,i=n.delim;t.write(i),t.closeBlock(r)},table:function(t,e){var n=e.node;t.convertNode(n),t.closeBlock(n)},tableHead:function(t,e,n){var r=e.node,i=n.delim,o=r.firstChild;t.convertNode(r);var s=null!==i&&void 0!==i?i:"";!i&&o&&o.forEach((function(t){var e=t.textContent,n=t.attrs,r=r3(e,n.align);s+="| "+r+" "})),t.write(s+"|"),t.ensureNewLine()},tableBody:function(t,e){var n=e.node;t.convertNode(n)},tableRow:function(t,e){var n=e.node;t.convertNode(n),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},tableBodyCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},customBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,s=i,a=s[0],l=s[1];t.write(a),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(l),t.closeBlock(r)},frontMatter:function(t,e,n){var r=e.node,i=n.text;t.text(i,!1),t.closeBlock(r)},widget:function(t,e,n){var r=n.text;t.write(r)},html:function(t,e,n){var r=e.node,i=n.text;t.write(i),r.attrs.htmlBlock&&t.closeBlock(r)},htmlComment:function(t,e,n){var r=e.node,i=n.text;t.write(i),t.closeBlock(r)}};function o3(t,e){var n=e.state,r=e.nodeInfo,i=e.params,o=i.rawHTML;o?B(t,["heading","codeBlock"])>-1?e3(n,r.node,o):B(t,["image","thematicBreak"])>-1?n.write(o):n3(n,r,o):i3[t](n,r,i)}function s3(t,e){var n=t.text,r=/`+/g,i=0;if(t.isText&&n){var o=r.exec(n);while(o)i=Math.max(i,o[0].length),o=r.exec(n)}for(var s=i>0&&e>0?" `":"`",a=0;a<i;a+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function a3(t){return t?["<"+t+">","</"+t+">"]:null}function l3(t){return t?"<"+t+">":null}function u3(t){return t?"</"+t+">":null}var c3={heading:function(t){var e=t.node,n=e.attrs,r=n.level,i=Rt("#",r);return"setext"===n.headingType&&(i=1===r?"===":"---"),{delim:i,rawHTML:a3(n.rawHTML)}},codeBlock:function(t){var e=t.node,n=e,r=n.attrs,i=n.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:a3(r.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:a3(e.attrs.rawHTML)}},bulletList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:a3(i)}},orderedList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:a3(i)}},listItem:function(t,e){var n=t.node,r=e.inTable,i=n.attrs,o=i.task,s=i.checked,a=n.attrs.rawHTML;r&&(a=a||"li");var l=o?' class="task-list-item'+(s?" checked":"")+'"':"",u=o?" data-task"+(s?" data-task-checked":""):"";return{rawHTML:a?["<"+a+l+u+">","</"+a+">"]:null}},table:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:a3(e.attrs.rawHTML)}},image:function(t){var e=t.node,n=e.attrs,r=n.rawHTML,i=n.altText,o=n.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+Mt(i)+'"':"";return{rawHTML:r?"<"+r+' src="'+Mt(o)+'"'+s+">":null,attrs:{altText:Bt(i||""),imageUrl:o}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:l3(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,n=e,r=n.attrs,i=n.textContent;return{delim:["$$"+r.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e,n){var r=t.node,i=e.entering,o=r.attrs.rawHTML,s="**";return n||(s=i?"<strong>":"</strong>"),{delim:s,rawHTML:i?l3(o):u3(o)}},emph:function(t,e,n){var r=t.node,i=e.entering,o=r.attrs.rawHTML,s="*";return n||(s=i?"<em>":"</em>"),{delim:s,rawHTML:i?l3(o):u3(o)}},strike:function(t,e,n){var r=t.node,i=e.entering,o=r.attrs.rawHTML,s="~~";return n||(s=i?"<del>":"</del>"),{delim:s,rawHTML:i?l3(o):u3(o)}},link:function(t,e){var n=t.node,r=e.entering,i=n.attrs,o=i.title,s=i.rawHTML,a=i.linkUrl.replace(/&amp;/g,"&"),l=o?' title="'+Mt(o)+'"':"";return r?{delim:"[",rawHTML:s?"<"+s+' href="'+Mt(a)+'"'+l+">":null}:{delim:"]("+a+(o?" "+Ft(Bt(o)):"")+")",rawHTML:u3(s)}},code:function(t,e){var n=t.node,r=t.parent,i=t.index,o=void 0===i?0:i,s=e.entering,a=s?s3(r.child(o),-1):s3(r.child(o-1),1),l=s?l3(n.attrs.rawHTML):u3(n.attrs.rawHTML);return{delim:a,rawHTML:l}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var n=t.node,r=e.entering,i=n.type.name,o=n.attrs.htmlAttrs,s="<"+i,a="</"+i+">";return Object.keys(o).forEach((function(t){s+=" "+t+'="'+o[t].replace(/"/g,"'")+'"'})),s+=">",n.attrs.htmlInline?{rawHTML:r?s:a}:{text:""+s+n.attrs.childrenHTML+a}}},h3={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function p3(t){var e={},n=Object.keys(i3);return n.forEach((function(n){e[n]=function(e,r){var i=i3[n];if(i){var o=t[n],s=o?o(r,{inTable:e.inTable}):{};o3(n,{state:e,nodeInfo:r,params:s})}}})),e}function d3(t){var e={},n=Object.keys(h3);return n.forEach((function(n){e[n]=function(e,r,i){var o=h3[n],s=t[n],a=s&&e&&!F(r),l=a?s(e,{entering:r},i):{};return d(d({},l),o)}})),e}function f3(t){var e=Object.keys(t);e.forEach((function(e){var n=c3[e],r=t[e];c3[e]=n?function(t,e){return e.origin=function(){return n(t,e)},r(t,e)}:r,delete t[e]}));var n=p3(c3),r=d3(c3);return{nodeTypeConvertors:n,markTypeConvertors:r}}var m3=function(){function t(t){var e=t.nodeTypeConvertors,n=t.markTypeConvertors;this.nodeTypeConvertors=e,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(t){var e=t.attrs.htmlInline?"html":t.type.name;return this.markTypeConvertors[e]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.isBetweenSpaces=function(t,e){var n,r,i=t.content,o=0===e||Jt(null!==(n=i.child(e-1).text)&&void 0!==n?n:hn),s=e>=i.childCount-1||Yt(null!==(r=i.child(e+1).text)&&void 0!==r?r:hn);return o&&s},t.prototype.markText=function(t,e,n,r){var i=this.getMarkConvertor(t);if(i){var o=this.isBetweenSpaces(n,e?r:r-1),s=i({node:t,parent:n,index:r},e,o),a=s.delim,l=s.rawHTML;return l||a}return""},t.prototype.setDelim=function(t){this.delim=t},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(t){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),t||(t=2),t>1){var e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(var r=1;r<t;r+=1)this.result+=e+"\n"}this.closed=!1}},t.prototype.wrapBlock=function(t,e,n,r){var i=this.getDelim();this.write(e||t),this.setDelim(this.getDelim()+t),r(),this.setDelim(i),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},t.prototype.write=function(t){void 0===t&&(t=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),t&&(this.result+=t)},t.prototype.closeBlock=function(t){this.closed=t},t.prototype.text=function(t,e){void 0===e&&(e=!0);for(var n=t.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=e?jt(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},t.prototype.convertBlock=function(t,e,n){var r=t.type.name,i=this.nodeTypeConvertors[r],o={node:t,parent:e,index:n};t.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(t){var e=this,n=[],r="",i=function(i,o,s){var a=i?i.marks:[],l=r;r="";var u=i&&i.isText&&a.some((function(t){var n=e.getMarkConvertor(t),r=n&&n();return r&&r.removedEnclosingWhitespace}));if(u&&i&&i.text){var c=/^(\s*)(.*?)(\s*)$/m.exec(i.text),h=c[1],p=c[2],d=c[3];l+=h,r=d,(h||d)&&(i=p?i.withText(p):null,i||(a=n))}for(var f=a.length&&$t(a),m=f&&e.getMarkConvertor(f),g=m&&m(),v=g&&!1===g.escape,_=a.length-(v?1:0),y=0;y<_;y+=1){p=a[y];if(g&&!g.mixable)break;for(var b=0;b<n.length;b+=1){var w=n[b];if(g&&!g.mixable)break;if(p.eq(w)){y>b?a=a.slice(0,b).concat(p).concat(a.slice(b,y)).concat(a.slice(y+1,_)):b>y&&(a=a.slice(0,y).concat(a.slice(y+1,b)).concat(p).concat(a.slice(b,_)));break}}}var x=0;while(x<Math.min(n.length,_)&&a[x].eq(n[x]))x+=1;while(x<n.length){var k=n.pop();k&&e.text(e.markText(k,!1,t,s),!1)}if(l&&e.text(l),i){while(n.length<_){p=a[n.length];n.push(p),e.text(e.markText(p,!0,t,s),!1)}v&&i.isText?e.text(e.markText(f,!0,t,s)+i.text+e.markText(f,!1,t,s+1),!1):e.convertBlock(i,t,s)}};t.forEach(i),i(null,null,t.childCount)},t.prototype.convertList=function(t,e,n){var r,i=this;this.closed&&this.closed.type===t.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=null===(r=t.attrs.tight)||void 0===r||r,s=this.tightList;this.tightList=o,t.forEach((function(r,s,a){a&&o&&i.flushClose(1),i.wrapBlock(e,n(a),t,(function(){return i.convertBlock(r,t,a)}))})),this.tightList=s},t.prototype.convertTableCell=function(t){var e=this;this.stopNewline=!0,this.inTable=!0,t.forEach((function(n,r,i){if(At(["bulletList","orderedList"],n.type.name))e.convertBlock(n,t,i),e.closed=!1;else if(e.convertInline(n),i<t.childCount-1){var o=t.child(i+1);"paragraph"===o.type.name&&e.write("<br>")}})),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(t,e){var n=this;return t.forEach((function(r,i,o){if(n.convertBlock(r,t,o),(null===e||void 0===e?void 0:e.node)===r){var s=n.result.split("\n");e.setMappedPos([s.length,$t(s).length+1])}})),this.result},t}(),g3=function(){function t(t,e,n,r){var i=this;this.setMappedPos=function(t){i.mappedPosWhenConverting=t},this.schema=t,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Q2(n),this.toMdConvertors=f3(e||{}),this.eventEmitter.listen("setFocusedNode",(function(t){return i.focusedNode=t}))}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(t){var e=new t3(this.schema,this.toWwConvertors);return e.convertNode(t,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(t){var e=new m3(this.toMdConvertors),n=e.convertNode(t,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function v3(t){var e=t.plugin,n=t.eventEmitter,o=t.usageStatistics,l=t.instance,c={Plugin:s["d"],PluginKey:s["e"],Selection:s["f"],TextSelection:s["h"]},h={Decoration:i["a"],DecorationSet:i["b"]},p={Fragment:r["c"]},d={InputRule:u["a"],inputRules:u["b"],undoInputRule:u["c"]},f={keymap:a["a"]},m={eventEmitter:n,usageStatistics:o,instance:l,pmState:c,pmView:h,pmModel:p,pmRules:d,pmKeymap:f,i18n:S0};if(k(e)){var g=e[0],v=e[1],_=void 0===v?{}:v;return g(m,_)}return e(m)}function _3(t){var e=t.plugins,n=t.eventEmitter,r=t.usageStatistics,i=t.instance;return n.listen("mixinTableOffsetMapPrototype",r0),(null!==e&&void 0!==e?e:[]).reduce((function(t,e){var o=v3({plugin:e,eventEmitter:n,usageStatistics:r,instance:i});if(!o)throw new Error("The return value of the executed plugin is empty.");var s=o.markdownParsers,a=o.toHTMLRenderers,l=o.toMarkdownRenderers,u=o.markdownPlugins,c=o.wysiwygPlugins,h=o.wysiwygNodeViews,p=o.markdownCommands,f=o.wysiwygCommands,m=o.toolbarItems;return a&&(t.toHTMLRenderers=Ut(t.toHTMLRenderers,a)),l&&(t.toMarkdownRenderers=Ut(t.toMarkdownRenderers,l)),u&&(t.mdPlugins=t.mdPlugins.concat(u)),c&&(t.wwPlugins=t.wwPlugins.concat(c)),h&&(t.wwNodeViews=d(d({},t.wwNodeViews),h)),p&&(t.mdCommands=d(d({},t.mdCommands),p)),f&&(t.wwCommands=d(d({},t.wwCommands),f)),m&&(t.toolbarItems=t.toolbarItems.concat(m)),s&&(t.markdownParsers=d(d({},t.markdownParsers),s)),t}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var y3="data-task",b3="data-task-disabled",w3="checked";function x3(t){["htmlBlock","htmlInline"].forEach((function(e){t[e]&&Object.keys(t[e]).forEach((function(t){return GQ(t)}))}))}var k3=function(){function t(t){var e=this;this.options=y({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},t),this.eventEmitter=new B2;var n=It(this.options.linkAttributes),r=_3({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},i=r.toHTMLRenderers,o=r.markdownParsers,s=this.options,a=s.customHTMLRenderer,l=s.extendedAutolinks,u=s.referenceDefinition,c=s.frontMatter,h=s.customHTMLSanitizer,p={linkAttributes:n,customHTMLRenderer:d(d({},i),a),extendedAutolinks:l,referenceDefinition:u,frontMatter:c,sanitizer:h||XQ};x3(p.customHTMLRenderer),this.options.events&&v(this.options.events,(function(t,n){e.on(n,t)}));var f=this.options,m=f.el,g=f.initialValue,_=f.theme,b=m.innerHTML;"light"!==_&&m.classList.add(fn(_)),m.innerHTML="",this.toastMark=new zJ("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:l,referenceDefinition:u,disallowDeepHeading:!0,frontMatter:c,customParser:o}),this.preview=new TZ(this.eventEmitter,d(d({},p),{isViewer:!0})),Do(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),g?this.setMarkdown(g):b&&this.preview.setHTML(b),m.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(t){var e=t.target,n=getComputedStyle(e,":before");!e.hasAttribute(b3)&&e.hasAttribute(y3)&&pn(n,t.offsetX,t.offsetY)&&(kn(e,w3),this.eventEmitter.emit("change",{source:"viewer",date:t}))},t.prototype.setMarkdown=function(t){var e=this.toastMark.getLineTexts(),n=e.length,r=$t(e),i=[n,r.length+1],o=this.toastMark.editMarkdown([1,1],i,t||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.destroy=function(){So(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function C3(t){return t instanceof r["f"]}function S3(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return At(e,t)}function T3(t){var e=t.attrs,n=t.type,r=n.name,i={type:r,wysiwygNode:!0,literal:!S3(r)&&C3(t)?t.textContent:null},o={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},s=o[r],a=d(d({},i),s),l=t.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?d(d({},a),{attrs:u,childrenHTML:c}):a}var E3={openTag:function(t,e){var n=t,r=n.tagName,i=n.classNames,o=n.attributes,s=document.createElement(r),a={};i&&(s.className=i.join(" ")),o&&(a=d(d({},a),o)),On(a,s),e.push(s)},closeTag:function(t,e){if(e.length>1){var n=e.pop();$t(e).appendChild(n)}},html:function(t,e){$t(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var n=document.createTextNode(t.content);$t(e).appendChild(n)}},O3=function(){function t(t,e){var n=iZ(t,e),r=d(d({},e.htmlBlock),e.htmlInline);this.customConvertorKeys=Object.keys(e).concat(Object.keys(r)),this.renderer=new GJ({gfm:!0,convertors:d(d({},n),r)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(t){var e=T3(t),n={entering:!0,leaf:!!C3(t)&&t.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return C3(t)?t.textContent:""},skipChildren:function(){return!1}},r=this.convertors[t.type.name],i=r(e,n,this.convertors),o=k(i)?i:[i];return(S3(t.type.name)||t.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:C3(t)?t.textContent:""}),o=o.concat(r(e,n,this.convertors))),o},t.prototype.toDOMNode=function(t){var e=this.generateTokens(t),n=[];return e.forEach((function(t){return E3[t.type](t,n)})),n[0]},t.prototype.getToDOMNode=function(t){return At(this.customConvertorKeys,t)?this.toDOMNode.bind(this):null},t}(),M3=100,N3=15,A3=null,D3=null;function L3(t,e){var n=e.syncScrollTop,r=e.releaseEventBlock;D3&&clearTimeout(D3),n(t),D3=setTimeout((function(){r()}),N3)}function I3(t,e,n){var r=e-t,i=Date.now(),o=function(){var s,a=Date.now(),l=(a-i)/M3;A3&&clearTimeout(A3),l<1?(s=t+r*Math.cos((1-l)*Math.PI/2),L3(Math.ceil(s),n),A3=setTimeout(o,1)):(L3(e,n),A3=null)};o()}var R3=18,P3=function(){function t(t,e,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var r=e.previewContent,i=e.el;this.previewRoot=r,this.previewEl=i,this.mdEditor=t,this.editorView=t.view,this.toastMark=t.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var t=this;this.eventEmitter.listen("afterPreviewRender",(function(){t.clearTimer(),t.timer=setTimeout((function(){t.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(e,n){t.active&&("editor"===e&&"editor"!==t.blockedScroll?t.syncPreviewScrollTop():"preview"===e&&"preview"!==t.blockedScroll&&t.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(e){t.active=e}))},t.prototype.getMdNodeAtPos=function(t,e){var n=t.content.findIndex(e.pos),r=n.index;return this.toastMark.findFirstNodeAtLine(r+1)},t.prototype.getScrollTopByCaretPos=function(){var t=this.mdEditor.getSelection(),e=this.toastMark.findFirstNodeAtLine(t[0][0]),n=this.previewEl.clientHeight,r=mZ(this.previewRoot,e).el,i=hZ(r,this.previewRoot)||r.offsetTop,o=r.clientHeight,s=i+o-.5*n;this.latestEditorScrollTop=null;var a=r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return a<n?null:s},t.prototype.syncPreviewScrollTop=function(t){void 0===t&&(t=!1);var e=this,n=e.editorView,r=e.previewEl,i=e.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,a=o.top,l=n.posAtCoords({left:s,top:a}),u=n.state.doc,c=this.getMdNodeAtPos(u,l);if(c&&!he(c)){var h=r.scrollTop,p=n.dom,d=p.scrollTop,f=p.scrollHeight,m=p.clientHeight,g=p.children,v=f-d<=m+R3,_=v?r.scrollHeight:0;if(d&&!v){if(t){var y=this.getScrollTopByCaretPos();if(!y)return;_=y}else{var b=mZ(this.previewRoot,c),w=b.el,x=b.mdNode,k=lZ(u,x,g),C=k.height,S=k.rect,T=hZ(w,i)||w.offsetTop,E=w.clientHeight,O=a>S.top?Math.min((a-S.top)/C,1):0;_=T+E*O}_=this.getResolvedScrollTop("editor",d,_,h),this.latestEditorScrollTop=d}_!==h&&this.run("editor",_,h)}},t.prototype.syncEditorScrollTop=function(t){var e=this,n=e.toastMark,r=e.editorView,i=e.previewRoot,o=e.previewEl,s=r.dom,a=r.state,l=o.scrollTop,u=o.clientHeight,c=o.scrollHeight,h=c-l<=u,p=s.scrollTop,d=h?s.scrollHeight:0;if(l&&t&&!h){if(t=cZ(t,i),!t.getAttribute("data-nodeid"))return;var f=s.children,m=Number(t.getAttribute("data-nodeid")),g=mZ(this.previewRoot,n.findNodeById(m)),v=g.mdNode,_=g.el,y=ae(v);d=f[y-1].offsetTop;var b=lZ(a.doc,v,f).height,w=kZ(_,i,m),x=w.nodeHeight,k=w.offsetTop;d+=fZ(l,k,x,b),d=this.getResolvedScrollTop("preview",l,d,p),this.latestPreviewScrollTop=l}d!==p&&this.run("preview",d,p)},t.prototype.getResolvedScrollTop=function(t,e,n,r){var i="editor"===t?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===i?n:i<e?Math.max(n,r):Math.min(n,r)},t.prototype.run=function(t,e,n){var r,i=this;"editor"===t?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(t){return r.scrollTop=t},releaseEventBlock:function(){return i.blockedScroll=null}};I3(n,e,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),B3={getPopupInitialValues:function(t,e){var n=e.popupName;return"link"===n?{linkText:t.getSelectedText()}:{}}};function j3(t){t.eventEmitter.listen("query",(function(e,n){return B3[e](t,n)}))}var F3=function(){function t(t){var e=this;this.initialHTML=t.el.innerHTML,t.el.innerHTML="",this.options=y({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},t);var n=this.options,r=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,a=n.customMarkdownRenderer,l=n.useCommandShortcut,u=n.initialEditType,c=n.widgetRules,h=n.customHTMLSanitizer;this.mode=u||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=S0,this.i18n.setCode(this.options.language),this.eventEmitter=new B2,Le(c);var p=It(this.options.linkAttributes);this.pluginInfo=_3({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var f=this.pluginInfo,m=f.toHTMLRenderers,g=f.toMarkdownRenderers,_=f.mdPlugins,b=f.wwPlugins,w=f.wwNodeViews,x=f.mdCommands,k=f.wwCommands,C=f.markdownParsers,S={linkAttributes:p,customHTMLRenderer:Ut(m,r),extendedAutolinks:i,referenceDefinition:o,frontMatter:s,sanitizer:h||XQ},T=new O3(p,S.customHTMLRenderer),E=eZ(S.customHTMLRenderer,S.sanitizer,T);this.toastMark=new zJ("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:C}),this.mdEditor=new mo(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:l,mdPlugins:_}),this.preview=new TZ(this.eventEmitter,d(d({},S),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new S2(this.eventEmitter,{toDOMAdaptor:T,useCommandShortcut:l,htmlSchemaMap:E,linkAttributes:p,wwPlugins:b,wwNodeViews:w}),this.convertor=new g3(this.wwEditor.getSchema(),d(d({},g),a),iZ(p,S.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new j2(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return e.mode})),this.options.usageStatistics&&Nt(),this.scrollSync=new P3(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(x,k),j3(this),this.options.hooks&&v(this.options.hooks,(function(t,n){return e.addHook(n,t)})),this.options.events&&v(this.options.events,(function(t,n){return e.on(n,t)})),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var t=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",(function(){if("auto"!==t.height){var e=Math.min(parseInt(t.minHeight,10),parseInt(t.height,10)-75)+"px";t.setMinHeight(e)}})),Rn(this.eventEmitter)},t.prototype.addInitCommand=function(t,e){var n=this,r=function(t,e){Object.keys(e).forEach((function(r){n.addCommand(t,r,e[r])}))};this.addCommand("markdown","toggleScrollSync",(function(t){return n.eventEmitter.emit("toggleScrollSync",t.active),!0})),r("markdown",t),r("wysiwyg",e)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new k3(e):new t(e)},t.setLanguage=function(t,e){S0.setLanguage(t,e)},t.prototype.changePreviewStyle=function(t){this.mdPreviewStyle!==t&&(this.mdPreviewStyle=t,this.eventEmitter.emit("changePreviewStyle",t))},t.prototype.exec=function(t,e){this.commandManager.exec(t,e)},t.prototype.addCommand=function(t,e,n){var r=this,i=function(e){void 0===e&&(e={});var i=("markdown"===t?r.mdEditor:r.wwEditor).view;n(e,i.state,i.dispatch,i)};this.commandManager.addCommand(t,e,i)},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.removeHook=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToEnd(t)},t.prototype.moveCursorToStart=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToStart(t)},t.prototype.setMarkdown=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=!0),this.mdEditor.setMarkdown(t,e),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,e)}},t.prototype.setHTML=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0);var n=document.createElement("div");n.innerHTML=Mn(t);var i=r["a"].fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),e):this.wwEditor.setModel(i,e)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var t=this;this.eventEmitter.holdEventInvoke((function(){if(t.isMarkdownMode()){var e=t.toastMark.getRootNode(),n=t.convertor.toWysiwygModel(e);t.wwEditor.setModel(n)}}));var e=Nn(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return e.replace(n,"")}return e},t.prototype.insertText=function(t){this.getCurrentModeEditor().replaceSelection(t)},t.prototype.setSelection=function(t,e){this.getCurrentModeEditor().setSelection(t,e)},t.prototype.replaceSelection=function(t,e,n){this.getCurrentModeEditor().replaceSelection(t,e,n)},t.prototype.deleteSelection=function(t,e){this.getCurrentModeEditor().deleteSelection(t,e)},t.prototype.getSelectedText=function(t,e){return this.getCurrentModeEditor().getSelectedText(t,e)},t.prototype.getRangeInfoOfNode=function(t){return this.getCurrentModeEditor().getRangeInfoOfNode(t)},t.prototype.addWidget=function(t,e,n){this.getCurrentModeEditor().addWidget(t,e,n)},t.prototype.replaceWithWidget=function(t,e,n){this.getCurrentModeEditor().replaceWithWidget(t,e,n)},t.prototype.setHeight=function(t){var e=this.options.el;w(t)&&("auto"===t?Q(e,"auto-height"):it(e,"auto-height"),this.setMinHeight(this.getMinHeight())),I(e,{height:t}),this.height=t},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(t){if(t!==this.minHeight){var e=this.height||this.options.height;"auto"!==e&&this.options.el.querySelector("."+fn("main"))&&(t=Math.min(parseInt(t,10),parseInt(e,10)-75)+"px");var n=parseInt(t,10);this.minHeight=t,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return"markdown"===this.mode},t.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(t,e){if(this.mode!==t){if(this.mode=t,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!e)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",t),!e){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&st(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var t=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(e,n){return t.off(n)}))},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(t){this.getCurrentModeEditor().setScrollTop(t)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(t){this.placeholder=t,this.mdEditor.setPlaceholder(t),this.wwEditor.setPlaceholder(t)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(t,e,n){var r,i;void 0===e&&(e=t),void 0===n&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(t),a=Array.isArray(e),l=t,u=e;if(s!==a)throw new Error("Types of arguments must be same");return"markdown"!==n||s||a?"wysiwyg"===n&&s&&a&&(i=tr(o,t,e),l=i[0],u=i[1]):(r=Qn(o,t,e),l=r[0],u=r[1]),[l,u]},t}();function z3(t){for(var e,n,r=arguments,i=1,o="",s="",a=[0],l=function(t){1===i&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(t?r[t]:o):3===i&&(t||o)?(a[1]=t?r[t]:o,i=2):2===i&&"..."===o&&t?a[2]=Gt(a[2]||{},r[t]):2===i&&o&&!t?(a[2]=a[2]||{})[o]=!0:i>=5&&(5===i?((a[2]=a[2]||{})[n]=t?o?o+r[t]:r[t]:o,i=6):(t||o)&&(a[2][n]+=t?o+r[t]:o)),o=""},u=0;u<t.length;u++){u&&(1===i&&l(),l(u));for(let r=0;r<t[u].length;r++)e=t[u][r],1===i?"<"===e?(l(),a=[a,"",null],i=3):o+=e:4===i?"--"===o&&">"===e?(i=1,o=""):o=e+o[0]:s?e===s?s="":o+=e:'"'===e||"'"===e?s=e:">"===e?(l(),i=1):i&&("="===e?(i=5,n=o,o=""):"/"===e&&(i<5||">"===t[u][r+1])?(l(),3===i&&(a=a[0]),i=a,(a=a[0]).push(this.apply(null,i.slice(1))),i=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(l(),i=2):o+=e),3===i&&"!--"===o&&(i=4,a=a[0])}return l(),a.length>2?a.slice(1):a[1]}function H3(t){return"boolean"===typeof t||t instanceof Boolean}var $3=H3,W3=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.walk=function(){var t=this,e=t.entering,n=t.current;return n?(e?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:e}):null},t}(),V3=function(){function t(t,e,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=t,this.props=e,this.children=n,this.props.children=n,e.ref&&(this.ref=e.ref,delete e.ref),e.key&&(this.key=e.key,delete e.key)}return t.prototype.walker=function(){return new W3(this)},t.removalNodes=[],t}();function U3(t){return new V3("TEXT_NODE",{nodeValue:t},[])}function q3(t,e){var n=t;$3(t)||null==t?n=null:(w(t)||st(t))&&(n=U3(String(t))),n&&e.push(n)}function K3(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];return n.forEach((function(t){Array.isArray(t)?t.forEach((function(t){q3(t,i)})):q3(t,i)})),new V3(t,e||{},i)}var G3=z3.bind(K3);function X3(t){return t===Object(t)}var Y3=X3;function J3(t){var e;return"TEXT_NODE"===t.type?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),e9(e,{},t.props)),e}function Q3(t,e){t.node?e.removeChild(t.node):Q3(t.firstChild,e)}function Z3(t,e,n){Object.keys(e).forEach((function(r){if(/^on/.test(r)){if(!n[r]||e[r]!==n[r]){var i=r.slice(2).toLowerCase();t.removeEventListener(i,e[r])}}else"children"===r||n[r]||gn(t)||t.removeAttribute(r)})),e9(t,e,n,(function(t){return!Ht(e[t],n[t])}))}var t9=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function e9(t,e,n,r){Object.keys(n).forEach((function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();t.addEventListener(o,n[i])}else"nodeValue"===i?t[i]=n[i]:"style"===i&&Y3(n[i])?n9(t,e[i],n[i]):"children"!==i&&(!1===n[i]?t.removeAttribute(i):t.setAttribute(i,n[i]))}))}function n9(t,e,n){e&&Object.keys(e).forEach((function(e){t.style[e]=""})),Object.keys(n).forEach((function(e){var r=n[e];t.style[e]=st(r)&&!t9.test(e)?r+"px":r}))}function r9(t){if(V3.removalNodes.forEach((function(t){return o9(t)})),t){var e=void 0,n=t.walker();while(e=n.walk())if(t=e.vnode,e.entering)o9(t);else if(Un(t.type)){var r=t.component;if(!t.old&&r.mounted&&r.mounted(),t.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}}function i9(t){var e=t.parent;while(!e.node)e=e.parent;return e.node}function o9(t){if(t&&t.parent){if(t.node){var e=i9(t);"A"===t.effect?e.appendChild(t.node):"U"===t.effect&&Z3(t.node,t.old.props,t.props)}if("D"===t.effect){var n=void 0,r=t.walker();while(n=r.walk())if(t=n.vnode,!n.entering)if(Un(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{e=i9(t);Q3(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function s9(t,e){var n=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new t(n)}function a9(t){var e=t;while(t&&!t.skip){if(Un(t.type)){var n=s9(t.type,t);n.vnode=t,t.component=n,t.props.children=t.children=[n.render()],u9(t)}else t.node||(t.node=J3(t)),u9(t);if(t.firstChild)t=t.firstChild;else{while(t&&t.parent&&!t.next)if(t=t.parent,t===e)break;t=t.next}}}function l9(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function u9(t){var e=t.children,n=t.old?t.old.firstChild:null,r=null;e.forEach((function(e,i){var o=l9(n,e);o&&(e.old=n,e.parent=t,e.node=n.node,e.component=n.component,e.effect="U"),e&&!o&&(e.old=null,e.parent=t,e.node=null,e.effect="A"),n&&!o&&(V3.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===i?t.firstChild=e:e&&(r.next=e),r=e}));var i=$t(e);if(!e.length)while(n)V3.removalNodes.push(n),n.effect="D",n=n.next;while(n&&i)n&&i.old!==n&&(V3.removalNodes.push(n),n.effect="D",n=n.next)}function c9(t){t.effect="D",V3.removalNodes=[t],r9(),V3.removalNodes=[]}function h9(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),V3.removalNodes=[],a9(e),r9(e),e.next&&(e.next.skip=!1)}function p9(t,e){var n=new V3(t.tagName.toLowerCase(),{},[e]);return n.node=t,V3.removalNodes=[],a9(n),r9(n),function(){return c9(n.firstChild)}}var d9,f9=function(){function t(t){this.props=t,this.state={},this.refs={}}return t.prototype.setState=function(t){var e=d(d({},this.state),t);Ht(this.state,e)||(this.state=e,h9(this))},t}(),m9=function(t){function e(e){var n=t.call(this,e)||this;return n.state={hide:!1},n}return p(e,t),e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,e=t.editorType,n=t.eventEmitter;return G3(d9||(d9=m(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),fn("mode-switch"),this.state.hide?"none":"block","markdown"===e?" active":"",(function(){n.emit("needChangeMode","markdown")}),S0.get("Markdown"),"wysiwyg"===e?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),S0.get("WYSIWYG"))},e}(f9);function g9(t,e){var n,r;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){t.apply(null,r)}),e)}return e=e||0,i}var v9=g9,_9=v9;function y9(t,e){var n,r,i,o,s=!0,a=function(e){t.apply(null,e),n=null};function l(){if(o=Array.prototype.slice.call(arguments),s)return a(o),void(s=!1);i=Number(new Date),n=n||i,r(o),i-n>=e&&a(o)}function u(){s=!0,n=null}return e=e||0,r=_9(a,e),l.reset=u,l}var b9=y9,w9=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),x9="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,k9=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),C9=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(k9):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),S9=2;function T9(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){C9(o)}function a(){var t=Date.now();if(n){if(t-i<S9)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return a}var E9=20,O9=["top","right","bottom","left","width","height","size","weight"],M9="undefined"!==typeof MutationObserver,N9=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=T9(this.refresh.bind(this),E9)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){x9&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),M9?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){x9&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=O9.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),A9=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},D9=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||k9},L9=W9(0,0,0,0);function I9(t){return parseFloat(t)||0}function R9(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+I9(r)}),0)}function P9(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=I9(s)}return n}function B9(t){var e=t.getBBox();return W9(0,0,e.width,e.height)}function j9(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return L9;var r=D9(t).getComputedStyle(t),i=P9(r),o=i.left+i.right,s=i.top+i.bottom,a=I9(r.width),l=I9(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=R9(r,"left","right")+o),Math.round(l+s)!==n&&(l-=R9(r,"top","bottom")+s)),!z9(t)){var u=Math.round(a+o)-e,c=Math.round(l+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(c)&&(l-=c)}return W9(i.left,i.top,a,l)}var F9=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof D9(t).SVGGraphicsElement}:function(t){return t instanceof D9(t).SVGElement&&"function"===typeof t.getBBox}}();function z9(t){return t===D9(t).document.documentElement}function H9(t){return x9?F9(t)?B9(t):j9(t):L9}function $9(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return A9(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function W9(t,e,n,r){return{x:t,y:e,width:n,height:r}}var V9=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=W9(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=H9(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),U9=function(){function t(t,e){var n=$9(e);A9(this,{target:t,contentRect:n})}return t}(),q9=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new w9,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof D9(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new V9(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof D9(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new U9(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),K9="undefined"!==typeof WeakMap?new WeakMap:new w9,G9=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=N9.getInstance(),r=new q9(e,n,this);K9.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){G9.prototype[t]=function(){var e;return(e=K9.get(this))[t].apply(e,arguments)}}));var X9,Y9,J9,Q9,Z9,t5,e5,n5,r5,i5,o5,s5,a5,l5,u5,c5,h5=function(){return"undefined"!==typeof k9.ResizeObserver?k9.ResizeObserver:G9}(),p5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.execCommand=function(t){var e=Tn(t.target,"li");this.props.execCommand("heading",{level:Number(e.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return G3(Y9||(Y9=m(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(e){return t.execCommand(e)}),S0.get("Headings"),[1,2,3,4,5,6].map((function(t){return G3(X9||(X9=m(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),t,"h"+t,S0.get("Heading"),t)})),S0.get("Paragraph"))},e}(f9),d5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.toggleTab=function(t,e){this.props.onClick(t,e)},e.prototype.render=function(){var t=this;return G3(Q9||(Q9=m(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),fn("tabs"),this.props.tabs.map((function(e){var n=e.name,r=e.text,i=t.props.activeTab===n;return G3(J9||(J9=m(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),i?" active":"",(function(e){return t.toggleTab(e,n)}),S0.get(r),i?"true":"false",i?"0":"-1",S0.get(r))})))},e}(f9),f5="ui",m5=function(t){function e(e){var n=t.call(this,e)||this;return n.initialize=function(t){void 0===t&&(t="file");var e=n.refs.url;e.value="",n.refs.altText.value="",n.refs.file.value="",it(e,"wrong"),n.setState({activeTab:t,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(t,e){e!==n.state.activeTab&&n.initialize(e)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(t){var e=t.target.files;(null===e||void 0===e?void 0:e.length)&&n.setState({file:e[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return p(e,t),e.prototype.emitAddImageBlob=function(){var t=this,e=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null===e||void 0===e?void 0:e.length){r="";var i=e.item(0),o=function(e,r){return t.props.execCommand("addImage",{imageUrl:e,altText:r||n.value})};this.props.eventEmitter.emit("addImageBlobHook",i,o,f5)}this.setState({fileNameElClassName:r})},e.prototype.emitAddImage=function(){var t=this.refs.url,e=this.refs.altText,n=t.value,r=e.value||"image";it(t,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):Q(t,"wrong")},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,e=this.state,n=e.activeTab,r=e.file,i=e.fileNameElClassName;return G3(Z9||(Z9=m(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),S0.get("Insert image"),d5,this.tabs,n,this.toggleTab,"url"===n?"block":"none",S0.get("Image URL"),(function(e){return t.refs.url=e}),"file"===n?"block":"none",S0.get("Select image file"),fn("file-name"),r?" has-file":i,this.showFileSelectBox,this.preventSelectStart,r?r.name:S0.get("No file"),fn("file-select-button"),this.showFileSelectBox,S0.get("Choose a file"),this.changeFile,(function(e){return t.refs.file=e}),S0.get("Description"),(function(e){return t.refs.altText=e}),fn("button-container"),fn("close-button"),this.props.hidePopup,S0.get("Cancel"),fn("ok-button"),this.execCommand,S0.get("OK"))},e}(f9),g5=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.execCommand=function(){var t=e.refs.url,n=e.refs.text;if(it(t,"wrong"),it(n,"wrong"),t.value.length<1)Q(t,"wrong");else{var r=F(e.props.initialValues.linkUrl);r&&n.value.length<1?Q(n,"wrong"):e.props.execCommand("addLink",{linkUrl:t.value,linkText:n.value})}},e}return p(e,t),e.prototype.initialize=function(){var t=this.props.initialValues,e=t.linkUrl,n=t.linkText,r=this.refs.url,i=this.refs.text;it(r,"wrong"),it(i,"wrong","disabled"),i.removeAttribute("disabled"),e&&(Q(i,"disabled"),i.setAttribute("disabled","disabled")),r.value=e||"",i.value=n||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return G3(t5||(t5=m(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),S0.get("Insert link"),S0.get("URL"),(function(e){return t.refs.url=e}),S0.get("Link text"),(function(e){return t.refs.text=e}),fn("button-container"),fn("close-button"),this.props.hidePopup,S0.get("Cancel"),fn("ok-button"),this.execCommand,S0.get("OK"))},e}(f9),v5=20,_5=20,y5=5,b5=14,w5=5,x5=9,k5=1,C5=1,S5=1,T5=function(t){function e(e){var n=t.call(this,e)||this;return n.extendSelectionRange=function(t){var e=t.pageX,r=t.pageY,i=e-n.offsetRect.left,o=r-n.offsetRect.top,s=n.getSelectionRangeByOffset(i,o);n.setState(d({},s))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return p(e,t),e.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,e){return{width:(t+1)*v5,height:(e+1)*_5}},e.prototype.getRangeByOffset=function(t,e){return{colIdx:Math.floor(t/v5),rowIdx:Math.floor(e/_5)}},e.prototype.getTableRange=function(){var t=this.state,e=t.colIdx,n=t.rowIdx,r=Math.max(e,w5),i=Math.max(n,y5);return e>=w5&&r<x5&&(r+=1),n>=y5&&i<b5&&(i+=1),{colIdx:r+1,rowIdx:i+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),e=t.width,n=t.height;return e||n?{width:e-S5,height:n-S5,display:"block"}:{display:"none"}},e.prototype.getSelectionRangeByOffset=function(t,e){var n=this.getRangeByOffset(t,e);return n.rowIdx=Math.min(Math.max(n.rowIdx,k5),b5),n.colIdx=Math.min(Math.max(n.colIdx,C5),x5),n},e.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var t=this.refs.tableEl.getBoundingClientRect(),e=t.left,n=t.top;this.offsetRect={left:window.pageXOffset+e,top:window.pageYOffset+n}}}else this.setState({colIdx:-1,rowIdx:-1})},e.prototype.createTableArea=function(t){for(var e=t.colIdx,n=t.rowIdx,r=[],i=0;i<n;i+=1){for(var o=[],s=0;s<e;s+=1){var a=fn("table-cell")+(i>0?"":" header");o.push(G3(e5||(e5=m(['<div class="','"></div>'],['<div class="','"></div>'])),a))}r.push(G3(n5||(n5=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),fn("table-row"),o))}return G3(r5||(r5=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),fn("table"),r)},e.prototype.render=function(){var t=this,e=this.getTableRange(),n=this.getSelectionAreaBound();return G3(i5||(i5=m(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),S0.get("Insert table"),fn("table-selection"),(function(e){return t.refs.tableEl=e}),this.extendSelectionRange,this.execCommand,this.createTableArea(e),fn("table-selection-layer"),n,fn("table-description"),this.getDescription())},e}(f9),E5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return G3(o5||(o5=m(["<div ref=","></div>"],["<div ref=","></div>"])),(function(e){return t.refs.el=e}))},e}(f9);function O5(t){return w(t)?N5(t):t}function M5(){var t=document.createElement("label"),e=document.createElement("input"),n=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,n.className="switch";var r=function(n){return e.addEventListener("change",(function(e){var r=e.target.checked;r?Q(t,"active"):it(t,"active"),n("toggleScrollSync",{active:r})}))};return t.appendChild(e),t.appendChild(n),{name:"scrollSync",el:t,onMounted:r}}function N5(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:S0.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:S0.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:S0.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:S0.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:S0.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:S0.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:S0.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:S0.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:S0.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:S0.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:S0.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:S0.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:S0.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:S0.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:S0.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:S0.get("Outdent"),state:"outdent"};break;case"scrollSync":e=M5();break;case"more":e={name:"more",className:"more",tooltip:S0.get("More")};break}return"scrollSync"!==e.name&&(e.className+=" "+fn("toolbar-icons")),e}function A5(t,e){var n=e.el,r=e.pos,i=e.popup,o=e.initialValues;switch(t){case"heading":return{render:function(t){return G3(s5||(s5=m(["<"," ..."," />"],["<"," ..."," />"])),p5,t)},className:fn("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(t){return G3(a5||(a5=m(["<"," ..."," />"],["<"," ..."," />"])),g5,t)},className:fn("popup-add-link"),fromEl:n,pos:r,initialValues:o};case"image":return{render:function(t){return G3(l5||(l5=m(["<"," ..."," />"],["<"," ..."," />"])),m5,t)},className:fn("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(t){return G3(u5||(u5=m(["<"," ..."," />"],["<"," ..."," />"])),T5,t)},className:fn("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return i?d({render:function(t){return G3(c5||(c5=m(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),E5,t,i.body)},fromEl:n,pos:r},i):null;default:return null}}function D5(t){t.hidden=t.length===t.filter((function(t){return t.hidden})).length}function L5(t,e){var n=function(t){return t.hidden="scrollSync"===t.name&&e,t};return t.reduce((function(t,e){t.push(e.map((function(t){return n(O5(t))})));var r=t[(t.length||1)-1];return r&&D5(r),t}),[])}function I5(t,e){t.forEach((function(t){t.forEach((function(t){return t.hidden="scrollSync"===t.name&&e})),D5(t)}))}var R5,P5,B5=20,j5=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMousedown=function(t){Tn(t.target,"."+fn("popup"))||Tn(t.target,e.props.info.fromEl)||e.props.hidePopup()},e}return p(e,t),e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var e=this.props,n=e.show,r=e.info;if(n&&r.pos&&t.show!==n){var i=d({},r.pos),o=this.refs.el.offsetWidth,s=Tn(this.refs.el,"."+fn("toolbar")),a=s.offsetWidth;i.left+o>=a&&(i.left=a-o-B5),Ht(this.state.popupPos,i)||this.setState({popupPos:i})}},e.prototype.render=function(){var t=this,e=this.props,n=e.info,r=e.show,i=e.hidePopup,o=e.eventEmitter,s=e.execCommand,a=n||{},l=a.className,u=void 0===l?"":l,c=a.style,h=a.render,p=a.initialValues,f=void 0===p?{}:p,g=d(d({display:r?"block":"none"},c),this.state.popupPos);return G3(R5||(R5=m(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),fn("popup"),u,g,(function(e){return t.refs.el=e}),fn("popup-body"),h&&h({eventEmitter:o,show:r,hidePopup:i,execCommand:s,initialValues:f}))},e}(f9),F5=6;function z5(t){return function(e){function n(t){var n=e.call(this,t)||this;return n.showTooltip=function(t){var e=n.props.item.tooltip;if(!n.props.disabled&&e){var r=n.getBound(t),i=r.left+F5+"px",o=r.top+F5+"px";I(n.props.tooltipRef.current,{display:"block",left:i,top:o}),n.props.tooltipRef.current.querySelector(".text").textContent=e}},n.hideTooltip=function(){I(n.props.tooltipRef.current,"display","none")},n.state={active:!1,disabled:t.disabled},n.addEvent(),n}return p(n,e),n.prototype.addEvent=function(){var t=this,e=this.props,n=e.item,r=e.eventEmitter;n.state&&r.listen("changeToolbarState",(function(e){var r,i=e.toolbarState,o=null!==(r=i[n.state])&&void 0!==r?r:{},s=o.active,a=o.disabled;t.setState({active:!!s,disabled:null!==a&&void 0!==a?a:t.props.disabled})}))},n.prototype.getBound=function(t){var e=En(t,Tn(t,"."+fn("toolbar"))),n=e.offsetLeft,r=e.offsetTop;return{left:n,top:t.offsetHeight+r}},n.prototype.render=function(){return G3(P5||(P5=m(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},n}(f9)}var H5,$5,W5,V5,U5,q5,K5,G5,X5,Y5,J5,Q5,Z5,t8,e8=80,n8=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.execCommand=function(){var t=e.props,n=t.item,r=t.execCommand,i=t.setPopupInfo,o=t.getBound,s=t.eventEmitter,a=n.command,l=n.name,u=n.popup;if(a)r(a);else{var c=u?"customPopupBody":l,h=s.emit("query","getPopupInitialValues",{popupName:c})[0],p=A5(c,{el:e.refs.el,pos:o(e.refs.el),popup:u,initialValues:h});p&&i(p)}},e}return p(e,t),e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,e=t.setItemWidth,n=t.item;e&&e(n.name,Sn(this.refs.el)+(n.hidden?e8:0))},e.prototype.render=function(){var t=this,e=this.props,n=e.hideTooltip,r=e.disabled,i=e.item,o=e.active,s=d({display:i.hidden?"none":null},i.style),a=(i.className||"")+(o?" active":"");return G3(H5||(H5=m(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(e){return t.refs.el=e}),s,a,this.execCommand,this.showTooltip,n,!!r,i.text||i.tooltip||"",i.text||"")},e}(f9),r8=z5(n8),i8=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.showPopup=function(){var t=A5("customPopupBody",{el:e.refs.el,pos:e.props.getBound(e.refs.el),popup:e.props.item.popup});t&&e.props.setPopupInfo(t)},e}return p(e,t),e.prototype.mounted=function(){var t=this.props,e=t.setItemWidth,n=t.item;this.refs.el.appendChild(n.el),e&&e(n.name,Sn(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var e,n=this.props,r=n.item,i=n.active,o=n.disabled;t.active===i&&t.disabled===o||null===(e=r.onUpdated)||void 0===e||e.call(r,{active:i,disabled:o})},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.item,i={display:r.hidden?"none":"inline-block"},o=function(t){return n?null:t};return G3($5||($5=m(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(e){return t.refs.el=e}),i,fn("toolbar-item-wrapper"),o(this.showPopup),o(this.showTooltip),o(this.props.hideTooltip))},e}(f9),o8=z5(i8),s8=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.group,r=e.hiddenDivider,i=n.hidden?{display:"none"}:null,o=r?{display:"none"}:null;return G3(V5||(V5=m(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),fn("toolbar-group"),i,n.map((function(e){var n=e.el?o8:r8;return G3(W5||(W5=m(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,e.name,t.props,e)})),fn("toolbar-divider"),o)},e}(f9),a8=4,l8=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){var e=t.target;Tn(e,"."+fn("dropdown-toolbar"))||Tn(e,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return p(e,t),e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=a8,d(d({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,e=this.state,n=e.showDropdown,r=e.dropdownPos,i=this.props,o=i.disabled,s=i.item,a=i.items,l=i.hideTooltip,u=a.filter((function(t){return!t.hidden})),c=u.length?null:{display:"none"},h=n?null:{display:"none"};return G3(q5||(q5=m(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),fn("toolbar-group"),c,(function(e){return t.refs.el=e}),s.className,(function(){return t.setState({showDropdown:!0})}),this.showTooltip,l,o,fn("dropdown-toolbar"),d(d({},h),r),(function(e){return t.refs.dropdownEl=e}),u.length?u.map((function(e,n){var r;return G3(U5||(U5=m(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),s8,e,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),t.props)})):null)},e}(f9),u8=z5(l8),c8=50,h8=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleTab=function(t,e){var r=n.props.eventEmitter;if(n.state.activeTab!==e){var i="write"===e?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(i),n.setState({activeTab:e})}},n.setItemWidth=function(t,e){n.itemWidthMap[t]=e},n.setPopupInfo=function(t){n.setState({showPopup:!0,popupInfo:t})},n.openPopup=function(t,e){void 0===e&&(e={});var r=n.refs.el.querySelector("."+fn("toolbar-group")+" ."+t);if(r){var i=En(r,Tn(r,"."+fn("toolbar"))),o=i.offsetLeft,s=i.offsetTop,a=A5(t,{el:r,pos:{left:o,top:r.offsetHeight+s},initialValues:e});a&&n.setPopupInfo(a)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(t,e){var r=n.props.eventEmitter;r.emit("command",t,e),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=L5(e.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new h5((function(){return n.handleResize()})),n.addEvent(),n}return p(e,t),e.prototype.insertToolbarItem=function(t,e){var n=t.groupIndex,r=t.itemIndex,i=this.initialItems[n];e=O5(e),i?i.splice(r,0,e):this.initialItems.push([e]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var e=this;S(this.initialItems,(function(n){var r=!1;return S(n,(function(i,o){return i.name!==t||(r=!0,n.splice(o,1),e.setState(e.classifyToolbarItems()),!1)})),!r}))},e.prototype.addEvent=function(){var t=this,e=this.props.eventEmitter;this.handleResize=b9((function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())}),200),e.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+fn("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=Cn(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},e.prototype.movePrevItemToDropdownToolbar=function(t,e,n,r){var i=function(t){var e=t.pop();e&&r.push(e)};if(t>1)i(n);else{var o=$t(e);o&&i(o)}},e.prototype.classifyToolbarItems=function(){var t=this,e=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+fn("toolbar-divider")),i=r?Sn(r):0,o=[],s=[],a=!1;return this.initialItems.forEach((function(r,l){var u=[],c=[];r.forEach((function(r,i){r.hidden||(e+=t.itemWidthMap[r.name],e>n-c8?(a||(t.movePrevItemToDropdownToolbar(i,o,u,c),a=!0),c.push(r)):u.push(r))})),u.length&&(D5(u),o.push(u)),c.length&&(D5(c),s.push(c)),l<t.state.items.length-1&&(e+=i)})),{items:o,dropdownItems:s}},e.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var e=this.props,n=e.editorType,r=e.previewStyle,i=e.eventEmitter,o=r!==t.previewStyle,s=n!==t.editorType;if(o||s){I5(this.initialItems,this.hiddenScrollSync());var a=this.classifyToolbarItems();(o||"tab"===r&&"markdown"===n)&&(i.emit("changePreviewTabWrite"),a.activeTab="write"),this.setState(a)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),wn(this.tooltipRef.current)},e.prototype.render=function(){var t=this,e=this.props,n=e.previewStyle,r=e.eventEmitter,i=e.editorType,o=this.state,s=o.popupInfo,a=o.showPopup,l=o.activeTab,u=o.items,c=o.dropdownItems,h={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===i&&"tab"===n&&"preview"===l,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p="tab"===n?{borderTopLeftRadius:0}:null;return G3(G5||(G5=m(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),fn("toolbar"),fn("md-tab-container"),"wysiwyg"===i||"vertical"===n?"none":"block",d5,this.tabs,l,this.toggleTab,fn("defaultUI-toolbar"),(function(e){return t.refs.el=e}),p,u.map((function(e,n){var r;return G3(K5||(K5=m(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),s8,e,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),t.setItemWidth,h)})),u8,O5("more"),c,h,j5,s,a,r,this.hidePopup,this.execCommand)},e}(f9),p8=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){Tn(t.target,"."+fn("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return p(e,t),e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",(function(e){var n=e.pos,r=e.menuGroups;t.setState({pos:n,menuGroups:r})}))},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,e=this.state,n=e.pos,r=e.menuGroups;return n?r.reduce((function(e,n){var r=[];return n.forEach((function(e){var n=e.label,i=e.className,o=void 0!==i&&i,s=e.disabled,a=e.onClick,l=function(){s||(a(),t.setState({pos:null}))};r.push(G3(X5||(X5=m(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),l,s?" disabled":"",o,n))})),e.push(G3(Y5||(Y5=m(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),e}),[]):[]},e.prototype.render=function(){var t=d({display:this.state.pos?"block":"none"},this.state.pos);return G3(J5||(J5=m(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),fn("context-menu"),t,this.getMenuGroupElements())},e}(f9),d8=function(t){function e(e){var n=t.call(this,e)||this;n.changeMode=function(t){t!==n.state.editorType&&n.setState({editorType:t})},n.changePreviewStyle=function(t){t!==n.state.previewStyle&&n.setState({previewStyle:t})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=e.editorType,i=e.previewStyle;return n.state={editorType:r,previewStyle:i,hide:!1},n.addEvent(),n}return p(e,t),e.prototype.mounted=function(){var t=this.props.slots,e=t.wwEditor,n=t.mdEditor,r=t.mdPreview;this.refs.wwContainer.appendChild(e),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},e.prototype.insertToolbarItem=function(t,e){this.toolbar.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,e=this.props,n=e.eventEmitter,r=e.hideModeSwitch,i=e.toolbarItems,o=e.theme,s=this.state,a=s.hide,l=s.previewStyle,u=s.editorType,c=a?" hidden":"",h=fn("markdown"===u?"md-mode":"ww-mode"),p=fn("md")+"-"+l+"-style",d=fn(["light"!==o,o+" "]);return G3(Z5||(Z5=m(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),d,fn("defaultUI"),c,(function(e){return t.refs.el=e}),h8,(function(e){return t.toolbar=e}),n,l,i,u,fn("main"),h,(function(e){return t.refs.editorSection=e}),fn("main-container"),fn("md-container"),p,(function(e){return t.refs.mdContainer=e}),fn("md-splitter"),fn("ww-container"),(function(e){return t.refs.wwContainer=e}),!r&&G3(Q5||(Q5=m(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),m9,n,u),p8,n)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(f9),f8=function(t){function e(e){var n,r,i=t.call(this,e)||this,o=p9(i.options.el,G3(t8||(t8=m(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),d8,(function(t){return r=t}),i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:o},null===(n=i.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(t){var e=t.groupIndex,n=t.itemIndex,r=t.item;i.defaultUI.insertToolbarItem({groupIndex:e,itemIndex:n},r)})),i.eventEmitter.emit("loadUI",i),i}return p(e,t),e.factory=function(t){return t.viewer?new k3(t):new e(t)},e.prototype.insertToolbarItem=function(t,e){this.defaultUI.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(F3);F3.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"})}).call(this,n("c8ba"))},"5a43":function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},6428:function(t,e,n){var r=n("b4b0"),i=1/0,o=17976931348623157e292;function s(t){if(!t)return 0===t?t:0;if(t=r(t),t===i||t===-i){var e=t<0?-1:1;return e*o}return t===t?t:0}t.exports=s},6613:function(t,e,n){var r=n("5a43");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6f27":function(t,e,n){"use strict";function r(t){this.content=t}r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r;function o(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let t=0;i.text[t]==s.text[t];t++)n++;return n}if(i.content.size||s.content.size){let t=o(i.content,s.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function s(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=t.child(--i),l=e.child(--o),u=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let t=0,e=Math.min(a.text.length,l.text.length);while(t<e&&a.text[a.text.length-t-1]==l.text[l.text.length-t-1])t++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let t=s(a.content,l.content,n-1,r-1);if(t)return t}n-=u,r-=u}else n-=u,r-=u}}n.d(e,"a",(function(){return rt})),n.d(e,"b",(function(){return yt})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return tt})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return N})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return et})),n.d(e,"j",(function(){return d}));class a{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),n,r+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,(s,a)=>{s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf?(r?i+="function"===typeof r?r(s):r:s.type.spec.leafText&&(i+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(i+=n,o=!0)},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new a(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new a(n,r)}cutByIndex(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,i)}addToStart(t){return new a([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new a(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return o(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return s(this,t,e,n)}findIndex(t,e=-1){if(0==t)return u(0,t);if(t==this.size)return u(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?u(n+1,o):u(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return a.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new a(e||t,n)}static from(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const l={index:0,offset:0};function u(t,e){return l.index=t,l.offset=e,l}function c(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!c(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!c(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class h{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&c(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return h.none;if(t instanceof h)return[t];let e=t.slice();return e.sort((t,e)=>t.type.rank-e.type.rank),e}}h.none=[];class p extends Error{}class d{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=m(this.content,t+this.openStart,e);return n&&new d(n,this.openStart,this.openEnd)}removeBetween(t,e){return new d(f(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return d.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new d(a.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new d(t,n,r)}}function f(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(f(o.content,e-i-1,n-i-1)))}function m(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=m(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function g(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return v(t,e,n,0)}function v(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=v(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:s}=S(n,t);return x(o,k(t,i,s,e,r))}{let r=t.parent,i=r.content;return x(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return x(o,C(t,e,r))}function _(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function y(t,e,n){let r=t.node(n);return _(r,e.node(n)),r}function b(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(b(t.nodeAfter,r),o++));for(let a=o;a<s;a++)b(i.child(a),r);e&&e.depth==n&&e.textOffset&&b(e.nodeBefore,r)}function x(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function k(t,e,n,r,i){let o=t.depth>i&&y(t,e,i+1),s=r.depth>i&&y(n,r,i+1),l=[];return w(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(_(o,s),b(x(o,k(t,e,n,r,i+1)),l)):(o&&b(x(o,C(t,e,i+1)),l),w(e,n,i,l),s&&b(x(s,C(n,r,i+1)),l)),w(r,null,i,l),new a(l)}function C(t,e,n){let r=[];if(w(null,t,n,r),t.depth>n){let i=y(t,e,n+1);b(x(i,C(t,e,n+1)),r)}return w(e,null,n,r),new a(r)}function S(t,e){let n=e.depth-t.openStart,r=e.node(n),i=r.copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(a.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}d.empty=new d(a.empty,0,0);class T{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let i=0;i<t;i++)r+=n.child(i).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new N(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let o=t;;){let{index:t,offset:e}=o.content.findIndex(i),s=i-e;if(n.push(o,t,r+e),!s)break;if(o=o.child(t),o.isText)break;i=s-1,r+=e+1}return new T(e,n,i)}static resolveCached(t,e){for(let r=0;r<E.length;r++){let n=E[r];if(n.pos==e&&n.doc==t)return n}let n=E[O]=T.resolve(t,e);return O=(O+1)%M,n}}let E=[],O=0,M=12;class N{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A=Object.create(null);class D{constructor(t,e,n,r=h.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&c(this.attrs,e||t.defaultAttrs||A)&&h.sameSet(this.marks,n||h.none)}copy(t=null){return t==this.content?this:new D(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new D(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return d.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o),l=a.content.cut(r.pos-s,i.pos-s);return new d(l,r.depth-o,i.depth-o)}replace(t,e,n){return g(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return T.resolveCached(this,t)}resolveNoCache(t){return T.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,t=>(n.isInSet(t.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=a.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=h.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}D.prototype.text=void 0;class L extends D{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new L(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new L(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class R{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new P(t,e);if(null==n.next)return R.empty;let r=B(n);n.next&&n.err("Unexpected trailing text");let i=K(V(r));return G(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function i(o,s){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return a.from(s.map(t=>t.createAndFill()));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,s.concat(e));if(t)return t}}return null}return i(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}return e(this),t.map((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let i=0;i<e.next.length;i++)r+=(i?", ":"")+e.next[i].type.name+"->"+t.indexOf(e.next[i].next);return r}).join("\n")}}R.empty=new R(!0);class P{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function B(t){let e=[];do{e.push(j(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function j(t){let e=[];do{e.push(F(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function F(t){let e=W(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=H(t,e)}return e}function z(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function H(t,e){let n=z(t),r=n;return t.eat(",")&&(r="}"!=t.next?z(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function $(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let t=n[o];t.groups.indexOf(e)>-1&&i.push(t)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function W(t){if(t.eat("(")){let e=B(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=$(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}function V(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach(t=>t.to=e)}function o(t,e){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(o(n,e)),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(e,s),i(o(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return i(o(t.expr,e),s),i(o(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=n();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=n();r(s,e),i(o(t.expr,s),e),s=e}return[r(s)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(t.exprs[r],e);if(r==t.exprs.length-1)return s;i(s,e=n())}}}function U(t,e){return e-t}function q(t,e){let n=[];return r(e),n.sort(U);function r(e){let i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(let t=0;t<i.length;t++){let{term:e,to:o}=i[t];e||-1!=n.indexOf(o)||r(o)}}}function K(t){let e=Object.create(null);return n(q(t,0));function n(r){let i=[];r.forEach(e=>{t[e].forEach(({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);q(t,n).forEach(t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)})})});let o=e[r.join(",")]=new R(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(U);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}}function G(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:s}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function X(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Y(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function J(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Z(t[n]);return e}class Q{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=J(n.attrs),this.defaultAttrs=X(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==R.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Y(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new D(this,this.computeAttrs(t),a.from(e),h.setFrom(n))}createChecked(t=null,e,n){if(e=a.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new D(this,this.computeAttrs(t),e,h.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=a.from(e),e.size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(a.empty,!0);return i?new D(this,t,e.append(i),h.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.none:t}static compile(t,e){let n=Object.create(null);t.forEach((t,r)=>n[t]=new Q(t,e,r));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Z{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class tt{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=J(r.attrs),this.excluded=null;let i=X(this.attrs);this.instance=i?new h(this,i):null}create(t=null){return!t&&this.instance?this.instance:new h(this,Y(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((t,i)=>n[t]=new tt(t,r++,e,i)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class et{constructor(t){this.cached=Object.create(null),this.spec={nodes:i.from(t.nodes),marks:i.from(t.marks||{}),topNode:t.topNode},this.nodes=Q.compile(this.spec.nodes,this),this.marks=tt.compile(this.spec.marks,this);let e=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let t=this.nodes[n],r=t.spec.content||"",i=t.spec.marks;t.contentMatch=e[r]||(e[r]=R.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==i?null:i?nt(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let n in this.marks){let t=this.marks[n],e=t.spec.excludes;t.excluded=null==e?[t]:""==e?[]:nt(this,e.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Q))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new L(n,n.defaultAttrs,t,h.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return D.fromJSON(this,t)}markFromJSON(t){return h.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function nt(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class rt{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)}),this.normalizeLists=!this.tags.some(e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)})}parse(t,e={}){let n=new pt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new pt(this,e,!0);return n.addAll(t,e.from,e.to),d.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ft(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r],i=null==t.priority?50:t.priority;if(i<n)break}e.splice(r,0,t)}for(let r in t.marks){let e=t.marks[r].spec.parseDOM;e&&e.forEach(t=>{n(t=gt(t)),t.mark=r})}for(let r in t.nodes){let e=t.nodes[r].spec.parseDOM;e&&e.forEach(t=>{n(t=gt(t)),t.node=r})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new rt(t,rt.schemaRules(t)))}}const it={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ot={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},st={ol:!0,ul:!0},at=1,lt=2,ut=4;function ct(t,e,n){return null!=e?(e?at:0)|("full"===e?lt:0):t&&"pre"==t.whitespace?at|lt:n&~ut}class ht{constructor(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=o||(s&ut?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(a.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&at)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=a.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):vt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!it.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class pt{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=ct(null,e.preserveWhitespace,0)|(n?ut:0);r=i?new ht(i.type,i.attrs,h.none,h.none,!0,e.topMatch||i.type.contentMatch,o):new ht(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),n=e?this.readStyles(mt(e)):null,r=this.top;if(null!=n)for(let t=0;t<n.length;t++)this.addPendingMark(n[t]);if(this.addElement(t),null!=n)for(let t=0;t<n.length;t++)this.removePendingMark(n[t],r)}}addTextNode(t){let e=t.nodeValue,n=this.top;if(n.options&lt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&at)e=n.options&lt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();st.hasOwnProperty(r)&&this.parser.normalizeLists&&dt(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:ot.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(it.hasOwnProperty(r))e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),e&&this.sync(n),this.needsBlock=o}else this.addElementByRule(t,i,!1===i.consuming?n:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=h.none;t:for(let n=0;n<t.length;n+=2)for(let r=void 0;;){let i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e}addElementByRule(t,e,n){let r,i,o;if(e.node)i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace);else{let t=this.parser.schema.marks[e.mark];o=t.create(e.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let r=0;r<e.length;r++)this.enterInner(e[r],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=ct(t,r,i.options);i.options&ut&&0==i.content.length&&(o|=ut),this.nodes.push(new ht(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){let t=e.compareDocumentPosition(this.find[r].node);t&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!t||t.name!=a&&-1==t.groups.indexOf(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(t){let e=_t(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n],i=r.pendingMarks.lastIndexOf(t);if(i>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function dt(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&st.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mt(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function gt(t){let e={};for(let n in t)e[n]=t[n];return e}function vt(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}function _t(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class yt{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=wt(e).createDocumentFragment());let r=n,i=[];return t.forEach(t=>{if(i.length||t.marks.length){let n=0,o=0;while(n<i.length&&o<t.marks.length){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}while(n<i.length)r=i.pop()[1];while(o<t.marks.length){let n=t.marks[o++],s=this.serializeMark(n,t.isInline,e);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(t,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=yt.renderSpec(wt(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&yt.renderSpec(wt(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?t.createElementNS(n,i):t.createElement(i),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let t in a)if(null!=a[t]){let e=t.indexOf(" ");e>0?s.setAttributeNS(t.slice(0,e),t.slice(e+1),a[t]):s.setAttribute(t,a[t])}}for(let u=l;u<e.length;u++){let i=e[u];if(0===i){if(u<e.length-1||u>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:e,contentDOM:o}=yt.renderSpec(t,i,n);if(s.appendChild(e),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:s,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new yt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=bt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return bt(t.marks)}}function bt(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function wt(t){return t.document||window.document}},"6ffb":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return c}));var r=n("6f27"),i=n("b923");const o=Object.create(null);class s{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r["j"].empty){let n=e.content.lastChild,i=null;for(let r=0;r<e.openEnd;r++)i=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=t.mapping.slice(o);t.replaceRange(c.map(l.pos),c.map(u.pos),a?r["j"].empty:e),0==a&&v(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=t.mapping.slice(n),l=a.map(o.pos),u=a.map(s.pos);i?t.deleteRange(l,u):(t.replaceRangeWith(l,u,e),v(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new c(t):g(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let i=t.depth-1;i>=0;i--){let r=e<0?g(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):g(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(r)return r}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new f(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new f(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e}getBookmark(){return c.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function u(t){l||t.parent.inlineContent||(l=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class c extends s{constructor(t,e=t){u(t),u(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=t.resolve(e.map(this.anchor));return new c(r.parent.inlineContent?r:n,n)}replace(t,e=r["j"].empty){if(super.replace(t,e),e==r["j"].empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof c&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new c(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=s.findFrom(e,n,!0)||s.findFrom(e,-n,!0);if(!t)return s.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r?t=e:(t=(s.findFrom(t,-n,!0)||s.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new c(t,e)}}s.jsonID("text",c);class h{constructor(t,e){this.anchor=t,this.head=e}map(t){return new h(t.map(this.anchor),t.map(this.head))}resolve(t){return c.between(t.resolve(this.anchor),t.resolve(this.head))}}class p extends s{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?s.near(i):new p(i)}content(){return new r["j"](r["c"].from(this.node),0,0)}eq(t){return t instanceof p&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new d(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new p(t.resolve(e.anchor))}static create(t,e){return new p(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}p.prototype.visible=!1,s.jsonID("node",p);class d{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new h(n,n):new d(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&p.isSelectable(n)?new p(e):s.near(e)}}class f extends s{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r["j"].empty){if(e==r["j"].empty){t.delete(0,t.doc.content.size);let e=s.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new f(t)}map(t){return new f(t)}eq(t){return t instanceof f}getBookmark(){return m}}s.jsonID("all",f);const m={map(){return this},resolve(t){return new f(t)}};function g(t,e,n,r,i,o=!1){if(e.inlineContent)return c.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let r=e.child(s);if(r.isAtom){if(!o&&p.isSelectable(r))return p.create(t,n-(i<0?r.nodeSize:0))}else{let e=g(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function v(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof i["c"]||o instanceof i["b"]))return;let a,l=t.mapping.maps[r];l.forEach((t,e,n,r)=>{null==a&&(a=r)}),t.setSelection(s.near(t.doc.resolve(a),n))}const _=1,y=2,b=4;class w extends i["e"]{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_)&~y,this.storedMarks=null,this}get selectionSet(){return(this.updated&_)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=y,this}ensureMarks(t){return r["d"].sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&y)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~y,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r["d"].none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=b,this}get scrolledIntoView(){return(this.updated&b)>0}}function x(t,e){return e&&t?t.bind(e):t}class k{constructor(t,e,n){this.name=t,this.init=x(e.init,n),this.apply=x(e.apply,n)}}const C=[new k("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new k("selection",{init(t,e){return t.selection||s.atStart(e.doc)},apply(t){return t.selection}}),new k("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new k("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class S{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C.slice(),e&&e.forEach(t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new k(t.key,t.spec.state,t))})}}class T{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,l=r?r[o].state:this,u=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(u),n=n.applyInner(u),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new T(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new w(this)}static create(t){let e=new S(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new T(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new S(this.schema,t.plugins),n=e.fields,r=new T(e);for(let i=0;i<n.length;i++){let e=n[i].name;r[e]=this.hasOwnProperty(e)?this[e]:n[i].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new S(t.schema,t.plugins),o=new T(i);return i.fields.forEach(i=>{if("doc"==i.name)o.doc=r["f"].fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=a.fromJSON.call(s,t,e[r],o))}o[i.name]=i.init(t,o)}}),o}}function E(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=E(i,e,{})),n[r]=i}return n}class O{constructor(t){this.spec=t,this.props={},t.props&&E(t.props,this,this.props),this.key=t.key?t.key.key:N("plugin")}getState(t){return t[this.key]}}const M=Object.create(null);function N(t){return t in M?t+"$"+ ++M[t]:(M[t]=0,t+"$")}class A{constructor(t="key"){this.key=N(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},7037:function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"703f":function(t,e,n){"use strict";n.d(e,"a",(function(){return kn})),n.d(e,"b",(function(){return Tn})),n.d(e,"c",(function(){return er}));var r=n("6ffb"),i=n("6f27"),o=n("b923");const s=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},a=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let l=null;const u=function(t,e,n){let r=l||(l=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},c=function(t,e,n,r){return n&&(p(t,e,n,r,-1)||p(t,e,n,r,1))},h=/^(img|br|input|textarea|hr)$/i;function p(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:d(t))){let n=t.parentNode;if(!n||1!=n.nodeType||m(t)||h.test(t.nodeName)||"false"==t.contentEditable)return!1;e=s(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?d(t):0}}}function d(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function f(t,e,n){for(let r=0==e,i=e==d(t);r||i;){if(t==n)return!0;let e=s(t);if(t=t.parentNode,!t)return!1;r=r&&0==e,i=i&&e==d(t)}}function m(t){let e;for(let n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const g=function(t){return t.focusNode&&c(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function v(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function _(t){let e=t.activeElement;while(e&&e.shadowRoot)e=e.shadowRoot.activeElement;return e}const y="undefined"!=typeof navigator?navigator:null,b="undefined"!=typeof document?document:null,w=y&&y.userAgent||"",x=/Edge\/(\d+)/.exec(w),k=/MSIE \d/.exec(w),C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(w),S=!!(k||C||x),T=k?document.documentMode:C?+C[1]:x?+x[1]:0,E=!S&&/gecko\/(\d+)/i.test(w);E&&(/Firefox\/(\d+)/.exec(w)||[0,0])[1];const O=!S&&/Chrome\/(\d+)/.exec(w),M=!!O,N=O?+O[1]:0,A=!S&&!!y&&/Apple Computer/.test(y.vendor),D=A&&(/Mobile\/\w+/.test(w)||!!y&&y.maxTouchPoints>2),L=D||!!y&&/Mac/.test(y.platform),I=/Android \d/.test(w),R=!!b&&"webkitFontSmoothing"in b.documentElement.style,P=R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function B(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function j(t,e){return"number"==typeof t?t:t[e]}function F(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function z(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;;s=a(s)){if(!s)break;if(1!=s.nodeType)continue;let t=s,n=t==o.body,a=n?B(o):F(t),l=0,u=0;if(e.top<a.top+j(r,"top")?u=-(a.top-e.top+j(i,"top")):e.bottom>a.bottom-j(r,"bottom")&&(u=e.bottom-a.bottom+j(i,"bottom")),e.left<a.left+j(r,"left")?l=-(a.left-e.left+j(i,"left")):e.right>a.right-j(r,"right")&&(l=e.right-a.right+j(i,"right")),l||u)if(n)o.defaultView.scrollBy(l,u);else{let n=t.scrollLeft,r=t.scrollTop;u&&(t.scrollTop+=u),l&&(t.scrollLeft+=l);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n)break}}function H(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=t.root.elementFromPoint(o,s);if(!r||r==t.dom||!t.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){e=r,n=a.top;break}}return{refDOM:e,refTop:n,stack:$(t.dom)}}function $(t){let e=[],n=t.ownerDocument;for(let r=t;r;r=a(r))if(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t==n)break;return e}function W({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;V(n,0==r?0:r-e)}function V(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let U=null;function q(t){if(t.setActive)return t.setActive();if(U)return t.focus(U);let e=$(t);t.focus(null==U?{get preventScroll(){return U={preventScroll:!0},!0}}:void 0),U||(U=!1,V(e,0))}function K(t,e){let n,r,i=2e8,o=0,s=e.top,a=e.top;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let t;if(1==l.nodeType)t=l.getClientRects();else{if(3!=l.nodeType)continue;t=u(l).getClientRects()}for(let u=0;u<t.length;u++){let h=t[u];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);let t=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(t<i){n=l,i=t,r=t&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&t&&(o=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=c+1)}}return n&&3==n.nodeType?G(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:K(n,r)}function G(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=et(r,1);if(n.top!=n.bottom&&X(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}function X(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Y(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function J(t,e,n){let{node:r,offset:i}=K(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function Q(t,e,n,r){let i=-1;for(let o=e;;){if(o==t.dom)break;let e=t.docView.nearestDesc(o,!0);if(!e)return null;if(e.node.isBlock&&e.parent){let t=e.dom.getBoundingClientRect();if(t.left>r.left||t.top>r.top)i=e.posBefore;else{if(!(t.right<r.left||t.bottom<r.top))break;i=e.posAfter}}o=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function Z(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(X(e,i))return Z(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function tt(t,e){let n,r=t.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let t=r.caretPositionFromPoint(e.left,e.top);t&&({offsetNode:n,offset:i}=t)}catch(u){}if(!n&&r.caretRangeFromPoint){let t=r.caretRangeFromPoint(e.left,e.top);t&&({startContainer:n,startOffset:i}=t)}let o,s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!s||!t.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=t.dom.getBoundingClientRect();if(!X(e,n))return null;if(s=Z(t.dom,e,n),!s)return null}if(A)for(let c=s;n&&c;c=a(c))c.draggable&&(n=void 0);if(s=Y(s,e),n){if(E&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=Q(t,n,i,e))}null==o&&(o=J(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function et(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const nt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function rt(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=R||E;if(3==r.nodeType){if(!s||!nt.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,it(et(u(r,t,e),1),o<0)}{let t=et(u(r,i,i),n);if(E&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=et(u(r,i-1,i-1),-1);if(e.top==t.top){let n=et(u(r,i,i+1),-1);if(n.top!=t.top)return it(n,n.left<e.left)}}return t}}let a=t.state.doc.resolve(e-(o||0));if(!a.parent.inlineContent){if(null==o&&i&&(n<0||i==d(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return ot(t.getBoundingClientRect(),!1)}if(null==o&&i<d(r)){let t=r.childNodes[i];if(1==t.nodeType)return ot(t.getBoundingClientRect(),!0)}return ot(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==d(r))){let t=r.childNodes[i-1],e=3==t.nodeType?u(t,d(t)-(s?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return it(et(e,1),!1)}if(null==o&&i<d(r)){let t=r.childNodes[i];while(t.pmViewDesc&&t.pmViewDesc.ignoreForCoords)t=t.nextSibling;let e=t?3==t.nodeType?u(t,0,s?0:1):1==t.nodeType?t:null:null;if(e)return it(et(e,-1),!0)}return it(et(3==r.nodeType?u(r):r,-n),n>=0)}function it(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ot(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function st(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function at(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return st(t,e,()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}let r=rt(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=u(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0})}const lt=/[\u0590-\u08ac]/;function ut(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return lt.test(r.parent.textContent)&&a.modify?st(t,e,()=>{let{focusNode:e,focusOffset:i,anchorNode:o,anchorOffset:s}=t.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let u=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:c,focusOffset:h}=t.domSelectionRange(),p=c&&!u.contains(1==c.nodeType?c:c.parentNode)||e==c&&i==h;try{a.collapse(o,s),e&&(e!=o||i!=s)&&a.extend&&a.extend(e,i)}catch(d){}return null!=l&&(a.caretBidiLevel=l),p}):"left"==n||"backward"==n?o:s}let ct=null,ht=null,pt=!1;function dt(t,e,n){return ct==e&&ht==n?pt:(ct=e,ht=n,pt="up"==n||"down"==n?at(t,e,n):ut(t,e,n))}const ft=0,mt=1,gt=2,vt=3;class _t{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=ft,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n,r=0,i=0;for(let o=0;r<this.children.length;r++){let e=this.children[r],n=o+e.size;if(n>t||e instanceof St){i=t-o;break}o=n}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(n=this.children[r-1]).size&&n instanceof yt&&n.side>=0;r--);if(e<=0){let t,n=!0;for(;;r--,n=!1)if(t=r?this.children[r-1]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?s(t.dom)+1:0}}{let t,n=!0;for(;;r++,n=!1)if(t=r<this.children.length?this.children[r]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?s(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],l=o+n.size;if(-1==r&&t<=l){let i=o+n.border;if(t>=i&&e<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=s(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let s=0,c=0;s<this.children.length;s++){let a=this.children[s],l=c+a.size;if(i>c&&o<l)return a.setSelection(t-c-a.border,e-c-a.border,n,r);c=l}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),u=n.getSelection(),h=!1;if((E||A)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(h=!(!e||"\n"!=t.nodeValue[e-1]),h&&e==t.nodeValue.length)for(let n,r=t;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=l={node:n.parentNode,offset:s(n)+1});break}let t=r.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];h=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(E&&u.focusNode&&u.focusNode!=l.node&&1==u.focusNode.nodeType){let t=u.focusNode.childNodes[u.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||h&&A)&&c(a.node,a.offset,u.anchorNode,u.anchorOffset)&&c(l.node,l.offset,u.focusNode,u.focusOffset))return;let p=!1;if((u.extend||t==e)&&!h){u.collapse(a.node,a.offset);try{t!=e&&u.extend(l.node,l.offset),p=!0}catch(d){}}if(!p){if(t>e){let t=a;a=l,l=t}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,s=o-i.border;if(t>=r&&e<=s)return this.dirty=t==n||e==o?gt:mt,void(t!=r||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=vt);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?vt:gt}n=o}this.dirty=gt}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?gt:mt;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class yt extends _t{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r)),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return this.dirty==ft&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bt extends _t{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class wt extends _t{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return s&&s.dom||(s=i["b"].renderSpec(document,e.type.spec.toDOM(e,n))),new wt(t,e,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&vt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return this.dirty!=vt&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=ft){let t=this.parent;while(!t.node)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=ft}}slice(t,e,n){let r=wt.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=Wt(i,e,o,n)),t>0&&(i=Wt(i,0,t,n));for(let s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r}}class xt extends _t{constructor(t,e,n,r,i,o,s,a,l){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,o&&this.updateChildren(a,l)}static create(t,e,n,r,o,s){let a,l=o.nodeViews[e.type.name],u=l&&l(e,o,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s,n,r),c=u&&u.dom,h=u&&u.contentDOM;if(e.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(e.text);else c||({dom:c,contentDOM:h}=i["b"].renderSpec(document,e.type.spec.toDOM(e)));h||e.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0));let p=c;return c=Lt(c,n,e),u?a=new Tt(t,e,n,r,c,h||null,p,u,o,s+1):e.isText?new Ct(t,e,n,r,c,p,o):new xt(t,e,n,r,c,h||null,p,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i["c"].empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return this.dirty==ft&&t.eq(this.node)&&It(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Pt(this,s&&s.node,t);Ft(this.node,this.innerDeco,(e,o,s)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&l.syncToMarks(o==this.node.childCount?i["d"].none:this.node.child(o).marks,n,t),l.placeWidget(e,t,r)},(e,i,s,u)=>{let c;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,i,s,u)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(c=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,i,s,c,t)||l.updateNextNode(e,i,s,t,u)||l.addNode(e,i,s,t,r),r+=e.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==gt)&&(s&&this.protectLocalComposition(t,s),Et(this.contentDOM,this.children,t),D&&zt(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r["h"])||n<e||i>e+this.node.content.size)return null;let o=t.domSelectionRange(),s=Ht(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let t=s.nodeValue,r=$t(this.node.content,t,n-e,i-e);return r<0?null:{node:s,pos:r,text:t}}return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new bt(this,i,e,r);t.input.compositionNodes.push(o),this.children=Wt(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(this.dirty==vt||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=ft}updateOuterDeco(t){if(It(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=At(this.dom,this.nodeDOM,Nt(this.outerDeco,this.node,e),Nt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function kt(t,e,n,r,i){return Lt(r,e,t),new xt(void 0,t,e,n,r,r,r,i,0)}class Ct extends xt{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(this.dirty==vt||this.dirty!=ft&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==ft&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=ft,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new Ct(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=vt)}get domAtom(){return!1}}class St extends _t{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ft&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Tt extends xt{constructor(t,e,n,r,i,o,s,a,l,u){super(t,e,n,r,i,o,s,l,u),this.spec=a}update(t,e,n,r){if(this.dirty==vt)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Et(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){while(a!=r)r=Rt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof wt){let e=r?r.previousSibling:t.lastChild;Et(s.contentDOM,s.children,n),r=e?e.nextSibling:t.firstChild}}while(r)r=Rt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ot=function(t){t&&(this.nodeName=t)};Ot.prototype=Object.create(null);const Mt=[new Ot];function Nt(t,e,n){if(0==t.length)return Mt;let r=n?Mt[0]:new Ot,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Ot(s.nodeName));for(let t in s){let o=s[t];null!=o&&(n&&1==i.length&&i.push(r=new Ot(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function At(t,e,n,r){if(n==Mt&&r==Mt)return e;let i=e;for(let o=0;o<r.length;o++){let e=r[o],s=n[o];if(o){let n;s&&s.nodeName==e.nodeName&&i!=t&&(n=i.parentNode)&&n.nodeName.toLowerCase()==e.nodeName||(n=document.createElement(e.nodeName),n.pmIsDeco=!0,n.appendChild(i),s=Mt[0]),i=n}Dt(i,s||Mt[0],e)}return i}function Dt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(e.style))t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function Lt(t,e,n){return At(t,t,Mt,Nt(e,n,1!=t.nodeType))}function It(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Rt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Pt{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Bt(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=ft,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<t.length){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++)if(this.top.children[e].matchesMark(t[i])){r=e;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=wt.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(t,e,n)&&!this.preMatch.matched.has(r)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return o.dirty==vt&&o.dom==o.contentDOM&&(o.dirty=gt),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let s=this.top.children[o];if(s instanceof xt){let a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;let l=s.dom,u=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=vt&&It(e,s.outerDeco));if(!u&&s.update(t,e,n,r))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,n,r,i){this.top.children.splice(this.index++,0,xt.create(this.top,t,e,n,r,i)),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new yt(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;while(t instanceof wt)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Ct)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((A||M)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new St(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}}function Bt(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];t:while(i>0){let a;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof wt)){a=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function jt(t,e){return t.type.side-e.type.side}function Ft(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let s=t.child(n);r(s,i,e.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){if(s<i.length&&i[s].to==o){let t,e=i[s++];while(s<i.length&&i[s].to==o)(t||(t=[e])).push(i[s++]);if(t){t.sort(jt);for(let e=0;e<t.length;e++)n(t[e],u,!!l)}else n(e,u,!!l)}let c,h;if(l)h=-1,c=l,l=null;else{if(!(u<t.childCount))break;h=u,c=t.child(u++)}for(let t=0;t<a.length;t++)a[t].to<=o&&a.splice(t--,1);while(s<i.length&&i[s].from<=o&&i[s].to>o)a.push(i[s++]);let p=o+c.nodeSize;if(c.isText){let t=p;s<i.length&&i[s].from<t&&(t=i[s].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<p&&(l=c.cut(t-o),c=c.cut(0,t-o),p=t,h=-1)}let d=c.isInline&&!c.isLeaf?a.filter(t=>!t.inline):a.slice();r(c,d,e.forChild(o,c),h),o=p}}function zt(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ht(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=d(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function $t(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;while(i<t.childCount){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;l+=e.text}if(o>=n){let t=a<r?l.lastIndexOf(e,r-a-1):-1;if(t>=0&&t+e.length+a>=n)return a+t;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Wt(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],u=a,c=a+=l.size;u>=n||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(l.slice(n-u,l.size,r)))}return o}function Vt(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l,u,c=i.resolve(a);if(g(n)){l=c;while(o&&!o.node)o=o.parent;let t=o.node;if(o&&t.isAtom&&r["c"].isSelectable(t)&&o.parent&&(!t.isInline||!f(n.focusNode,n.focusOffset,o.dom))){let t=o.posBefore;u=new r["c"](a==t?c:i.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;l=i.resolve(e)}if(!u){let n="pointer"==e||t.state.selection.head<c.pos&&!s?1:-1;u=ee(t,l,c,n)}return u}function Ut(t){return t.editable?t.hasFocus():re(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function qt(t,e=!1){let n=t.state.selection;if(Zt(t,n),Ut(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&M){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&c(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Qt(t);else{let i,o,{anchor:s,head:a}=n;!Kt||n instanceof r["h"]||(n.$from.parent.inlineContent||(i=Gt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Gt(t,n.to))),t.docView.setSelection(s,a,t.root,e),Kt&&(i&&Yt(i),o&&Yt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Jt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Kt=A||M&&N<63;function Gt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(A&&i&&"false"==i.contentEditable)return Xt(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return Xt(i);if(o)return Xt(o)}}function Xt(t){return t.contentEditable="true",A&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Yt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Jt(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{Ut(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Qt(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&S&&T<=11&&(r.disabled=!0,r.disabled=!1)}function Zt(t,e){if(e instanceof r["c"]){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(te(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else te(t)}function te(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ee(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||r["h"].between(e,n,i)}function ne(t){return!(t.editable&&!t.hasFocus())&&re(t)}function re(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function ie(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return c(e.node,e.offset,n.anchorNode,n.anchorOffset)}function oe(t,e){let{$anchor:n,$head:i}=t.selection,o=e>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&r["f"].findFrom(s,e)}function se(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ae(t,e,n){let i=t.state.selection;if(!(i instanceof r["h"])){if(i instanceof r["c"]&&i.node.isInline)return se(t,new r["h"](e>0?i.$to:i.$from));{let n=oe(t.state,e);return!!n&&se(t,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let n=oe(t.state,e);return!!(n&&n instanceof r["c"])&&se(t,n)}if(!(L&&n.indexOf("m")>-1)){let n,o=i.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(n=t.docView.descAt(a))&&!n.contentDOM)&&(r["c"].isSelectable(s)?se(t,new r["c"](e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):!!R&&se(t,new r["h"](t.state.doc.resolve(e<0?a:a+s.nodeSize))))}}function le(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ue(t){let e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function ce(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(E&&1==n.nodeType&&r<le(n)&&ue(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if(ue(t))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(pe(n))break;{let e=n.previousSibling;while(e&&ue(e))i=n.parentNode,o=s(e),e=e.previousSibling;if(e)n=e,r=le(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?de(t,n,r):i&&de(t,i,o)}function he(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=le(n);for(;;)if(r<a){if(1!=n.nodeType)break;let t=n.childNodes[r];if(!ue(t))break;i=n,o=++r}else{if(pe(n))break;{let e=n.nextSibling;while(e&&ue(e))i=e.parentNode,o=s(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=le(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}i&&de(t,i,o)}function pe(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function de(t,e,n){let r=t.domSelection();if(g(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&qt(t)},50)}function fe(t,e,n){let i=t.state.selection;if(i instanceof r["h"]&&!i.empty||n.indexOf("s")>-1)return!1;if(L&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=i;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=oe(t.state,e);if(n&&n instanceof r["c"])return se(t,n)}if(!o.parent.inlineContent){let n=e<0?o:s,a=i instanceof r["a"]?r["f"].near(n,e):r["f"].findFrom(n,e);return!!a&&se(t,a)}return!1}function me(t,e){if(!(t.state.selection instanceof r["h"]))return!0;let{$head:n,$anchor:i,empty:o}=t.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=t.state.tr;return e<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),t.dispatch(r),!0}return!1}function ge(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ve(t){if(!A||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;ge(t,n,"true"),setTimeout(()=>ge(t,n,"false"),20)}return!1}function _e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ye(t,e){let n=e.keyCode,r=_e(e);return 8==n||L&&72==n&&"c"==r?me(t,-1)||ce(t):46==n||L&&68==n&&"c"==r?me(t,1)||he(t):13==n||27==n||(37==n||L&&66==n&&"c"==r?ae(t,-1,r)||ce(t):39==n||L&&70==n&&"c"==r?ae(t,1,r)||he(t):38==n||L&&80==n&&"c"==r?fe(t,-1,r)||ce(t):40==n||L&&78==n&&"c"==r?ve(t)||fe(t,1,r)||he(t):r==(L?"m":"c")&&(66==n||73==n||89==n||90==n))}function be(t,e){t.someProp("transformCopied",n=>{e=n(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;while(o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount){o--,s--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||i["b"].fromSchema(t.state.schema),l=Ae(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let c,h=u.firstChild,p=0;while(h&&1==h.nodeType&&(c=Me[h.nodeName.toLowerCase()])){for(let t=c.length-1;t>=0;t--){let e=l.createElement(c[t]);while(u.firstChild)e.appendChild(u.firstChild);u.appendChild(e),p++}h=u.firstChild}h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${o} ${s}${p?" -"+p:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",n=>n(e,t))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:u,text:d}}function we(t,e,n,r,o){let s,a,l=o.parent.type.spec.code;if(!n&&!e)return null;let u=e&&(r||l||!n);if(u){if(t.someProp("transformPastedText",n=>{e=n(e,l||r,t)}),l)return e?new i["j"](i["c"].from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i["j"].empty;let n=t.someProp("clipboardTextParser",n=>n(e,o,r,t));if(n)a=n;else{let n=o.marks(),{schema:r}=t.state,a=i["b"].fromSchema(r);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(t=>{let e=s.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))})}}else t.someProp("transformPastedHTML",e=>{n=e(n,t)}),s=De(n),R&&Le(s);let c=s&&s.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let i=+h[3];i>0;i--){let t=s.firstChild;while(t&&1!=t.nodeType)t=t.nextSibling;if(!t)break;s=t}if(!a){let e=t.someProp("clipboardParser")||t.someProp("domParser")||i["a"].fromSchema(t.state.schema);a=e.parseSlice(s,{preserveWhitespace:!(!u&&!h),context:o,ruleFromNode(t){return"BR"!=t.nodeName||t.nextSibling||!t.parentNode||xe.test(t.parentNode.nodeName)?null:{ignore:!0}}})}if(h)a=Ie(Oe(a,+h[1],+h[2]),h[4]);else if(a=i["j"].maxOpen(ke(a.content,o),!0),a.openStart||a.openEnd){let t=0,e=0;for(let n=a.content.firstChild;t<a.openStart&&!n.type.spec.isolating;t++,n=n.firstChild);for(let n=a.content.lastChild;e<a.openEnd&&!n.type.spec.isolating;e++,n=n.lastChild);a=Oe(a,t,e)}return t.someProp("transformPasted",e=>{a=e(a,t)}),a}const xe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ke(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,o=e.node(n),s=o.contentMatchAt(e.index(n)),a=[];if(t.forEach(t=>{if(!a)return;let e,n=s.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&r.length&&Se(n,r,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=Te(a[a.length-1],r.length));let e=Ce(t,n);a.push(e),s=s.matchType(e.type),r=n}}),a)return i["c"].from(a)}return t}function Ce(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i["c"].from(t));return t}function Se(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=Se(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));let a=r.contentMatchAt(r.childCount);if(a.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i["c"].from(Ce(n,t,o+1))))}}function Te(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,Te(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i["c"].empty,!0);return t.copy(n.append(r))}function Ee(t,e,n,r,o,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return o<r-1&&(l=Ee(l,e,n,r,o+1,s)),o>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,t.childCount>1||s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(i["c"].empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function Oe(t,e,n){return e<t.openStart&&(t=new i["j"](Ee(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i["j"](Ee(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Me={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ne=null;function Ae(){return Ne||(Ne=document.implementation.createHTMLDocument("title"))}function De(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=Ae().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);if((n=i&&Me[i[1].toLowerCase()])&&(t=n.map(t=>"<"+t+">").join("")+t+n.map(t=>"</"+t+">").reverse().join("")),r.innerHTML=t,n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function Le(t){let e=t.querySelectorAll(M?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Ie(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(l){return t}let{content:o,openStart:s,openEnd:a}=t;for(let u=n.length-2;u>=0;u-=2){let t=r.nodes[n[u]];if(!t||t.hasRequiredAttrs())break;o=i["c"].from(t.create(n[u+1],o)),s++,a++}return new i["j"](o,s,a)}const Re={},Pe={},Be={touchstart:!0,touchmove:!0};class je{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Fe(t){for(let e in Re){let n=Re[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!Ve(t,e)||We(t,e)||!t.editable&&e.type in Pe||n(t,e)},Be[e]?{passive:!0}:void 0)}A&&t.dom.addEventListener("input",()=>null),$e(t)}function ze(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function He(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function $e(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>We(t,e))})}function We(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function Ve(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Ue(t,e){We(t,e)||!Re[e.type]||!t.editable&&e.type in Pe||Re[e.type](t,e)}function qe(t){return{left:t.clientX,top:t.clientY}}function Ke(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ge(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,e=>s>o.depth?e(t,n,o.nodeAfter,o.before(s),i,!0):e(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Xe(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Ye(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r["c"].isSelectable(i))&&(Xe(t,new r["c"](n),"pointer"),!0)}function Je(t,e){if(-1==e)return!1;let n,i,o=t.state.selection;o instanceof r["c"]&&(n=o.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let t=a>s.depth?s.nodeAfter:s.node(a);if(r["c"].isSelectable(t)){i=n&&o.$from.depth>0&&a>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(a);break}}return null!=i&&(Xe(t,r["c"].create(t.state.doc,i),"pointer"),!0)}function Qe(t,e,n,r,i){return Ge(t,"handleClickOn",e,n,r)||t.someProp("handleClick",n=>n(t,e,r))||(i?Je(t,n):Ye(t,n))}function Ze(t,e,n,r){return Ge(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",n=>n(t,e,r))}function tn(t,e,n,r){return Ge(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",n=>n(t,e,r))||en(t,n,r)}function en(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(Xe(t,r["h"].create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(e);for(let s=o.depth+1;s>0;s--){let e=s>o.depth?o.nodeAfter:o.node(s),n=o.before(s);if(e.inlineContent)Xe(t,r["h"].create(i,n+1,n+1+e.content.size),"pointer");else{if(!r["c"].isSelectable(e))continue;Xe(t,r["c"].create(i,n),"pointer")}return!0}}function nn(t){return hn(t)}Pe.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!sn(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!I||!M||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!D||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",e=>e(t,n))||ye(t,n)?n.preventDefault():ze(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",e=>e(t,v(13,"Enter"))),t.input.lastIOSEnter=0)},200)}},Pe.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},Pe.keypress=(t,e)=>{let n=e;if(sn(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||L&&n.metaKey)return;if(t.someProp("handleKeyPress",e=>e(t,n)))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r["h"])||!i.$from.sameParent(i.$to)){let e=String.fromCharCode(n.charCode);t.someProp("handleTextInput",n=>n(t,i.$from.pos,i.$to.pos,e))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const rn=L?"metaKey":"ctrlKey";Re.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=nn(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Ke(n,t.input.lastClick)&&!n[rn]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(qe(n));s&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new on(t,s,n,!!r)):("doubleClick"==o?Ze:tn)(t,s.pos,s.inside,n)?n.preventDefault():ze(t,"pointer"))};class on{constructor(t,e,n,i){let o,s;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[rn],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let n=t.state.doc.resolve(e.pos);o=n.parent,s=n.depth?n.before():0}const a=i?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=t.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||u instanceof r["c"]&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!E||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ze(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>qt(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(qe(t))),this.updateAllowDefault(t),this.allowDefault||!e?ze(this.view,"pointer"):Qe(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||A&&this.mightDrag&&!this.mightDrag.node.isAtom||M&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Xe(this.view,r["f"].near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):ze(this.view,"pointer")}move(t){this.updateAllowDefault(t),ze(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function sn(t,e){return!!t.composing||!!(A&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}Re.touchstart=t=>{t.input.lastTouch=Date.now(),nn(t),ze(t,"pointer")},Re.touchmove=t=>{t.input.lastTouch=Date.now(),ze(t,"pointer")},Re.contextmenu=t=>nn(t);const an=I?5e3:-1;function ln(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>hn(t),e))}function un(t){t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=cn());while(t.input.compositionNodes.length>0)t.input.compositionNodes.pop().markParentsDirty()}function cn(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function hn(t,e=!1){if(!(I&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),un(t),e||t.docView&&t.docView.dirty){let e=Vt(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}function pn(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}Pe.compositionstart=Pe.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)))t.markCursor=t.state.storedMarks||n.marks(),hn(t,!0),t.markCursor=null;else if(hn(t),E&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){t.domSelection().collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}ln(t,an)},Pe.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,ln(t,20))};const dn=S&&T<15||D&&P<604;function fn(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function mn(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gn(t,r.value,null,e):gn(t,r.textContent,r.innerHTML,e)},50)}function gn(t,e,n,r){let o=we(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",e=>e(t,r,o||i["j"].empty)))return!0;if(!o)return!1;let s=fn(o),a=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Re.copy=Pe.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=dn?null:n.clipboardData,s=r.content(),{dom:a,text:l}=be(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):pn(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Pe.paste=(t,e)=>{let n=e;if(t.composing&&!I)return;let r=dn?null:n.clipboardData;r&&gn(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():mn(t,n)};class vn{constructor(t,e){this.slice=t,this.move=e}}const _n=L?"altKey":"ctrlKey";Re.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(qe(n));if(s&&s.pos>=o.from&&s.pos<=(o instanceof r["c"]?o.to-1:o.to));else if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(r["c"].create(t.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&t.dispatch(t.state.tr.setSelection(r["c"].create(t.state.doc,e.posBefore)))}let a=t.state.selection.content(),{dom:l,text:u}=be(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(dn?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",dn||n.dataTransfer.setData("text/plain",u),t.dragging=new vn(a,!n[_n])},Re.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},Pe.dragover=Pe.dragenter=(t,e)=>e.preventDefault(),Pe.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let a=t.posAtCoords(qe(n));if(!a)return;let l=t.state.doc.resolve(a.pos),u=s&&s.slice;u?t.someProp("transformPasted",e=>{u=e(u,t)}):u=we(t,n.dataTransfer.getData(dn?"Text":"text/plain"),dn?null:n.dataTransfer.getData("text/html"),!1,l);let c=!(!s||n[_n]);if(t.someProp("handleDrop",e=>e(t,n,u||i["j"].empty,c)))return void n.preventDefault();if(!u)return;n.preventDefault();let h=u?Object(o["h"])(t.state.doc,l.pos,u):l.pos;null==h&&(h=l.pos);let p=t.state.tr;c&&p.deleteSelection();let d=p.mapping.map(h),f=0==u.openStart&&0==u.openEnd&&1==u.content.childCount,m=p.doc;if(f?p.replaceRangeWith(d,d,u.content.firstChild):p.replaceRange(d,d,u),p.doc.eq(m))return;let g=p.doc.resolve(d);if(f&&r["c"].isSelectable(u.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(u.content.firstChild))p.setSelection(new r["c"](g));else{let e=p.mapping.map(h);p.mapping.maps[p.mapping.maps.length-1].forEach((t,n,r,i)=>e=i),p.setSelection(ee(t,g,p.doc.resolve(e)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))},Re.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&qt(t)},20))},Re.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Re.beforeinput=(t,e)=>{let n=e;if(M&&I&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",e=>e(t,v(8,"Backspace"))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let ur in Pe)Re[ur]=Pe[ur];function yn(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class bn{constructor(t,e){this.toDOM=t,this.spec=e||Sn,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new kn(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof bn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&yn(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class wn{constructor(t,e){this.attrs=t,this.spec=e||Sn}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new kn(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof wn&&yn(this.attrs,t.attrs)&&yn(this.spec,t.spec)}static is(t){return t.type instanceof wn}destroy(){}}class xn{constructor(t,e){this.attrs=t,this.spec=e||Sn}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new kn(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof xn&&yn(this.attrs,t.attrs)&&yn(this.spec,t.spec)}destroy(){}}class kn{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new kn(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new kn(t,t,new bn(e,n))}static inline(t,e,n,r){return new kn(t,e,new wn(n,r))}static node(t,e,n,r){return new kn(t,e,new xn(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof wn}}const Cn=[],Sn={};class Tn{constructor(t,e){this.local=t.length?t:Cn,this.children=e.length?e:Cn}static create(t,e){return e.length?In(e,t,0,Sn):En}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,e-s,n,r+s,i)}}map(t,e,n){return this==En||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Sn)}mapInner(t,e,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?Mn(this.children,o||[],t,e,n,r,i):o?new Tn(o.sort(Rn),Cn):En}add(t,e){return e.length?this==En?Tn.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach((t,o)=>{let s,a=o+n;if(s=Dn(e,t,a)){r||(r=this.children.slice());while(i<r.length&&r[i]<o)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,s,a+1):r.splice(i,0,o,o+t.nodeSize,In(s,t,a+1,Sn)),i+=3}});let o=Nn(i?Ln(e):e,-n);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||o.splice(s--,1);return new Tn(o.length?this.local.concat(o).sort(Rn):this.local,r||this.children)}remove(t){return 0==t.length||this==En?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+e,s=n[i+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<s&&(t[n]=null,(r||(r=[])).push(e));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[i+2].removeInner(r,o+1);a!=En?n[i+2]=a:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<t.length;o++)if(i=t[o])for(let t=0;t<r.length;t++)r[t].eq(i,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Tn(r,n):En}forChild(t,e){if(this==En)return this;if(e.isLeaf)return Tn.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let i=t+1,o=i+e.content.size;for(let s=0;s<this.local.length;s++){let t=this.local[s];if(t.from<o&&t.to>i&&t.type instanceof wn){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let t=new Tn(r.sort(Rn),Cn);return n?new On([t,n]):t}return n||En}eq(t){if(this==t)return!0;if(!(t instanceof Tn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Pn(this.localsInner(t))}localsInner(t){if(this==En)return Cn;if(t.inlineContent||!this.local.some(wn.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof wn||e.push(this.local[n]);return e}}Tn.empty=new Tn([],[]),Tn.removeOverlap=Pn;const En=Tn.empty;class On{constructor(t){this.members=t}map(t,e){const n=this.members.map(n=>n.map(t,e,Sn));return On.from(n)}forChild(t,e){if(e.isLeaf)return Tn.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=En&&(i instanceof On?n=n.concat(i.members):n.push(i))}return On.from(n)}eq(t){if(!(t instanceof On)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?Pn(n?e:e.sort(Rn)):Cn}static from(t){switch(t.length){case 0:return En;case 1:return t[0];default:return new On(t)}}}function Mn(t,e,n,r,i,o,s){let a=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let t=0;n.maps[u].forEach((e,n,r,o)=>{let s=o-r-(n-e);for(let l=0;l<a.length;l+=3){let o=a[l+1];if(o<0||e>o+c-t)continue;let u=a[l]+c-t;n>=u?a[l+1]=e<=u?-2:-1:r>=i&&s&&(a[l]+=s,a[l+1]+=s)}t+=s}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(-2==a[u+1]){l=!0,a[u+1]=-1;continue}let e=n.map(t[u]+o),c=e-i;if(c<0||c>=r.content.size){l=!0;continue}let h=n.map(t[u+1]+o,-1),p=h-i,{index:d,offset:f}=r.content.findIndex(c),m=r.maybeChild(d);if(m&&f==c&&f+m.nodeSize==p){let r=a[u+2].mapInner(n,m,e+1,t[u]+o+1,s);r!=En?(a[u]=c,a[u+1]=p,a[u+2]=r):(a[u+1]=-2,l=!0)}else l=!0}if(l){let l=An(a,t,e,n,i,o,s),u=In(l,r,0,s);e=u.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<u.children.length;t+=3){let n=u.children[t];while(e<a.length&&a[e]<n)e+=3;a.splice(e,0,u.children[t],u.children[t+1],u.children[t+2])}}return new Tn(e.sort(Rn),a)}function Nn(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new kn(i.from+e,i.to+e,i.type))}return n}function An(t,e,n,r,i,o,s){function a(t,e){for(let o=0;o<t.local.length;o++){let a=t.local[o].map(r,i,e);a?n.push(a):s.onRemove&&s.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+o+1);return n}function Dn(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o,s=0;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Ln(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function In(t,e,n,r){let i=[],o=!1;e.forEach((e,s)=>{let a=Dn(t,e,s+n);if(a){o=!0;let t=In(a,e,n+s+1,r);t!=En&&i.push(s,s+e.nodeSize,t)}});let s=Nn(o?Ln(t):t,-n).sort(Rn);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Tn(s,i):En}function Rn(t,e){return t.from-e.from||t.to-e.to}function Pn(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Bn(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Bn(e,i+1,o.copy(r.to,o.to)))}}return e}function Bn(t,e,n){while(e<t.length&&Rn(n,t[e])>0)e++;t.splice(e,0,n)}function jn(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=En&&e.push(r)}),t.cursorWrapper&&e.push(Tn.create(t.state.doc,[t.cursorWrapper.deco])),On.from(e)}const Fn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zn=S&&T<=11;class Hn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class $n{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Hn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);S&&T<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),zn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ne(this.view)){if(this.suppressingSelectionUpdates)return qt(this.view);if(S&&T<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&c(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let i=t.focusNode;i;i=a(i))n.add(i);for(let i=t.anchorNode;i;i=a(i))if(n.has(i)){e=i;break}let r=e&&this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ne(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let r=0;r<e.length;r++){let t=this.registerMutation(e[r],l);t&&(o=o<0?t.from:Math.min(t.from,o),s=s<0?t.to:Math.max(t.to,s),t.typeOver&&(a=!0))}if(E&&l.length>1){let t=l.filter(t=>"BR"==t.nodeName);if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}let u=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&t.input.lastTouch<Date.now()-300&&g(n)&&(u=Vt(t))&&u.eq(r["f"].near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,qt(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),Un(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||qt(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(S&&T<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?s(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),l=i&&i.parentNode==t.target?s(i):t.target.childNodes.length,u=n.localPosFromDOM(t.target,l,1);return{from:a,to:u}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Wn=new WeakMap,Vn=!1;function Un(t){if(!Wn.has(t)&&(Wn.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))){if(t.requiresGeckoHackNode=E,Vn)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Vn=!0}}function qn(t){let e;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return c(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function Kn(t,e,n){let r,{node:o,fromOffset:s,toOffset:a,from:l,to:u}=t.docView.parseRange(e,n),c=t.domSelectionRange(),h=c.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:c.anchorOffset}],g(c)||r.push({node:c.focusNode,offset:c.focusOffset})),M&&8===t.input.lastKeyCode)for(let i=a;i>s;i--){let t=o.childNodes[i-1],e=t.pmViewDesc;if("BR"==t.nodeName&&!e){a=i;break}if(!e||e.size)break}let p=t.state.doc,d=t.someProp("domParser")||i["a"].fromSchema(t.state.schema),f=p.resolve(l),m=null,v=d.parse(o,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Gn,context:f});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),m={anchor:t+l,head:e+l}}return{doc:v,sel:m,from:l,to:u}}function Gn(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(A&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||A&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Xn(t,e,n,i,o){if(e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Vt(t,e);if(n&&!t.state.selection.eq(n)){let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),t.dispatch(r)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l,u,c=t.state.selection,h=Kn(t,e,n),p=t.state.doc,d=p.slice(h.from,h.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(l=t.state.selection.to,u="end"):(l=t.state.selection.from,u="start"),t.input.lastKeyCode=null;let f=tr(d.content,h.doc.content,h.from,l,u);if((D&&t.input.lastIOSEnter>Date.now()-225||I)&&o.some(t=>"DIV"==t.nodeName||"P"==t.nodeName||"LI"==t.nodeName)&&(!f||f.endA>=f.endB)&&t.someProp("handleKeyDown",e=>e(t,v(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(!f){if(!(i&&c instanceof r["h"]&&!c.empty&&c.$head.sameParent(c.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let e=Yn(t,t.state.doc,h.sel);e&&!e.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(e))}return}f={start:c.from,endA:c.to,endB:c.to}}if(M&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor){let t=f.endB-f.start;h.sel={anchor:h.sel.anchor+t,head:h.sel.anchor+t}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&f.start==f.endB&&t.state.selection instanceof r["h"]&&(f.start>t.state.selection.from&&f.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?f.start=t.state.selection.from:f.endA<t.state.selection.to&&f.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(f.endB+=t.state.selection.to-f.endA,f.endA=t.state.selection.to)),S&&T<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>h.from&&"  "==h.doc.textBetween(f.start-h.from-1,f.start-h.from+1)&&(f.start--,f.endA--,f.endB--);let m,g=h.doc.resolveNoCache(f.start-h.from),_=h.doc.resolveNoCache(f.endB-h.from),y=p.resolve(f.start),b=g.sameParent(_)&&g.parent.inlineContent&&y.end()>=f.endA;if((D&&t.input.lastIOSEnter>Date.now()-225&&(!b||o.some(t=>"DIV"==t.nodeName||"P"==t.nodeName))||!b&&g.pos<h.doc.content.size&&(m=r["f"].findFrom(h.doc.resolve(g.pos+1),1,!0))&&m.head==_.pos)&&t.someProp("handleKeyDown",e=>e(t,v(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>f.start&&Qn(p,f.start,f.endA,g,_)&&t.someProp("handleKeyDown",e=>e(t,v(8,"Backspace"))))return void(I&&M&&t.domObserver.suppressSelectionUpdates());M&&I&&f.endB==f.start&&(t.input.lastAndroidDelete=Date.now()),I&&!b&&g.start()!=_.start()&&0==_.parentOffset&&g.depth==_.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==f.endA&&(f.endB-=2,_=h.doc.resolveNoCache(f.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",(function(e){return e(t,v(13,"Enter"))}))},20));let w,x,k,C=f.start,E=f.endA;if(b)if(g.pos==_.pos)S&&T<=11&&0==g.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>qt(t),20)),w=t.state.tr.delete(C,E),x=p.resolve(f.start).marksAcross(p.resolve(f.endA));else if(f.endA==f.endB&&(k=Jn(g.parent.content.cut(g.parentOffset,_.parentOffset),y.parent.content.cut(y.parentOffset,f.endA-y.start()))))w=t.state.tr,"add"==k.type?w.addMark(C,E,k.mark):w.removeMark(C,E,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let e=g.parent.textBetween(g.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",n=>n(t,C,E,e)))return;w=t.state.tr.insertText(e,C,E)}if(w||(w=t.state.tr.replace(C,E,h.doc.slice(f.start-h.from,f.endB-h.from))),h.sel){let e=Yn(t,w.doc,h.sel);e&&!(M&&I&&t.composing&&e.empty&&(f.start!=f.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==C||e.head==w.mapping.map(E)-1)||S&&e.empty&&e.head==C)&&w.setSelection(e)}x&&w.ensureMarks(x),t.dispatch(w.scrollIntoView())}function Yn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ee(t,e.resolve(n.anchor),e.resolve(n.head))}function Jn(t,e){let n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,l=s,u=a;for(let i=0;i<a.length;i++)l=a[i].removeFromSet(l);for(let i=0;i<s.length;i++)u=s[i].removeFromSet(u);if(1==l.length&&0==u.length)r=l[0],n="add",o=t=>t.mark(r.addToSet(t.marks));else{if(0!=l.length||1!=u.length)return null;r=u[0],n="remove",o=t=>t.mark(r.removeFromSet(t.marks))}let c=[];for(let i=0;i<e.childCount;i++)c.push(o(e.child(i)));if(i["c"].from(c).eq(t))return{mark:r,type:n}}function Qn(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Zn(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Zn(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Zn(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Zn(t,e,n){let r=t.depth,i=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));while(e&&!e.isLeaf)e=e.firstChild,i++}return i}function tr(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){let t=Math.max(0,o-Math.min(s,a));r-=s+t-o}if(s<o&&t.size<e.size){let t=r<=o&&r>=s?o-r:0;o-=t,a=o+(a-s),s=o}else if(a<o){let t=r<=o&&r>=a?o-r:0;o-=t,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}class er{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new je,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(lr),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=ir(this),rr(this),this.nodeViews=sr(this),this.docView=kt(this.state.doc,nr(this),jn(this),this.dom,this),this.domObserver=new $n(this,(t,e,n,r)=>Xn(this,t,e,n,r)),this.domObserver.start(),Fe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&$e(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(lr),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){let n=this.state,r=!1,i=!1;t.storedMarks&&this.composing&&(un(this),i=!0),this.state=t;let o=n.plugins!=t.plugins||this._props.plugins!=e.plugins;if(o||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=sr(this);ar(t,this.nodeViews)&&(this.nodeViews=t,r=!0)}(o||e.handleDOMEvents!=this._props.handleDOMEvents)&&$e(this),this.editable=ir(this),rr(this);let s=jn(this),a=nr(this),l=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",u=r||!this.docView.matchesNode(t.doc,a,s);!u&&t.selection.eq(n.selection)||(i=!0);let c="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&H(this);if(i){this.domObserver.stop();let e=u&&(S||M)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&or(n.selection,t.selection);if(u){let n=M?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(t.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=kt(t.doc,a,s,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ie(this))?qt(this,e):(Zt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():c&&W(c)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",t=>t(this)));else if(this.state.selection instanceof r["c"]){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&z(this,e.getBoundingClientRect(),t)}else z(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[t];if(null!=r&&(n=e?e(r):r))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let r=i[o].props[t];if(null!=r&&(n=e?e(r):r))return n}}hasFocus(){if(S){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;while(t&&this.dom!=t&&this.dom.contains(t)){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&q(this.dom),qt(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}posAtCoords(t){return tt(this,t)}coordsAtPos(t,e=1){return rt(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return dt(this,e||this.state,t)}destroy(){this.docView&&(He(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return Ue(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return A&&11===this.root.nodeType&&_(this.dom.ownerDocument)==this.dom?qn(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function nr(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t&&(e.class+=" "+n[t]),"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))}),[kn.node(0,t.state.doc.content.size,e)]}function rr(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:kn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ir(t){return!t.someProp("editable",e=>!1===e(t.state))}function or(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function sr(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function ar(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function lr(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},"72a8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("6ffb");n("b923");class i{constructor(t,e){this.match=t,this.match=t,this.handler="string"==typeof e?o(e):e}}function o(t){return function(e,n,r,i){let o=t;if(n[1]){let t=n[0].lastIndexOf(n[1]);o+=n[0].slice(t+n[1].length),r+=t;let e=r-i;e>0&&(o=n[0].slice(t-e,t)+o,r=i)}return e.tr.insertText(o,r,i)}}const s=500;function a({rules:t}){let e=new r["d"]({state:{init(){return null},apply(t,e){let n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput(n,r,i,o){return l(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&l(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}function l(t,e,n,r,i,o){if(t.composing)return!1;let a=t.state,l=a.doc.resolve(e);if(l.parent.type.spec.code)return!1;let u=l.parent.textBetween(Math.max(0,l.parentOffset-s),l.parentOffset,null,"￼")+r;for(let s=0;s<i.length;s++){let l=i[s].match.exec(u),c=l&&i[s].handler(a,l,e-(l[0].length-r.length),n);if(c)return t.dispatch(c.setMeta(o,{transform:c,from:e,to:n,text:r})),!0}return!1}const u=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i,o=n[r];if(o.spec.isInputRules&&(i=o.getState(t))){if(e){let n=t.tr,r=i.transform;for(let t=r.steps.length-1;t>=0;t--)n.step(r.steps[t].invert(r.docs[t]));if(i.text){let e=n.doc.resolve(i.from).marks();n.replaceWith(i.from,i.to,t.schema.text(i.text,e))}else n.delete(i.from,i.to);e(n)}return!0}}return!1};new i(/--$/,"—"),new i(/\.\.\.$/,"…"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new i(/"$/,"”"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new i(/'$/,"’")},"72f0":function(t,e){function n(t){return function(){return t}}t.exports=n},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},8449:function(t,e,n){"use strict";n("386b")("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},8822:function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";var e="CodeMirror-lint-markers";function n(e,n){var r=document.createElement("div");function i(e){if(!r.parentNode)return t.off(document,"mousemove",i);r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+"px",r.style.left=e.clientX+5+"px"}return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),t.on(document,"mousemove",i),i(e),null!=r.style.opacity&&(r.style.opacity=1),r}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t){t.parentNode&&(null==t.style.opacity&&r(t),t.style.opacity=0,setTimeout((function(){r(t)}),600))}function o(e,r,o){var s=n(e,r);function a(){t.off(o,"mouseout",a),s&&(i(s),s=null)}var l=setInterval((function(){if(s)for(var t=o;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){a();break}}if(!s)return clearInterval(l)}),400);t.on(o,"mouseout",a)}function s(t,e,n){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){_(t,e)},this.waitingFor=0}function a(t,e){return e instanceof Function?{getAnnotations:e}:(e&&!0!==e||(e={}),e)}function l(t){var n=t.state.lint;n.hasGutter&&t.clearGutter(e);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function u(e,n,r,i){var s=document.createElement("div"),a=s;return s.className="CodeMirror-lint-marker-"+n,r&&(a=s.appendChild(document.createElement("div")),a.className="CodeMirror-lint-marker-multiple"),0!=i&&t.on(a,"mouseover",(function(t){o(t,e,a)})),s}function c(t,e){return"error"==t?t:e}function h(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i=r.from.line;(e[i]||(e[i]=[])).push(r)}return e}function p(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+e,"undefined"!=typeof t.messageHTML?n.innerHTML=t.messageHTML:n.appendChild(document.createTextNode(t.message)),n}function d(e,n,r){var i=e.state.lint,o=++i.waitingFor;function s(){o=-1,e.off("change",s)}e.on("change",s),n(e.getValue(),(function(n,r){e.off("change",s),i.waitingFor==o&&(r&&n instanceof t&&(n=r),e.operation((function(){m(e,n)})))}),r,e)}function f(e){var n=e.state.lint,r=n.options,i=r.options||r,o=r.getAnnotations||e.getHelper(t.Pos(0,0),"lint");if(o)if(r.async||o.async)d(e,o,i);else{var s=o(e.getValue(),i,e);if(!s)return;s.then?s.then((function(t){e.operation((function(){m(e,t)}))})):e.operation((function(){m(e,s)}))}}function m(t,n){l(t);for(var r=t.state.lint,i=r.options,o=h(n),s=0;s<o.length;++s){var a=o[s];if(a){for(var d=null,f=r.hasGutter&&document.createDocumentFragment(),m=0;m<a.length;++m){var g=a[m],v=g.severity;v||(v="error"),d=c(d,v),i.formatAnnotation&&(g=i.formatAnnotation(g)),r.hasGutter&&f.appendChild(p(g)),g.to&&r.marked.push(t.markText(g.from,g.to,{className:"CodeMirror-lint-mark-"+v,__annotation:g}))}r.hasGutter&&t.setGutterMarker(s,e,u(f,d,a.length>1,r.options.tooltips))}}i.onUpdateLinting&&i.onUpdateLinting(n,o,t)}function g(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout((function(){f(t)}),e.options.delay||500))}function v(t,e){for(var n=e.target||e.srcElement,r=document.createDocumentFragment(),i=0;i<t.length;i++){var s=t[i];r.appendChild(p(s))}o(e,r,n)}function _(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var r=n.getBoundingClientRect(),i=(r.left+r.right)/2,o=(r.top+r.bottom)/2,s=t.findMarksAt(t.coordsChar({left:i,top:o},"client")),a=[],l=0;l<s.length;++l){var u=s[l].__annotation;u&&a.push(u)}a.length&&v(a,e)}}t.defineOption("lint",!1,(function(n,r,i){if(i&&i!=t.Init&&(l(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",g),t.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var o=n.getOption("gutters"),u=!1,c=0;c<o.length;++c)o[c]==e&&(u=!0);var h=n.state.lint=new s(n,a(n,r),u);!1!==h.options.lintOnChange&&n.on("change",g),0!=h.options.tooltips&&"gutter"!=h.options.tooltips&&t.on(n.getWrapperElement(),"mouseover",h.onMouseOver),f(n)}})),t.defineExtension("performLint",(function(){this.state.lint&&f(this)}))}))},"8d74":function(t,e,n){var r=n("4cef"),i=/^\s+/;function o(t){return t?t.slice(0,r(t)+1).replace(i,""):t}t.exports=o},"8f94":function(t,e,n){!function(e,r){t.exports=r(n("56b3"))}(0,(function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=window.CodeMirror||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),e.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(t){for(var e in t)this.cminstance.setOption(e,t[e])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(t){this.handerCodeChange(t)},value:function(t){this.handerCodeChange(t)}},methods:{initialize:function(){var t=this,e=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=o.MergeView(this.$refs.mergeview,e),this.cminstance=this.codemirror.edit):(this.codemirror=o.fromTextArea(this.$refs.textarea,e),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(e){t.content=e.getValue(),t.$emit&&t.$emit("input",t.content)}));var n={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(t){return!n[t]&&(n[t]=!0)})).forEach((function(e){t.cminstance.on(e,(function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.$emit.apply(t,[e].concat(r));var o=e.replace(/([A-Z])/g,"-$1").toLowerCase();o!==e&&t.$emit.apply(t,[o].concat(r))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var t=this;this.$nextTick((function(){t.cminstance.refresh()}))},destroy:function(){var t=this.cminstance.doc.cm.getWrapperElement();t&&t.remove&&t.remove()},handerCodeChange:function(t){if(t!==this.cminstance.getValue()){var e=this.cminstance.getScrollInfo();this.cminstance.setValue(t),this.content=t,this.cminstance.scrollTo(e.left,e.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var t=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(e){var n=t.cminstance.lineInfo(e);t.cminstance.setGutterMarker(e,"breakpoints",n.gutterMarkers?null:t.marker())}))},switchMerge:function(){var t=this.cminstance.doc.history,e=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=t,this.cminstance.doc.cleanGeneration=e}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n.n(r);for(var o in r)["default","default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var s=n(5),a=n(4),l=a(i.a,s.a,!1,null,null,null);e.default=l.exports},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.codemirror=e.CodeMirror=void 0;var i=n(0),o=r(i),s=n(2),a=r(s),l=window.CodeMirror||o.default,u=function(t,e){e&&(e.options&&(a.default.props.globalOptions.default=function(){return e.options}),e.events&&(a.default.props.globalEvents.default=function(){return e.events})),t.component(a.default.name,a.default)},c={CodeMirror:l,codemirror:a.default,install:u};e.default=c,e.CodeMirror=l,e.codemirror=a.default,e.install=u},function(t,e){t.exports=function(t,e,n,r,i,o){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var u,c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=r),u){var h=c.functional,p=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,u):[u]}return{esModule:s,exports:a,options:c}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-codemirror",class:{merge:t.merge}},[t.merge?n("div",{ref:"mergeview"}):n("textarea",{ref:"textarea",attrs:{name:t.name,placeholder:t.placeholder}})])},i=[],o={render:r,staticRenderFns:i};e.a=o}])}))},9523:function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"9b42":function(t,e){function n(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(l){a=!0,i=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"9e69":function(t,e,n){var r=n("2b3e"),i=r.Symbol;t.exports=i},a6c1:function(t,e,n){var r,i;(function(){var o;(function(){"use strict";var t=[,,function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){while(" "===this.last())this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n},n.prototype.__ensure_cache=function(t){while(t>=this.__cache.length)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){var e=this.__lines.length;while(t<e)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){t=void 0!==t&&t,this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty())this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){var r=this.__lines.length-2;while(r>=0){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},function(t){function e(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}t.exports.Token=e},,,function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t),t)n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t){var r=e.replace(/-/g,"_");n[r]=t[e]}return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=void 0===n?!!e:!!n;return r},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},,function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t),r&&(i+=r[0])),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"===typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},function(t,e,n){var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,s=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new s(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();var e=new i(a.START,""),n=null,r=[],s=new o;while(e.type!==a.EOF){t=this._get_next_token(e,n);while(this._is_comment(t))s.add(t),t=this._get_next_token(e,n);s.isEmpty()||(t.comments_before=s,s=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){var n=new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=a},function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=e},function(t,e,n){var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;var n=0,r=[],i=t.exec(e);while(i)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.Pattern=e},function(t){function e(t,e){t="string"===typeof t?t:t.source,e="string"===typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;var n=this.__directive_pattern.exec(t);while(n)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},function(t,e,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);var e=this._read_template();while(e)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t},t.exports.TemplatablePattern=o},,,,function(t,e,n){var r=n(19).Beautifier,i=n(20).Options;function o(t,e,n,i){var o=new r(t,e,n,i);return o.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(20).Options,i=n(2).Output,o=n(21).Tokenizer,s=n(21).TOKEN,a=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,u=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new i(t,e)};u.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},u.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},u.prototype.print_preserved_newlines=function(t){var e=0;t.type!==s.TEXT&&t.previous.type!==s.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return 0!==e},u.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines)&&(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(t){this._output.add_new_line(t)},u.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var c=function(t){var e=null,n=t.next;while(n.type!==s.EOF&&t.closed!==n){if(n.type===s.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===s.EQUALS&&n.next.next&&n.next.next.type===s.VALUE&&(e=n.next.next.text);break}n=n.next}return e},h=function(t,e){var n=null,r=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),n=c(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function p(t,e){return-1!==e.indexOf(t)}function d(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function f(t){this._printer=t,this._current_frame=null}function m(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var o=new r(e,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}f.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},f.prototype.record_tag=function(t){var e=new d(this._current_frame,t,this._printer.indent_level);this._current_frame=e},f.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},f.prototype._get_frame=function(t,e){var n=this._current_frame;while(n){if(-1!==t.indexOf(n.tag))break;if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},f.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},f.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},m.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&a.test(t)&&(e=t.match(a)[0])),t=t.replace(l,"\n");var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new g,c=new u(this._options,n),h=new o(t,this._options).tokenize();this._tag_stack=new f(c);var p=null,d=h.next();while(d.type!==s.EOF)d.type===s.TAG_OPEN||d.type===s.COMMENT?(p=this._handle_tag_open(c,d,i,r),i=p):d.type===s.ATTRIBUTE||d.type===s.EQUALS||d.type===s.VALUE||d.type===s.TEXT&&!i.tag_complete?p=this._handle_inside_tag(c,d,i,h):d.type===s.TAG_CLOSE?p=this._handle_tag_close(c,d,i):d.type===s.TEXT?p=this._handle_text(c,d,i):c.add_raw_token(d),r=p,d=h.next();var m=c._output.get_code(e);return m},m.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),r},m.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,o={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===s.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===s.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===s.EQUALS||e.type===s.VALUE&&e.previous.type===s.EQUALS)&&t.set_space_before_token(!1),e.type===s.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||0!==e.newlines),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var l,u=!0,c=0;do{if(l=r.peek(c),l.type===s.ATTRIBUTE){u=!1;break}c+=1}while(c<4&&l.type!==s.EOF&&l.type!==s.TAG_CLOSE);a=!u}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return o},m.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r},m.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(""!==e.text){var i,o=e.text,s=1,a="",l="";"javascript"===n.custom_beautifier_name&&"function"===typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"===typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(t,e){var n=new m(t,e,r._js_beautify,r._css_beautify);return n.beautify()}),"keep"===this._options.indent_scripts?s=0:"separate"===this._options.indent_scripts&&(s=-t.indent_level);var u=t.get_full_indent(s);if(o=o.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void t.add_raw_token(e);a=u+c[1]+"\n",o=c[4],c[5]&&(l=u+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(o)if(i){var h=function(){this.eol="\n"};h.prototype=this._options.raw_options;var p=new h;o=i(u+o,p)}else{var d=e.whitespace_before;d&&(o=o.replace(new RegExp("\n("+d+")?","g"),"\n")),o=u+o.replace(/\n/g,"\n"+u)}a&&(o=o?a+o+"\n"+l:a+l),t.print_newline(!1),o&&(e.text=o,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},m.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return!n.is_unformatted&&!n.is_content_unformatted||n.is_empty_element||e.type!==s.TAG_OPEN||0!==e.text.indexOf("</")?(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)):(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),i.tag_complete||i.is_unformatted||(t.alignment_size=i.alignment_size),i};var g=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e){var n;this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",(e.text.startsWith("{{#>")||e.text.startsWith("{{~#>"))&&">"===this.tag_check[0]&&(">"===this.tag_check&&null!==e.next?this.tag_check=e.next.text.split(" ")[0]:this.tag_check=e.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),e.type===s.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text;var r=2;"{"===this.tag_start_char&&this.text.length>=3&&"~"===this.text.charAt(2)&&(r=3),this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(r)))}else this.tag_complete=!0};m.prototype._get_tag_open_token=function(t){var e=new g(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||p(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&p(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&p(e.tag_check,this._options.content_unformatted),e.is_inline_element=p(e.tag_name,this._options.inline)||e.tag_name.includes("-")||"{"===e.tag_start_char,e},m.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=h(n.tag_check,e)))),p(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var o=t.current_line_has_match(/{{#if/);o||t.print_newline(!1)}"!--"===n.tag_name&&i.type===s.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===s.TAG_CLOSE&&n.start_tag_token===r)&&"TK_CONTENT"!==i.type,(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||n.is_unformatted||"TK_CONTENT"===i.type&&!n.is_content_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n)},m.prototype._calcluate_parent_multiline=function(t,e){!e.parent||!t._output.just_added_newline()||(e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element||(e.parent.multiline_content=!0)};var v=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],_=["a","audio","del","ins","map","noscript","video"];m.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent){if("body"===t.tag_name)e=e||this._tag_stack.try_pop("head");else if("li"===t.tag_name)e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===t.tag_name||"dt"===t.tag_name)e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if("p"===t.parent.tag_name&&-1!==v.indexOf(t.tag_name)){var n=t.parent.parent;n&&-1!==_.indexOf(n.tag_name)||(e=e||this._tag_stack.try_pop("p"))}else"rp"===t.tag_name||"rt"===t.tag_name?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):"tbody"===t.tag_name||"tfoot"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):"tr"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):"th"!==t.tag_name&&"td"!==t.tag_name||(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}},t.exports.Beautifier=m},function(t,e,n){var r=n(6).Options;function i(t){r.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,t.exports.Options=i},function(t,e,n){var r=n(9).Tokenizer,i=n(9).TOKEN,o=n(13).Directives,s=n(14).TemplatablePattern,a=n(12).Pattern,l={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},u=new o(/<\!--/,/-->/),c=function(t,e){r.call(this,t,e),this._current_tag_name="";var n=new s(this._input).read_options(this._options),i=new a(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(o).until_after(o)}};c.prototype=new r,c.prototype._is_comment=function(t){return!1},c.prototype._is_opening=function(t){return t.type===l.TAG_OPEN},c.prototype._is_closing=function(t,e){return t.type===l.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},c.prototype._reset=function(){this._current_tag_name=""},c.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(l.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(l.UNKNOWN,this._input.next()),n)},c.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if("<"===t){var i=this._input.peek(1);"!"===i&&(n=this.__patterns.comment.read(),n?(r=u.get_directives(n),r&&"start"===r.ignore&&(n+=u.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(l.COMMENT,n),e.directives=r)}return e},c.prototype._read_processing=function(t){var e=null,n=null,r=null;if("<"===t){var i=this._input.peek(1);"!"!==i&&"?"!==i||(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(l.COMMENT,n),e.directives=r)}return e},c.prototype._read_open=function(t,e){var n=null,r=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(l.TAG_OPEN,n)),r},c.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(l.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(l.TAG_OPEN,n))),r},c.prototype._read_close=function(t,e){var n=null,r=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),r=this._create_token(l.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(l.TAG_CLOSE,"}}"))),r},c.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===t)r=this._create_token(l.EQUALS,this._input.next());else if('"'===t||"'"===t){var o=this._input.next();o+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(l.VALUE,o)}else i=this.__patterns.attribute.read(),i&&(r=e.type===l.EQUALS?this._create_token(l.VALUE,i):this._create_token(l.ATTRIBUTE,i));return r},c.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},c.prototype._read_raw_content=function(t,e,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(e.type===l.TAG_CLOSE&&"<"===e.opened.text[0]&&"/"!==e.text[0]){var i=e.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var o=this._read_comment_or_cdata(t);if(o)return o.type=l.TEXT,o;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(l.TEXT,r):null},c.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(l.TEXT,e)},t.exports.Tokenizer=c,t.exports.TOKEN=l}],e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}var r=n(18);o=r})();var s=o;r=[n,n("e943"),n("4d7c")],i=function(t){var e=n("e943"),r=n("4d7c");return{html_beautify:function(t,n){return s(t,n,e.js_beautify,r.css_beautify)}}}.apply(e,r),void 0===i||(t.exports=i)})()},a7be:function(t,e,n){},acdf:function(t,e,n){},ae67:function(t,e,n){n("f2b5")(n("3f23"))},b047:function(t,e,n){var r=n("1a8c"),i=n("408c"),o=n("b4b0"),s="Expected a function",a=Math.max,l=Math.min;function u(t,e,n){var u,c,h,p,d,f,m=0,g=!1,v=!1,_=!0;if("function"!=typeof t)throw new TypeError(s);function y(e){var n=u,r=c;return u=c=void 0,m=e,p=t.apply(r,n),p}function b(t){return m=t,d=setTimeout(k,e),g?y(t):p}function w(t){var n=t-f,r=t-m,i=e-n;return v?l(i,h-r):i}function x(t){var n=t-f,r=t-m;return void 0===f||n>=e||n<0||v&&r>=h}function k(){var t=i();if(x(t))return C(t);d=setTimeout(k,w(t))}function C(t){return d=void 0,_&&u?y(t):(u=c=void 0,p)}function S(){void 0!==d&&clearTimeout(d),m=0,u=f=c=d=void 0}function T(){return void 0===d?p:C(i())}function E(){var t=i(),n=x(t);if(u=arguments,c=this,f=t,n){if(void 0===d)return b(f);if(v)return clearTimeout(d),d=setTimeout(k,e),y(f)}return void 0===d&&(d=setTimeout(k,e)),p}return e=o(e)||0,r(n)&&(g=!!n.leading,v="maxWait"in n,h=v?a(o(n.maxWait)||0,e):h,_="trailing"in n?!!n.trailing:_),E.cancel=S,E.flush=T,E}t.exports=u},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return D}});var r=n(279),i=n.n(r),o=n(370),s=n.n(o),a=n(817),l=n.n(a);function u(t){try{return document.execCommand(t)}catch(e){return!1}}var c=function(t){var e=l()(t);return u("cut"),e},h=c;function p(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=t,n}var d=function(t,e){var n=p(t);e.container.appendChild(n);var r=l()(n);return u("copy"),n.remove(),r},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof t?n=d(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=d(t.value,e):(n=l()(t),u("copy")),n},m=f;function g(t){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,r=t.container,i=t.target,o=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==g(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?m(o,{container:r}):i?"cut"===n?h(i):m(i,{container:r}):void 0},_=v;function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}function k(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function S(t){var e=O();return function(){var n,r=M(t);if(e){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?E(t):e}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function N(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var A=function(t){k(n,t);var e=S(n);function n(t,r){var i;return b(this,n),i=e.call(this),i.resolveOptions(r),i.listenClick(t),i}return x(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===y(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=s()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",r=_({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(r?"success":"error",{action:n,text:r,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return N("action",t)}},{key:"defaultTarget",value:function(t){var e=N("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return N("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return m(t,e)}},{key:"cut",value:function(t){return h(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),n}(i()),D=A},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function r(t,n){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(n))return t;t=t.parentNode}}t.exports=r},438:function(t,e,n){var r=n(828);function i(t,e,n,r,i){var o=s.apply(this,arguments);return t.addEventListener(n,o,i),{destroy:function(){t.removeEventListener(n,o,i)}}}function o(t,e,n,r,o){return"function"===typeof t.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return i(t,e,n,r,o)})))}function s(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}t.exports=o},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){var r=n(879),i=n(438);function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return s(t,e,n);if(r.nodeList(t))return a(t,e,n);if(r.string(t))return l(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function s(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function a(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function l(t,e,n){return i(document.body,t,e,n)}t.exports=o},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),n(686)}().default}))},b4b0:function(t,e,n){var r=n("8d74"),i=n("1a8c"),o=n("ffd6"),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function h(t){if("number"==typeof t)return t;if(o(t))return s;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=l.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?s:+t}t.exports=h},b76a:function(t,e,n){(function(e,r){t.exports=r(n("4603"))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),l=n("41a0"),u=n("7f20"),c=n("38fd"),h=n("2b4c")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",f="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,_,y,b){l(n,e,v);var w,x,k,C=function(t){if(!p&&t in O)return O[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=_==m,E=!1,O=t.prototype,M=O[h]||O[d]||_&&O[_],N=M||C(_),A=_?T?C("entries"):N:void 0,D="Array"==e&&O.entries||M;if(D&&(k=c(D.call(new t)),k!==Object.prototype&&k.next&&(u(k,S,!0),r||"function"==typeof k[h]||s(k,h,g))),T&&M&&M.name!==m&&(E=!0,N=function(){return M.call(this)}),r&&!b||!p&&!E&&O[h]||s(O,h,N),a[e]=N,a[S]=g,_)if(w={values:T?N:C(m),keys:y?N:C(f),entries:A},b)for(x in w)x in O||o(O,x,w[x]);else i(i.P+i.F*(p||E),e,w);return w}},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),l=r(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,s=o(e),a=s.length,l=0;while(a>l)r.f(t,n=s[l++],e[n]);return t}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),l=n("520a"),u=a("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=a(t),d=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),f=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!e})):void 0;if(!d||!f||"replace"===t&&!c||"split"===t&&!h){var m=/./[p],g=n(s,p,""[t],(function(t,e,n,r,i){return e.exec===l?d&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=g[0],_=g[1];r(String.prototype,t,v),i(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),l="toString",u=(""+a).split(l);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||i(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},l="prototype",u=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),u=t.F;while(r--)delete u[l][o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[l]=r(t),n=new a,a[l]=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[a]||0!==e[a]}(),u=void 0!==/()??/.exec("")[1],c=l||u;c&&(s=function(t){var e,n,s,c,h=this;return u&&(n=new RegExp("^"+h.source+"$(?!\\s)",r.call(h))),l&&(e=h[a]),s=i.call(h,t),l&&s&&(h[a]=h.global?s.index+s[0].length:e),u&&s&&s.length>1&&o.call(s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s}),t.exports=s},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),l="prototype",u=function(t,e,n){var c,h,p,d,f=t&u.F,m=t&u.G,g=t&u.S,v=t&u.P,_=t&u.B,y=m?r:g?r[e]||(r[e]={}):(r[e]||{})[l],b=m?i:i[e]||(i[e]={}),w=b[l]||(b[l]={});for(c in m&&(n=e),n)h=!f&&y&&void 0!==y[c],p=(h?y:n)[c],d=_&&h?a(p,r):v&&"function"==typeof p?a(Function.call,p):p,y&&s(y,c,p,t&u.U),b[c]!=p&&o(b,c,d),v&&w[c]!=p&&(w[c]=p)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("0d58"),i=n("2621"),o=n("52a7"),s=n("4bf8"),a=n("626a"),l=Object.assign;t.exports=!l||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){var n=s(t),l=arguments.length,u=1,c=i.f,h=o.f;while(l>u){var p,d=a(arguments[u++]),f=c?r(d).concat(c(d)):r(d),m=f.length,g=0;while(m>g)h.call(d,p=f[g++])&&(n[p]=d[p])}return n}:l},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,n){e.exports=t},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),l=n("5f1b"),u=Math.max,c=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,m){return[function(r,i){var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=m(n,t,this,e);if(i.done)return i.value;var h=r(t),p=String(this),d="function"===typeof e;d||(e=String(e));var v=h.global;if(v){var _=h.unicode;h.lastIndex=0}var y=[];while(1){var b=l(h,p);if(null===b)break;if(y.push(b),!v)break;var w=String(b[0]);""===w&&(h.lastIndex=a(p,o(h.lastIndex),_))}for(var x="",k=0,C=0;C<y.length;C++){b=y[C];for(var S=String(b[0]),T=u(c(s(b.index),p.length),0),E=[],O=1;O<b.length;O++)E.push(f(b[O]));var M=b.groups;if(d){var N=[S].concat(E,T,p);void 0!==M&&N.push(M);var A=String(e.apply(void 0,N))}else A=g(S,p,T,E,M,e);T>=k&&(x+=p.slice(k,T)+A,k=T+S.length)}return x+p.slice(k)}];function g(t,e,r,o,s,a){var l=r+t.length,u=o.length,c=d;return void 0!==s&&(s=i(s),c=p),n.call(a,c,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":a=s[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>u){var p=h(c/10);return 0===p?n:p<=u?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):n}a=o[c-1]}return void 0===a?"":a}))}}))},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),l=n("84f2"),u=n("2b4c"),c=u("iterator"),h=u("toStringTag"),p=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(d),m=0;m<f.length;m++){var g,v=f[m],_=d[v],y=s[v],b=y&&y.prototype;if(b&&(b[c]||a(b,c,p),b[h]||a(b,h,v),l[v]=p,_))for(g in r)b[g]||o(b,g,r[g],!0)}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,s){var a,l=r(e),u=i(l.length),c=o(s,u);if(t&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return l}));n("a481");function r(){return"undefined"!==typeof window?window.console:t.console}var i=r();function o(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var s=/-(\w)/g,a=o((function(t){return t.replace(s,(function(t,e){return e?e.toUpperCase():""}))}));function l(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function u(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),l=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(e.length>l)r(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];r(r.P+r.F*n("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function i(t){if(Array.isArray(t))return t}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,o=l}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){return i(t)||o(t,e)||a(t,e)||l()}n("6762"),n("2fdb");function c(t){if(Array.isArray(t))return s(t)}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return c(t)||h(t)||a(t)||p()}var f=n("a352"),m=n.n(f),g=n("c649");function v(t,e,n){return void 0===n||(t=t||{},t[e]=n),t}function _(t,e){return t.map((function(t){return t.elm})).indexOf(e)}function y(t,e,n,r){if(!t)return[];var i=t.map((function(t){return t.elm})),o=e.length-r,s=d(e).map((function(t,e){return e>=o?i.length:i.indexOf(t)}));return n?s.filter((function(t){return-1!==t})):s}function b(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function w(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),b.call(e,t,n)}}function x(t){return["transition-group","TransitionGroup"].includes(t)}function k(t){if(!t||1!==t.length)return!1;var e=u(t,1),n=e[0].componentOptions;return!!n&&x(n.tag)}function C(t,e,n){return t[n]||(e[n]?e[n]():void 0)}function S(t,e,n){var r=0,i=0,o=C(e,n,"header");o&&(r=o.length,t=t?[].concat(d(o),d(t)):d(o));var s=C(e,n,"footer");return s&&(i=s.length,t=t?[].concat(d(t),d(s)):d(s)),{children:t,headerOffset:r,footerOffset:i}}function T(t,e){var n=null,r=function(t,e){n=v(n,t,e)},i=Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{});if(r("attrs",i),!e)return n;var o=e.on,s=e.props,a=e.attrs;return r("on",o),r("props",s),Object.assign(n.attrs,a),n}var E=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],M=["Move"].concat(E,O).map((function(t){return"on"+t})),N=null,A={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},D={name:"draggable",inheritAttrs:!1,props:A,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=k(e);var n=S(e,this.$slots,this.$scopedSlots),r=n.children,i=n.headerOffset,o=n.footerOffset;this.headerOffset=i,this.footerOffset=o;var s=T(this.$attrs,this.componentData);return t(this.getTag(),s,r)},created:function(){null!==this.list&&null!==this.value&&g["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&g["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&g["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};E.forEach((function(n){e["on"+n]=w.call(t,n)})),O.forEach((function(n){e["on"+n]=b.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(g["a"])(n)]=t.$attrs[n],e}),{}),r=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new m.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(g["a"])(e);-1===M.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=y(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=_(this.getChildrenNodes()||[],t);if(-1===e)return null;var n=this.realList[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&x(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=d(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,d(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};if(e!==n&&i&&r.getUnderlyingVm){var s=r.getUnderlyingVm(n);if(s)return Object.assign(s,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),N=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(g["d"])(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var r={element:e,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(t){if(Object(g["c"])(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(g["d"])(t.clone)},onDragUpdate:function(t){Object(g["d"])(t.item),Object(g["c"])(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=d(e.to.children).filter((function(t){return"none"!==t.style["display"]})),r=n.indexOf(e.related),i=t.component.getVmIndex(r),o=-1!==n.indexOf(N);return o||!e.willInsertAfter?i:i+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),i=this.context,o=this.computeFutureIndex(r,t);Object.assign(i,{futureIndex:o});var s=Object.assign({},t,{relatedContext:r,draggedContext:i});return n(s,e)},onDragEnd:function(){this.computeIndexes(),N=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",D);var L=D;e["default"]=L}})["default"]}))},b923:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return pt})),n.d(e,"f",(function(){return W})),n.d(e,"g",(function(){return H})),n.d(e,"h",(function(){return G})),n.d(e,"i",(function(){return L})),n.d(e,"j",(function(){return U})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return X}));var r=n("6f27");const i=65535,o=Math.pow(2,16);function s(t,e){return t+e*o}function a(t){return t&i}function l(t){return(t-(t&i))/o}const u=1,c=2,h=4,p=8;class d{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&p)>0}get deletedBefore(){return(this.delInfo&(u|h))>0}get deletedAfter(){return(this.delInfo&(c|h))>0}get deletedAcross(){return(this.delInfo&h)>0}}class f{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&f.empty)return f.empty}recover(t){let e=0,n=a(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+l(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let f=this.ranges[a+i],m=this.ranges[a+o],g=l+f;if(t<=g){let i=f?t==l?-1:t==g?1:e:e,o=l+r+(i<0?0:m);if(n)return o;let v=t==(e<0?l:g)?null:s(a/3,t-l),_=t==l?c:t==g?u:h;return(e<0?t!=l:t!=g)&&(_|=p),new d(o,_,v)}r+=m-f}return n?t+r:new d(t+r,0,null)}touches(t,e){let n=0,r=a(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let e=this.ranges[s]-(this.inverted?n:0);if(e>t)break;let a=this.ranges[s+i],l=e+a;if(t<=l&&s==3*r)return!0;n+=this.ranges[s+o]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+e],u=this.ranges[r+n];t(s,s+l,a,a+u),i+=u-l}}invert(){return new f(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?f.empty:new f(t<0?[0,-t,0]:[0,0,t])}}f.empty=new f([]);class m{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new m(this.maps,this.mirror,t,e)}copy(){return new m(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new m;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],o=n.mapResult(t,e);if(null!=o.recover){let e=this.getMirror(i);if(null!=e&&e>i&&e<this.to){i=e,t=this.maps[e].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return n?t:new d(t,r,null)}}const g=Object.create(null);class v{getMap(){return f.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=g[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in g)throw new RangeError("Duplicate use of step JSON ID "+t);return g[t]=e,e.prototype.jsonID=t,e}}class _{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new _(t,null)}static fail(t){return new _(null,t)}static fromReplace(t,e,n,i){try{return _.ok(t.replace(e,n,i))}catch(o){if(o instanceof r["h"])return _.fail(o.message);throw o}}}function y(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(y(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return r["c"].fromArray(i)}class b extends v{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r["j"](y(e.content,(t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,i),e.openStart,e.openEnd);return _.fromReplace(t,this.from,this.to,o)}invert(){return new w(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new b(e.pos,n.pos,this.mark)}merge(t){return t instanceof b&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new b(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new b(e.from,e.to,t.markFromJSON(e.mark))}}v.jsonID("addMark",b);class w extends v{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r["j"](y(e.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),e.openStart,e.openEnd);return _.fromReplace(t,this.from,this.to,n)}invert(){return new b(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new w(e.pos,n.pos,this.mark)}merge(t){return t instanceof w&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new w(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new w(e.from,e.to,t.markFromJSON(e.mark))}}v.jsonID("removeMark",w);class x extends v{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return _.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return _.fromReplace(t,this.pos,this.pos+1,new r["j"](r["c"].from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new x(this.pos,e.marks[n]);return new x(this.pos,this.mark)}}return new k(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new x(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new x(e.pos,t.markFromJSON(e.mark))}}v.jsonID("addNodeMark",x);class k extends v{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return _.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return _.fromReplace(t,this.pos,this.pos+1,new r["j"](r["c"].from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new x(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new k(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new k(e.pos,t.markFromJSON(e.mark))}}v.jsonID("removeNodeMark",k);class C extends v{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&T(t,this.from,this.to)?_.fail("Structure replace would overwrite content"):_.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new f([this.from,this.to-this.from,this.slice.size])}invert(t){return new C(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new C(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof C)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r["j"].empty:new r["j"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new C(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r["j"].empty:new r["j"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new C(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new C(e.from,e.to,r["j"].fromJSON(t,e.slice),!!e.structure)}}v.jsonID("replace",C);class S extends v{constructor(t,e,n,r,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(T(t,this.from,this.gapFrom)||T(t,this.gapTo,this.to)))return _.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return _.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?_.fromReplace(t,this.from,this.to,n):_.fail("Content does not fit in gap")}getMap(){return new f([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new S(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new S(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new S(e.from,e.to,e.gapFrom,e.gapTo,r["j"].fromJSON(t,e.slice),e.insert,!!e.structure)}}function T(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function E(t,e,n,r){let i,o,s=[],a=[];t.doc.nodesBetween(e,n,(t,l,u)=>{if(!t.isInline)return;let c=t.marks;if(!r.isInSet(c)&&u.type.allowsMarkType(r.type)){let u=Math.max(l,e),h=Math.min(l+t.nodeSize,n),p=r.addToSet(c);for(let t=0;t<c.length;t++)c[t].isInSet(p)||(i&&i.to==u&&i.mark.eq(c[t])?i.to=h:s.push(i=new w(u,h,c[t])));o&&o.to==u?o.to=h:a.push(o=new b(u,h,r))}}),s.forEach(e=>t.step(e)),a.forEach(e=>t.step(e))}function O(t,e,n,i){let o=[],s=0;t.doc.nodesBetween(e,n,(t,a)=>{if(!t.isInline)return;s++;let l=null;if(i instanceof r["e"]){let e,n=t.marks;while(e=i.isInSet(n))(l||(l=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,i=l[t];for(let t=0;t<o.length;t++){let e=o[t];e.step==s-1&&i.eq(o[t].style)&&(n=e)}n?(n.to=r,n.step=s):o.push({style:i,from:Math.max(a,e),to:r,step:s})}}}),o.forEach(e=>t.step(new w(e.from,e.to,e.style)))}function M(t,e,n,i=n.contentMatch){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let e=o.child(l),u=a+e.nodeSize,c=i.matchType(e.type);if(c){i=c;for(let r=0;r<e.marks.length;r++)n.allowsMarkType(e.marks[r].type)||t.step(new w(a,u,e.marks[r]))}else s.push(new C(a,u,r["j"].empty));a=u}if(!i.validEnd){let e=i.fillBefore(r["c"].empty,!0);t.replace(a,a,new r["j"](e,0,0))}for(let r=s.length-1;r>=0;r--)t.step(s[r])}function N(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function A(t){let e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let e=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&e.canReplace(i,o,n))return r;if(0==r||e.type.spec.isolating||!N(e,i,o))break}return null}function D(t,e,n){let{$from:i,$to:o,depth:s}=e,a=i.before(s+1),l=o.after(s+1),u=a,c=l,h=r["c"].empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.index(m)>0?(g=!0,h=r["c"].from(i.node(m).copy(h)),p++):u--;let d=r["c"].empty,f=0;for(let m=s,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,d=r["c"].from(o.node(m).copy(d)),f++):c++;t.step(new S(u,c,a,l,new r["j"](h.append(d),p,f),h.size-p,!0))}function L(t,e,n=null,r=t){let i=R(t,e),o=i&&P(r,e);return o?i.map(I).concat({type:e,attrs:n}).concat(o.map(I)):null}function I(t){return{type:t,attrs:null}}function R(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function P(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=s.length?s[s.length-1]:e,l=a.contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return l&&l.validEnd?s:null}function B(t,e,n){let i=r["c"].empty;for(let a=n.length-1;a>=0;a--){if(i.size){let t=n[a].type.contentMatch.matchFragment(i);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r["c"].from(n[a].type.create(n[a].attrs,i))}let o=e.start,s=e.end;t.step(new S(o,s,o,s,new r["j"](i,0,0),n.length,!0))}function j(t,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(e,n)=>{if(e.isTextblock&&!e.hasMarkup(i,o)&&F(t.doc,t.mapping.slice(s).map(n),i)){t.clearIncompatible(t.mapping.slice(s).map(n,1),i);let a=t.mapping.slice(s),l=a.map(n,1),u=a.map(n+e.nodeSize,1);return t.step(new S(l,u,l+1,u-1,new r["j"](r["c"].from(i.create(o,null,e.marks)),0,0),1,!0)),!1}})}function F(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function z(t,e,n,i,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(i,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new S(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new r["j"](r["c"].from(a),0,0),1,!0))}function H(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let t=i.node(u),e=i.index(u);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount),o=r&&r[c]||t;if(o!=t&&(n=n.replaceChild(0,o.type.create(o.attrs))),!t.canReplace(e+1,t.childCount)||!o.type.validContent(n))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function $(t,e,n=1,i){let o=t.doc.resolve(e),s=r["c"].empty,a=r["c"].empty;for(let l=o.depth,u=o.depth-n,c=n-1;l>u;l--,c--){s=r["c"].from(o.node(l).copy(s));let t=i&&i[c];a=r["c"].from(t?t.type.create(t.attrs,a):o.node(l).copy(a))}t.step(new C(e,e,new r["j"](s.append(a),n,n),!0))}function W(t,e){let n=t.resolve(e),r=n.index();return V(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function V(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function U(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let t,o,s=r.index(i);if(i==r.depth?(t=r.nodeBefore,o=r.nodeAfter):n>0?(t=r.node(i+1),s++,o=r.node(i).maybeChild(s)):(t=r.node(i).maybeChild(s-1),o=r.node(i+1)),t&&!t.isTextblock&&V(t,o)&&r.node(i).canReplace(s,s+1))return e;if(0==i)break;e=n<0?r.before(i):r.after(i)}}function q(t,e,n){let i=new C(e-n,e+n,r["j"].empty,!0);t.step(i)}function K(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let t=r.index(i);if(r.node(i).canReplaceWith(t,t,n))return r.before(i+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let t=r.indexAfter(i);if(r.node(i).canReplaceWith(t,t,n))return r.after(i+1);if(t<r.node(i).childCount)return null}return null}function G(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let t=r.depth;t>=0;t--){let e=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,n=r.index(t)+(e>0?1:0),s=r.node(t),a=!1;if(1==o)a=s.canReplace(n,n,i);else{let t=s.contentMatchAt(n).findWrapping(i.firstChild.type);a=t&&s.canReplaceWith(n,n,t[0])}if(a)return 0==e?r.pos:e<0?r.before(t+1):r.after(t+1)}return null}function X(t,e,n=e,i=r["j"].empty){if(e==n&&!i.size)return null;let o=t.resolve(e),s=t.resolve(n);return Y(o,s,i)?new C(e,n,i):new J(o,s,i).fit()}function Y(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}v.jsonID("replaceAround",S);class J{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r["c"].empty;for(let r=0;r<=t.depth;r++){let e=t.node(r);this.frontier.push({type:e.type,match:e.contentMatchAt(t.indexAfter(r))})}for(let i=t.depth;i>0;i--)this.placed=r["c"].from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,s=n.depth,a=i.depth;while(s&&a&&1==o.childCount)o=o.firstChild.content,s--,a--;let l=new r["j"](o,s,a);return t>-1?new S(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new C(n.pos,i.pos,l):null}findFittable(){for(let t=1;t<=2;t++)for(let e=this.unplaced.openStart;e>=0;e--){let n,i=null;e?(i=tt(this.unplaced.content,e-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let s=this.depth;s>=0;s--){let n,{type:a,match:l}=this.frontier[s],u=null;if(1==t&&(o?l.matchType(o.type)||(u=l.fillBefore(r["c"].from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:e,frontierDepth:s,parent:i,inject:u};if(2==t&&o&&(n=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:s,parent:i,wrap:n};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tt(t,e);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r["j"](t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tt(t,e);if(i.childCount<=1&&e>0){let o=t.size-e<=e+i.size;this.unplaced=new r["j"](Q(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new r["j"](Q(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:o}){while(this.depth>e)this.closeFrontierNode();if(o)for(let r=0;r<o.length;r++)this.openFrontierNode(o[r]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,u=0,c=[],{match:h,type:p}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)c.push(i.child(t));h=h.matchFragment(i)}let d=a.size+t-(s.content.size-s.openEnd);while(u<a.childCount){let t=a.child(u),e=h.matchType(t.type);if(!e)break;u++,(u>1||0==l||t.content.size)&&(h=e,c.push(et(t.mark(p.allowedMarks(t.marks)),1==u?l:0,u==a.childCount?d:-1)))}let f=u==a.childCount;f||(d=-1),this.placed=Z(this.placed,e,r["c"].from(c)),this.frontier[e].match=h,f&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let r=0,m=a;r<d;r++){let t=m.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),m=t.content}this.unplaced=f?0==t?r["j"].empty:new r["j"](Q(s.content,t-1,1),t-1,d<0?s.openEnd:t-1):new r["j"](Q(s.content,t,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!nt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=nt(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=nt(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=Z(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Z(this.placed,this.depth,r["c"].from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop(),e=t.match.fillBefore(r["c"].empty,!0);e.childCount&&(this.placed=Z(this.placed,this.frontier.length,e))}}function Q(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Q(t.firstChild.content,e-1,n)))}function Z(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Z(t.lastChild.content,e-1,n)))}function tt(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function et(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,et(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r["c"].empty,!0)))),t.copy(i)}function nt(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!rt(n,o.content,s)?a:null}function rt(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function it(t){return t.spec.defining||t.spec.definingForContent}function ot(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(Y(o,s,i))return t.step(new C(e,n,i));let a=ut(o,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let l=-(o.depth+1);a.unshift(l);for(let r=o.depth,d=o.pos-1;r>0;r--,d--){let t=o.node(r).type.spec;if(t.defining||t.definingAsContext||t.isolating)break;a.indexOf(r)>-1?l=r:o.before(r)==d&&a.splice(1,0,-r)}let u=a.indexOf(l),c=[],h=i.openStart;for(let r=i.content,d=0;;d++){let t=r.firstChild;if(c.push(t),d==i.openStart)break;r=t.content}for(let r=h-1;r>=0;r--){let t=c[r].type,e=it(t);if(e&&o.node(u).type!=t)h=r;else if(e||!t.isTextblock)break}for(let d=i.openStart;d>=0;d--){let e=(d+h+1)%(i.openStart+1),l=c[e];if(l)for(let c=0;c<a.length;c++){let h=a[(c+u)%a.length],p=!0;h<0&&(p=!1,h=-h);let d=o.node(h-1),f=o.index(h-1);if(d.canReplaceWith(f,f,l.type,l.marks))return t.replace(o.before(h),p?s.after(h):n,new r["j"](st(i.content,0,i.openStart,e),e,i.openEnd))}}let p=t.steps.length;for(let r=a.length-1;r>=0;r--){if(t.replace(e,n,i),t.steps.length>p)break;let l=a[r];l<0||(e=o.before(l),n=s.after(l))}}function st(t,e,n,i,o){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(st(r.content,e+1,n,i,r)))}if(e>i){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r["c"].empty,!0))}return t}function at(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=K(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r["j"](r["c"].from(i),0,0))}function lt(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=ut(r,i);for(let s=0;s<o.length;s++){let e=o[s],n=s==o.length-1;if(n&&0==e||r.node(e).type.contentMatch.validEnd)return t.delete(r.start(e),i.end(e));if(e>0&&(n||r.node(e-1).canReplace(r.index(e-1),i.indexAfter(e-1))))return t.delete(r.before(e),i.after(e))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function ut(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class ct extends v{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return _.fail("No node at attribute step's position");let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,null,e.marks);return _.fromReplace(t,this.pos,this.pos+1,new r["j"](r["c"].from(i),0,e.isLeaf?0:1))}getMap(){return f.empty}invert(t){return new ct(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ct(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ct(e.pos,e.attr,e.value)}}v.jsonID("attr",ct);let ht=class extends Error{};ht=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},ht.prototype=Object.create(Error.prototype),ht.prototype.constructor=ht,ht.prototype.name="TransformError";class pt{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new m}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new ht(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r["j"].empty){let i=X(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r["j"](r["c"].from(n),0,0))}delete(t,e){return this.replace(t,e,r["j"].empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return ot(this,t,e,n),this}replaceRangeWith(t,e,n){return at(this,t,e,n),this}deleteRange(t,e){return lt(this,t,e),this}lift(t,e){return D(this,t,e),this}join(t,e=1){return q(this,t,e),this}wrap(t,e){return B(this,t,e),this}setBlockType(t,e=t,n,r=null){return j(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r=[]){return z(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new ct(t,e,n)),this}addNodeMark(t,e){return this.step(new x(t,e)),this}removeNodeMark(t,e){if(!(e instanceof r["d"])){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new k(t,e)),this}split(t,e=1,n){return $(this,t,e,n),this}addMark(t,e,n){return E(this,t,e,n),this}removeMark(t,e,n){return O(this,t,e,n),this}clearIncompatible(t,e,n){return M(this,t,e,n),this}}},bcdf:function(t,e){function n(){}t.exports=n},c135:function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},c240:function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},ca17:function(t,e,n){
/*!
 * vue-treeselect v0.4.0 | (c) 2017-2019 Riophae Lee
 * Released under the MIT License.
 * https://vue-treeselect.js.org/
 */
t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=16)}([function(t,e){t.exports=n("278c")},function(t,e){t.exports=n("448a")},function(t,e){t.exports=n("9523")},function(t,e){t.exports=n("2e39")},function(t,e){t.exports=n("bcdf")},function(t,e){t.exports=n("b047")},function(t,e){t.exports=n("df0f")},function(t,e){t.exports=n("2655")},function(t,e){t.exports=n("1d92")},function(t,e){t.exports=n("cd9d")},function(t,e){t.exports=n("72f0")},function(t,e){t.exports=n("7037")},function(t,e){t.exports=n("4416")},function(t,e){t.exports=n("92fa")},function(t,e){t.exports=n("2b0e")},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=n(2),l=n.n(a),u=n(3),c=n.n(u),h=n(4),p=n.n(h),d=p.a;function f(t){return function(e){if("mousedown"===e.type&&0===e.button){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.call.apply(t,[this,e].concat(r))}}}function m(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?t.scrollTop=Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight):r.top-i<n.top&&(t.scrollTop=Math.max(e.offsetTop-i,0))}var g,v=n(5),_=n.n(v),y=n(6),b=n.n(y);function w(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var x=[],k=100;function C(){g=setInterval((function(){x.forEach(T)}),k)}function S(){clearInterval(g),g=null}function T(t){var e=t.$el,n=t.listener,r=t.lastWidth,i=t.lastHeight,o=e.offsetWidth,s=e.offsetHeight;r===o&&i===s||(t.lastWidth=o,t.lastHeight=s,n({width:o,height:s}))}function E(t,e){var n={$el:t,listener:e,lastWidth:null,lastHeight:null},r=function(){w(x,n),x.length||S()};return x.push(n),T(n),C(),r}function O(t,e){var n=9===document.documentMode,r=!0,i=function(){return r||e.apply(void 0,arguments)},o=n?E:b.a,s=o(t,i);return r=!1,s}function M(t){var e=[],n=t.parentNode;while(n&&"BODY"!==n.nodeName&&n.nodeType===document.ELEMENT_NODE)N(n)&&e.push(n),n=n.parentNode;return e.push(window),e}function N(t){var e=getComputedStyle(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)}function A(t,e){var n=M(t);return window.addEventListener("resize",e,{passive:!0}),n.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),function(){window.removeEventListener("resize",e,{passive:!0}),n.forEach((function(t){t.removeEventListener("scroll",e,{passive:!0})}))}}function D(t){return t!==t}var L=n(7),I=n.n(L),R=n(8),P=n.n(R),B=n(9),j=n.n(B),F=n(10),z=n.n(F),H=function(){return Object.create(null)},$=n(11),W=n.n($);function V(t){return null!=t&&"object"===W()(t)&&Object.getPrototypeOf(t)===Object.prototype}function U(t,e,n){V(n)?(t[e]||(t[e]={}),q(t[e],n)):t[e]=n}function q(t,e){if(V(e))for(var n=Object.keys(e),r=0,i=n.length;r<i;r++)U(t,n[r],e[n[r]]);return t}var K=n(12),G=n.n(K);function X(t,e){return-1!==t.indexOf(e)}function Y(t,e,n){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function J(t,e){if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}var Q=null,Z=0,tt=1,et=2,nt="ALL_CHILDREN",rt="ALL_DESCENDANTS",it="LEAF_CHILDREN",ot="LEAF_DESCENDANTS",st="LOAD_ROOT_OPTIONS",at="LOAD_CHILDREN_OPTIONS",lt="ASYNC_SEARCH",ut="ALL",ct="BRANCH_PRIORITY",ht="LEAF_PRIORITY",pt="ALL_WITH_INDETERMINATE",dt="ORDER_SELECTED",ft="LEVEL",mt="INDEX",gt={BACKSPACE:8,ENTER:13,ESCAPE:27,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46},vt=200,_t=5,yt=40;function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(n,!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xt(t,e){var n=0;do{if(t.level<n)return-1;if(e.level<n)return 1;if(t.index[n]!==e.index[n])return t.index[n]-e.index[n];n++}while(1)}function kt(t,e){return t.level===e.level?xt(t,e):t.level-e.level}function Ct(){return{isLoaded:!1,isLoading:!1,loadingError:""}}function St(t){return"string"===typeof t?t:"number"!==typeof t||D(t)?"":t+""}function Tt(t,e,n){return t?c()(e,n):X(n,e)}function Et(t){return t.message||String(t)}var Ot=0,Mt={provide:function(){return{instance:this}},props:{allowClearingDisabled:{type:Boolean,default:!1},allowSelectingDisabledDescendants:{type:Boolean,default:!1},alwaysOpen:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},async:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},autoLoadRootOptions:{type:Boolean,default:!0},autoDeselectAncestors:{type:Boolean,default:!1},autoDeselectDescendants:{type:Boolean,default:!1},autoSelectAncestors:{type:Boolean,default:!1},autoSelectDescendants:{type:Boolean,default:!1},backspaceRemoves:{type:Boolean,default:!0},beforeClearAll:{type:Function,default:z()(!0)},branchNodesFirst:{type:Boolean,default:!1},cacheOptions:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},clearAllText:{type:String,default:"Clear all"},clearOnSelect:{type:Boolean,default:!1},clearValueText:{type:String,default:"Clear value"},closeOnSelect:{type:Boolean,default:!0},defaultExpandLevel:{type:Number,default:0},defaultOptions:{default:!1},deleteRemoves:{type:Boolean,default:!0},delimiter:{type:String,default:","},flattenSearchResults:{type:Boolean,default:!1},disableBranchNodes:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disableFuzzyMatching:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},instanceId:{default:function(){return"".concat(Ot++,"$$")},type:[String,Number]},joinValues:{type:Boolean,default:!1},limit:{type:Number,default:1/0},limitText:{type:Function,default:function(t){return"and ".concat(t," more")}},loadingText:{type:String,default:"Loading..."},loadOptions:{type:Function},matchKeys:{type:Array,default:z()(["label"])},maxHeight:{type:Number,default:300},multiple:{type:Boolean,default:!1},name:{type:String},noChildrenText:{type:String,default:"No sub-options."},noOptionsText:{type:String,default:"No options available."},noResultsText:{type:String,default:"No results found..."},normalizer:{type:Function,default:j.a},openDirection:{type:String,default:"auto",validator:function(t){var e=["auto","top","bottom","above","below"];return X(e,t)}},openOnClick:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!1},options:{type:Array},placeholder:{type:String,default:"Select..."},required:{type:Boolean,default:!1},retryText:{type:String,default:"Retry?"},retryTitle:{type:String,default:"Click to retry"},searchable:{type:Boolean,default:!0},searchNested:{type:Boolean,default:!1},searchPromptText:{type:String,default:"Type to search..."},showCount:{type:Boolean,default:!1},showCountOf:{type:String,default:nt,validator:function(t){var e=[nt,rt,it,ot];return X(e,t)}},showCountOnSearch:null,sortValueBy:{type:String,default:dt,validator:function(t){var e=[dt,ft,mt];return X(e,t)}},tabIndex:{type:Number,default:0},value:null,valueConsistsOf:{type:String,default:ct,validator:function(t){var e=[ut,ct,ht,pt];return X(e,t)}},valueFormat:{type:String,default:"id"},zIndex:{type:[Number,String],default:999}},data:function(){return{trigger:{isFocused:!1,searchQuery:""},menu:{isOpen:!1,current:null,lastScrollPosition:0,placement:"bottom"},forest:{normalizedOptions:[],nodeMap:H(),checkedStateMap:H(),selectedNodeIds:this.extractCheckedNodeIdsFromValue(),selectedNodeMap:H()},rootOptionsStates:Ct(),localSearch:{active:!1,noResults:!0,countMap:H()},remoteSearch:H()}},computed:{selectedNodes:function(){return this.forest.selectedNodeIds.map(this.getNode)},internalValue:function(){var t,e=this;if(this.single||this.flat||this.disableBranchNodes||this.valueConsistsOf===ut)t=this.forest.selectedNodeIds.slice();else if(this.valueConsistsOf===ct)t=this.forest.selectedNodeIds.filter((function(t){var n=e.getNode(t);return!!n.isRootNode||!e.isSelected(n.parentNode)}));else if(this.valueConsistsOf===ht)t=this.forest.selectedNodeIds.filter((function(t){var n=e.getNode(t);return!!n.isLeaf||0===n.children.length}));else if(this.valueConsistsOf===pt){var n,r=[];t=this.forest.selectedNodeIds.slice(),this.selectedNodes.forEach((function(e){e.ancestors.forEach((function(e){X(r,e.id)||X(t,e.id)||r.push(e.id)}))})),(n=t).push.apply(n,r)}return this.sortValueBy===ft?t.sort((function(t,n){return kt(e.getNode(t),e.getNode(n))})):this.sortValueBy===mt&&t.sort((function(t,n){return xt(e.getNode(t),e.getNode(n))})),t},hasValue:function(){return this.internalValue.length>0},single:function(){return!this.multiple},visibleOptionIds:function(){var t=this,e=[];return this.traverseAllNodesByIndex((function(n){if(t.localSearch.active&&!t.shouldOptionBeIncludedInSearchResult(n)||e.push(n.id),n.isBranch&&!t.shouldExpand(n))return!1})),e},hasVisibleOptions:function(){return 0!==this.visibleOptionIds.length},showCountOnSearchComputed:function(){return"boolean"===typeof this.showCountOnSearch?this.showCountOnSearch:this.showCount},hasBranchNodes:function(){return this.forest.normalizedOptions.some((function(t){return t.isBranch}))},shouldFlattenOptions:function(){return this.localSearch.active&&this.flattenSearchResults}},watch:{alwaysOpen:function(t){t?this.openMenu():this.closeMenu()},branchNodesFirst:function(){this.initialize()},disabled:function(t){t&&this.menu.isOpen?this.closeMenu():t||this.menu.isOpen||!this.alwaysOpen||this.openMenu()},flat:function(){this.initialize()},internalValue:function(t,e){var n=J(t,e);n&&this.$emit("input",this.getValue(),this.getInstanceId())},matchKeys:function(){this.initialize()},multiple:function(t){t&&this.buildForestState()},options:{handler:function(){this.async||(this.initialize(),this.rootOptionsStates.isLoaded=Array.isArray(this.options))},deep:!0,immediate:!0},"trigger.searchQuery":function(){this.async?this.handleRemoteSearch():this.handleLocalSearch(),this.$emit("search-change",this.trigger.searchQuery,this.getInstanceId())},value:function(){var t=this.extractCheckedNodeIdsFromValue(),e=J(t,this.internalValue);e&&this.fixSelectedNodeIds(t)}},methods:{verifyProps:function(){var t=this;if(d((function(){return!t.async||t.searchable}),(function(){return'For async search mode, the value of "searchable" prop must be true.'})),null!=this.options||this.loadOptions||d((function(){return!1}),(function(){return'Are you meant to dynamically load options? You need to use "loadOptions" prop.'})),this.flat&&d((function(){return t.multiple}),(function(){return'You are using flat mode. But you forgot to add "multiple=true"?'})),!this.flat){var e=["autoSelectAncestors","autoSelectDescendants","autoDeselectAncestors","autoDeselectDescendants"];e.forEach((function(e){d((function(){return!t[e]}),(function(){return'"'.concat(e,'" only applies to flat mode.')}))}))}},resetFlags:function(){this._blurOnSelect=!1},initialize:function(){var t=this.async?this.getRemoteSearchEntry().options:this.options;if(Array.isArray(t)){var e=this.forest.nodeMap;this.forest.nodeMap=H(),this.keepDataOfSelectedNodes(e),this.forest.normalizedOptions=this.normalize(Q,t,e),this.fixSelectedNodeIds(this.internalValue)}else this.forest.normalizedOptions=[]},getInstanceId:function(){return null==this.instanceId?this.id:this.instanceId},getValue:function(){var t=this;if("id"===this.valueFormat)return this.multiple?this.internalValue.slice():this.internalValue[0];var e=this.internalValue.map((function(e){return t.getNode(e).raw}));return this.multiple?e:e[0]},getNode:function(t){return d((function(){return null!=t}),(function(){return"Invalid node id: ".concat(t)})),null==t?null:t in this.forest.nodeMap?this.forest.nodeMap[t]:this.createFallbackNode(t)},createFallbackNode:function(t){var e=this.extractNodeFromValue(t),n=this.enhancedNormalizer(e).label||"".concat(t," (unknown)"),r={id:t,label:n,ancestors:[],parentNode:Q,isFallbackNode:!0,isRootNode:!0,isLeaf:!0,isBranch:!1,isDisabled:!1,isNew:!1,index:[-1],level:0,raw:e};return this.$set(this.forest.nodeMap,t,r)},extractCheckedNodeIdsFromValue:function(){var t=this;return null==this.value?[]:"id"===this.valueFormat?this.multiple?this.value.slice():[this.value]:(this.multiple?this.value:[this.value]).map((function(e){return t.enhancedNormalizer(e)})).map((function(t){return t.id}))},extractNodeFromValue:function(t){var e=this,n={id:t};if("id"===this.valueFormat)return n;var r=this.multiple?Array.isArray(this.value)?this.value:[]:this.value?[this.value]:[],i=Y(r,(function(n){return n&&e.enhancedNormalizer(n).id===t}));return i||n},fixSelectedNodeIds:function(t){var e=this,n=[];if(this.single||this.flat||this.disableBranchNodes||this.valueConsistsOf===ut)n=t;else if(this.valueConsistsOf===ct)t.forEach((function(t){n.push(t);var r=e.getNode(t);r.isBranch&&e.traverseDescendantsBFS(r,(function(t){n.push(t.id)}))}));else if(this.valueConsistsOf===ht){var r=H(),i=t.slice();while(i.length){var o=i.shift(),s=this.getNode(o);n.push(o),s.isRootNode||(s.parentNode.id in r||(r[s.parentNode.id]=s.parentNode.children.length),0===--r[s.parentNode.id]&&i.push(s.parentNode.id))}}else if(this.valueConsistsOf===pt){var a=H(),l=t.filter((function(t){var n=e.getNode(t);return n.isLeaf||0===n.children.length}));while(l.length){var u=l.shift(),c=this.getNode(u);n.push(u),c.isRootNode||(c.parentNode.id in a||(a[c.parentNode.id]=c.parentNode.children.length),0===--a[c.parentNode.id]&&l.push(c.parentNode.id))}}var h=J(this.forest.selectedNodeIds,n);h&&(this.forest.selectedNodeIds=n),this.buildForestState()},keepDataOfSelectedNodes:function(t){var e=this;this.forest.selectedNodeIds.forEach((function(n){if(t[n]){var r=wt({},t[n],{isFallbackNode:!0});e.$set(e.forest.nodeMap,n,r)}}))},isSelected:function(t){return!0===this.forest.selectedNodeMap[t.id]},traverseDescendantsBFS:function(t,e){if(t.isBranch){var n=t.children.slice();while(n.length){var r=n[0];r.isBranch&&n.push.apply(n,s()(r.children)),e(r),n.shift()}}},traverseDescendantsDFS:function(t,e){var n=this;t.isBranch&&t.children.forEach((function(t){n.traverseDescendantsDFS(t,e),e(t)}))},traverseAllNodesDFS:function(t){var e=this;this.forest.normalizedOptions.forEach((function(n){e.traverseDescendantsDFS(n,t),t(n)}))},traverseAllNodesByIndex:function(t){var e=function e(n){n.children.forEach((function(n){!1!==t(n)&&n.isBranch&&e(n)}))};e({children:this.forest.normalizedOptions})},toggleClickOutsideEvent:function(t){t?document.addEventListener("mousedown",this.handleClickOutside,!1):document.removeEventListener("mousedown",this.handleClickOutside,!1)},getValueContainer:function(){return this.$refs.control.$refs["value-container"]},getInput:function(){return this.getValueContainer().$refs.input},focusInput:function(){this.getInput().focus()},blurInput:function(){this.getInput().blur()},handleMouseDown:f((function(t){if(t.preventDefault(),t.stopPropagation(),!this.disabled){var e=this.getValueContainer().$el.contains(t.target);e&&!this.menu.isOpen&&(this.openOnClick||this.trigger.isFocused)&&this.openMenu(),this._blurOnSelect?this.blurInput():this.focusInput(),this.resetFlags()}})),handleClickOutside:function(t){this.$refs.wrapper&&!this.$refs.wrapper.contains(t.target)&&(this.blurInput(),this.closeMenu())},handleLocalSearch:function(){var t=this,e=this.trigger.searchQuery,n=function(){return t.resetHighlightedOptionWhenNecessary(!0)};if(!e)return this.localSearch.active=!1,n();this.localSearch.active=!0,this.localSearch.noResults=!0,this.traverseAllNodesDFS((function(e){var n;e.isBranch&&(e.isExpandedOnSearch=!1,e.showAllChildrenOnSearch=!1,e.isMatched=!1,e.hasMatchedDescendants=!1,t.$set(t.localSearch.countMap,e.id,(n={},l()(n,nt,0),l()(n,rt,0),l()(n,it,0),l()(n,ot,0),n)))}));var r=e.trim().toLocaleLowerCase(),i=r.replace(/\s+/g," ").split(" ");this.traverseAllNodesDFS((function(e){t.searchNested&&i.length>1?e.isMatched=i.every((function(t){return Tt(!1,t,e.nestedSearchLabel)})):e.isMatched=t.matchKeys.some((function(n){return Tt(!t.disableFuzzyMatching,r,e.lowerCased[n])})),e.isMatched&&(t.localSearch.noResults=!1,e.ancestors.forEach((function(e){return t.localSearch.countMap[e.id][rt]++})),e.isLeaf&&e.ancestors.forEach((function(e){return t.localSearch.countMap[e.id][ot]++})),e.parentNode!==Q&&(t.localSearch.countMap[e.parentNode.id][nt]+=1,e.isLeaf&&(t.localSearch.countMap[e.parentNode.id][it]+=1))),(e.isMatched||e.isBranch&&e.isExpandedOnSearch)&&e.parentNode!==Q&&(e.parentNode.isExpandedOnSearch=!0,e.parentNode.hasMatchedDescendants=!0)})),n()},handleRemoteSearch:function(){var t=this,e=this.trigger.searchQuery,n=this.getRemoteSearchEntry(),r=function(){t.initialize(),t.resetHighlightedOptionWhenNecessary(!0)};if((""===e||this.cacheOptions)&&n.isLoaded)return r();this.callLoadOptionsProp({action:lt,args:{searchQuery:e},isPending:function(){return n.isLoading},start:function(){n.isLoading=!0,n.isLoaded=!1,n.loadingError=""},succeed:function(i){n.isLoaded=!0,n.options=i,t.trigger.searchQuery===e&&r()},fail:function(t){n.loadingError=Et(t)},end:function(){n.isLoading=!1}})},getRemoteSearchEntry:function(){var t=this,e=this.trigger.searchQuery,n=this.remoteSearch[e]||wt({},Ct(),{options:[]});if(this.$watch((function(){return n.options}),(function(){t.trigger.searchQuery===e&&t.initialize()}),{deep:!0}),""===e){if(Array.isArray(this.defaultOptions))return n.options=this.defaultOptions,n.isLoaded=!0,n;if(!0!==this.defaultOptions)return n.isLoaded=!0,n}return this.remoteSearch[e]||this.$set(this.remoteSearch,e,n),n},shouldExpand:function(t){return this.localSearch.active?t.isExpandedOnSearch:t.isExpanded},shouldOptionBeIncludedInSearchResult:function(t){return!!t.isMatched||(!(!t.isBranch||!t.hasMatchedDescendants||this.flattenSearchResults)||!(t.isRootNode||!t.parentNode.showAllChildrenOnSearch))},shouldShowOptionInMenu:function(t){return!(this.localSearch.active&&!this.shouldOptionBeIncludedInSearchResult(t))},getControl:function(){return this.$refs.control.$el},getMenu:function(){var t=this.appendToBody?this.$refs.portal.portalTarget:this,e=t.$refs.menu.$refs.menu;return e&&"#comment"!==e.nodeName?e:null},setCurrentHighlightedOption:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.menu.current;if(null!=r&&r in this.forest.nodeMap&&(this.forest.nodeMap[r].isHighlighted=!1),this.menu.current=t.id,t.isHighlighted=!0,this.menu.isOpen&&n){var i=function(){var n=e.getMenu(),r=n.querySelector('.vue-treeselect__option[data-id="'.concat(t.id,'"]'));r&&m(n,r)};this.getMenu()?i():this.$nextTick(i)}},resetHighlightedOptionWhenNecessary:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.menu.current;!t&&null!=e&&e in this.forest.nodeMap&&this.shouldShowOptionInMenu(this.getNode(e))||this.highlightFirstOption()},highlightFirstOption:function(){if(this.hasVisibleOptions){var t=this.visibleOptionIds[0];this.setCurrentHighlightedOption(this.getNode(t))}},highlightPrevOption:function(){if(this.hasVisibleOptions){var t=this.visibleOptionIds.indexOf(this.menu.current)-1;if(-1===t)return this.highlightLastOption();this.setCurrentHighlightedOption(this.getNode(this.visibleOptionIds[t]))}},highlightNextOption:function(){if(this.hasVisibleOptions){var t=this.visibleOptionIds.indexOf(this.menu.current)+1;if(t===this.visibleOptionIds.length)return this.highlightFirstOption();this.setCurrentHighlightedOption(this.getNode(this.visibleOptionIds[t]))}},highlightLastOption:function(){if(this.hasVisibleOptions){var t=G()(this.visibleOptionIds);this.setCurrentHighlightedOption(this.getNode(t))}},resetSearchQuery:function(){this.trigger.searchQuery=""},closeMenu:function(){!this.menu.isOpen||!this.disabled&&this.alwaysOpen||(this.saveMenuScrollPosition(),this.menu.isOpen=!1,this.toggleClickOutsideEvent(!1),this.resetSearchQuery(),this.$emit("close",this.getValue(),this.getInstanceId()))},openMenu:function(){this.disabled||this.menu.isOpen||(this.menu.isOpen=!0,this.$nextTick(this.resetHighlightedOptionWhenNecessary),this.$nextTick(this.restoreMenuScrollPosition),this.options||this.async||this.loadRootOptions(),this.toggleClickOutsideEvent(!0),this.$emit("open",this.getInstanceId()))},toggleMenu:function(){this.menu.isOpen?this.closeMenu():this.openMenu()},toggleExpanded:function(t){var e;this.localSearch.active?(e=t.isExpandedOnSearch=!t.isExpandedOnSearch,e&&(t.showAllChildrenOnSearch=!0)):e=t.isExpanded=!t.isExpanded,e&&!t.childrenStates.isLoaded&&this.loadChildrenOptions(t)},buildForestState:function(){var t=this,e=H();this.forest.selectedNodeIds.forEach((function(t){e[t]=!0})),this.forest.selectedNodeMap=e;var n=H();this.multiple&&(this.traverseAllNodesByIndex((function(t){n[t.id]=Z})),this.selectedNodes.forEach((function(e){n[e.id]=et,t.flat||t.disableBranchNodes||e.ancestors.forEach((function(e){t.isSelected(e)||(n[e.id]=tt)}))}))),this.forest.checkedStateMap=n},enhancedNormalizer:function(t){return wt({},t,{},this.normalizer(t,this.getInstanceId()))},normalize:function(t,e,n){var r=this,o=e.map((function(t){return[r.enhancedNormalizer(t),t]})).map((function(e,o){var s=i()(e,2),a=s[0],u=s[1];r.checkDuplication(a),r.verifyNodeShape(a);var c=a.id,h=a.label,p=a.children,f=a.isDefaultExpanded,m=t===Q,g=m?0:t.level+1,v=Array.isArray(p)||null===p,_=!v,y=!!a.isDisabled||!r.flat&&!m&&t.isDisabled,b=!!a.isNew,w=r.matchKeys.reduce((function(t,e){return wt({},t,l()({},e,St(a[e]).toLocaleLowerCase()))}),{}),x=m?w.label:t.nestedSearchLabel+" "+w.label,k=r.$set(r.forest.nodeMap,c,H());if(r.$set(k,"id",c),r.$set(k,"label",h),r.$set(k,"level",g),r.$set(k,"ancestors",m?[]:[t].concat(t.ancestors)),r.$set(k,"index",(m?[]:t.index).concat(o)),r.$set(k,"parentNode",t),r.$set(k,"lowerCased",w),r.$set(k,"nestedSearchLabel",x),r.$set(k,"isDisabled",y),r.$set(k,"isNew",b),r.$set(k,"isMatched",!1),r.$set(k,"isHighlighted",!1),r.$set(k,"isBranch",v),r.$set(k,"isLeaf",_),r.$set(k,"isRootNode",m),r.$set(k,"raw",u),v){var C,S=Array.isArray(p);r.$set(k,"childrenStates",wt({},Ct(),{isLoaded:S})),r.$set(k,"isExpanded","boolean"===typeof f?f:g<r.defaultExpandLevel),r.$set(k,"hasMatchedDescendants",!1),r.$set(k,"hasDisabledDescendants",!1),r.$set(k,"isExpandedOnSearch",!1),r.$set(k,"showAllChildrenOnSearch",!1),r.$set(k,"count",(C={},l()(C,nt,0),l()(C,rt,0),l()(C,it,0),l()(C,ot,0),C)),r.$set(k,"children",S?r.normalize(k,p,n):[]),!0===f&&k.ancestors.forEach((function(t){t.isExpanded=!0})),S||"function"===typeof r.loadOptions?!S&&k.isExpanded&&r.loadChildrenOptions(k):d((function(){return!1}),(function(){return'Unloaded branch node detected. "loadOptions" prop is required to load its children.'}))}if(k.ancestors.forEach((function(t){return t.count[rt]++})),_&&k.ancestors.forEach((function(t){return t.count[ot]++})),m||(t.count[nt]+=1,_&&(t.count[it]+=1),y&&(t.hasDisabledDescendants=!0)),n&&n[c]){var T=n[c];k.isMatched=T.isMatched,k.showAllChildrenOnSearch=T.showAllChildrenOnSearch,k.isHighlighted=T.isHighlighted,T.isBranch&&k.isBranch&&(k.isExpanded=T.isExpanded,k.isExpandedOnSearch=T.isExpandedOnSearch,T.childrenStates.isLoaded&&!k.childrenStates.isLoaded?k.isExpanded=!1:k.childrenStates=wt({},T.childrenStates))}return k}));if(this.branchNodesFirst){var s=o.filter((function(t){return t.isBranch})),a=o.filter((function(t){return t.isLeaf}));o=s.concat(a)}return o},loadRootOptions:function(){var t=this;this.callLoadOptionsProp({action:st,isPending:function(){return t.rootOptionsStates.isLoading},start:function(){t.rootOptionsStates.isLoading=!0,t.rootOptionsStates.loadingError=""},succeed:function(){t.rootOptionsStates.isLoaded=!0,t.$nextTick((function(){t.resetHighlightedOptionWhenNecessary(!0)}))},fail:function(e){t.rootOptionsStates.loadingError=Et(e)},end:function(){t.rootOptionsStates.isLoading=!1}})},loadChildrenOptions:function(t){var e=this,n=t.id,r=t.raw;this.callLoadOptionsProp({action:at,args:{parentNode:r},isPending:function(){return e.getNode(n).childrenStates.isLoading},start:function(){e.getNode(n).childrenStates.isLoading=!0,e.getNode(n).childrenStates.loadingError=""},succeed:function(){e.getNode(n).childrenStates.isLoaded=!0},fail:function(t){e.getNode(n).childrenStates.loadingError=Et(t)},end:function(){e.getNode(n).childrenStates.isLoading=!1}})},callLoadOptionsProp:function(t){var e=t.action,n=t.args,r=t.isPending,i=t.start,o=t.succeed,s=t.fail,a=t.end;if(this.loadOptions&&!r()){i();var l=P()((function(t,e){t?s(t):o(e),a()})),u=this.loadOptions(wt({id:this.getInstanceId(),instanceId:this.getInstanceId(),action:e},n,{callback:l}));I()(u)&&u.then((function(){l()}),(function(t){l(t)})).catch((function(t){console.error(t)}))}},checkDuplication:function(t){var e=this;d((function(){return!(t.id in e.forest.nodeMap&&!e.forest.nodeMap[t.id].isFallbackNode)}),(function(){return"Detected duplicate presence of node id ".concat(JSON.stringify(t.id),". ")+'Their labels are "'.concat(e.forest.nodeMap[t.id].label,'" and "').concat(t.label,'" respectively.')}))},verifyNodeShape:function(t){d((function(){return!(void 0===t.children&&!0===t.isBranch)}),(function(){return"Are you meant to declare an unloaded branch node? `isBranch: true` is no longer supported, please use `children: null` instead."}))},select:function(t){if(!this.disabled&&!t.isDisabled){this.single&&this.clear();var e=this.multiple&&!this.flat?this.forest.checkedStateMap[t.id]===Z:!this.isSelected(t);e?this._selectNode(t):this._deselectNode(t),this.buildForestState(),e?this.$emit("select",t.raw,this.getInstanceId()):this.$emit("deselect",t.raw,this.getInstanceId()),this.localSearch.active&&e&&(this.single||this.clearOnSelect)&&this.resetSearchQuery(),this.single&&this.closeOnSelect&&(this.closeMenu(),this.searchable&&(this._blurOnSelect=!0))}},clear:function(){var t=this;this.hasValue&&(this.single||this.allowClearingDisabled?this.forest.selectedNodeIds=[]:this.forest.selectedNodeIds=this.forest.selectedNodeIds.filter((function(e){return t.getNode(e).isDisabled})),this.buildForestState())},_selectNode:function(t){var e=this;if(this.single||this.disableBranchNodes)return this.addValue(t);if(this.flat)return this.addValue(t),void(this.autoSelectAncestors?t.ancestors.forEach((function(t){e.isSelected(t)||t.isDisabled||e.addValue(t)})):this.autoSelectDescendants&&this.traverseDescendantsBFS(t,(function(t){e.isSelected(t)||t.isDisabled||e.addValue(t)})));var n=t.isLeaf||!t.hasDisabledDescendants||this.allowSelectingDisabledDescendants;if(n&&this.addValue(t),t.isBranch&&this.traverseDescendantsBFS(t,(function(t){t.isDisabled&&!e.allowSelectingDisabledDescendants||e.addValue(t)})),n){var r=t;while((r=r.parentNode)!==Q){if(!r.children.every(this.isSelected))break;this.addValue(r)}}},_deselectNode:function(t){var e=this;if(this.disableBranchNodes)return this.removeValue(t);if(this.flat)return this.removeValue(t),void(this.autoDeselectAncestors?t.ancestors.forEach((function(t){e.isSelected(t)&&!t.isDisabled&&e.removeValue(t)})):this.autoDeselectDescendants&&this.traverseDescendantsBFS(t,(function(t){e.isSelected(t)&&!t.isDisabled&&e.removeValue(t)})));var n=!1;if(t.isBranch&&this.traverseDescendantsDFS(t,(function(t){t.isDisabled&&!e.allowSelectingDisabledDescendants||(e.removeValue(t),n=!0)})),t.isLeaf||n||0===t.children.length){this.removeValue(t);var r=t;while((r=r.parentNode)!==Q){if(!this.isSelected(r))break;this.removeValue(r)}}},addValue:function(t){this.forest.selectedNodeIds.push(t.id),this.forest.selectedNodeMap[t.id]=!0},removeValue:function(t){w(this.forest.selectedNodeIds,t.id),delete this.forest.selectedNodeMap[t.id]},removeLastValue:function(){if(this.hasValue){if(this.single)return this.clear();var t=G()(this.internalValue),e=this.getNode(t);this.select(e)}},saveMenuScrollPosition:function(){var t=this.getMenu();t&&(this.menu.lastScrollPosition=t.scrollTop)},restoreMenuScrollPosition:function(){var t=this.getMenu();t&&(t.scrollTop=this.menu.lastScrollPosition)}},created:function(){this.verifyProps(),this.resetFlags()},mounted:function(){this.autoFocus&&this.focusInput(),this.options||this.async||!this.autoLoadRootOptions||this.loadRootOptions(),this.alwaysOpen&&this.openMenu(),this.async&&this.defaultOptions&&this.handleRemoteSearch()},destroyed:function(){this.toggleClickOutsideEvent(!1)}};function Nt(t){return"string"===typeof t?t:null==t||D(t)?"":JSON.stringify(t)}var At,Dt,Lt={name:"vue-treeselect--hidden-fields",inject:["instance"],functional:!0,render:function(t,e){var n=arguments[0],r=e.injections.instance;if(!r.name||r.disabled||!r.hasValue)return null;var i=r.internalValue.map(Nt);return r.multiple&&r.joinValues&&(i=[i.join(r.delimiter)]),i.map((function(t,e){return n("input",{attrs:{type:"hidden",name:r.name},domProps:{value:t},key:"hidden-field-"+e})}))}},It=Lt;function Rt(t,e,n,r,i,o,s,a){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}var Pt=Rt(It,At,Dt,!1,null,null,null);Pt.options.__file="src/components/HiddenFields.vue";var Bt,jt,Ft=Pt.exports,zt=n(13),Ht=n.n(zt),$t=[gt.ENTER,gt.END,gt.HOME,gt.ARROW_LEFT,gt.ARROW_UP,gt.ARROW_RIGHT,gt.ARROW_DOWN],Wt={name:"vue-treeselect--input",inject:["instance"],data:function(){return{inputWidth:_t,value:""}},computed:{needAutoSize:function(){var t=this.instance;return t.searchable&&!t.disabled&&t.multiple},inputStyle:function(){return{width:this.needAutoSize?"".concat(this.inputWidth,"px"):null}}},watch:{"instance.trigger.searchQuery":function(t){this.value=t},value:function(){this.needAutoSize&&this.$nextTick(this.updateInputWidth)}},created:function(){this.debouncedCallback=_()(this.updateSearchQuery,vt,{leading:!0,trailing:!0})},methods:{clear:function(){this.onInput({target:{value:""}})},focus:function(){var t=this.instance;t.disabled||this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},onFocus:function(){var t=this.instance;t.trigger.isFocused=!0,t.openOnFocus&&t.openMenu()},onBlur:function(){var t=this.instance,e=t.getMenu();if(e&&document.activeElement===e)return this.focus();t.trigger.isFocused=!1,t.closeMenu()},onInput:function(t){var e=t.target.value;this.value=e,e?this.debouncedCallback():(this.debouncedCallback.cancel(),this.updateSearchQuery())},onKeyDown:function(t){var e=this.instance,n="which"in t?t.which:t.keyCode;if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)){if(!e.menu.isOpen&&X($t,n))return t.preventDefault(),e.openMenu();switch(n){case gt.BACKSPACE:e.backspaceRemoves&&!this.value.length&&e.removeLastValue();break;case gt.ENTER:if(t.preventDefault(),null===e.menu.current)return;var r=e.getNode(e.menu.current);if(r.isBranch&&e.disableBranchNodes)return;e.select(r);break;case gt.ESCAPE:this.value.length?this.clear():e.menu.isOpen&&e.closeMenu();break;case gt.END:t.preventDefault(),e.highlightLastOption();break;case gt.HOME:t.preventDefault(),e.highlightFirstOption();break;case gt.ARROW_LEFT:var i=e.getNode(e.menu.current);i.isBranch&&e.shouldExpand(i)?(t.preventDefault(),e.toggleExpanded(i)):!i.isRootNode&&(i.isLeaf||i.isBranch&&!e.shouldExpand(i))&&(t.preventDefault(),e.setCurrentHighlightedOption(i.parentNode));break;case gt.ARROW_UP:t.preventDefault(),e.highlightPrevOption();break;case gt.ARROW_RIGHT:var o=e.getNode(e.menu.current);o.isBranch&&!e.shouldExpand(o)&&(t.preventDefault(),e.toggleExpanded(o));break;case gt.ARROW_DOWN:t.preventDefault(),e.highlightNextOption();break;case gt.DELETE:e.deleteRemoves&&!this.value.length&&e.removeLastValue();break;default:e.openMenu()}}},onMouseDown:function(t){this.value.length&&t.stopPropagation()},renderInputContainer:function(){var t=this.$createElement,e=this.instance,n={},r=[];return e.searchable&&!e.disabled&&(r.push(this.renderInput()),this.needAutoSize&&r.push(this.renderSizer())),e.searchable||q(n,{on:{focus:this.onFocus,blur:this.onBlur,keydown:this.onKeyDown},ref:"input"}),e.searchable||e.disabled||q(n,{attrs:{tabIndex:e.tabIndex}}),t("div",Ht()([{class:"vue-treeselect__input-container"},n]),[r])},renderInput:function(){var t=this.$createElement,e=this.instance;return t("input",{ref:"input",class:"vue-treeselect__input",attrs:{type:"text",autocomplete:"off",tabIndex:e.tabIndex,required:e.required&&!e.hasValue},domProps:{value:this.value},style:this.inputStyle,on:{focus:this.onFocus,input:this.onInput,blur:this.onBlur,keydown:this.onKeyDown,mousedown:this.onMouseDown}})},renderSizer:function(){var t=this.$createElement;return t("div",{ref:"sizer",class:"vue-treeselect__sizer"},[this.value])},updateInputWidth:function(){this.inputWidth=Math.max(_t,this.$refs.sizer.scrollWidth+15)},updateSearchQuery:function(){var t=this.instance;t.trigger.searchQuery=this.value}},render:function(){return this.renderInputContainer()}},Vt=Wt,Ut=Rt(Vt,Bt,jt,!1,null,null,null);Ut.options.__file="src/components/Input.vue";var qt,Kt,Gt=Ut.exports,Xt={name:"vue-treeselect--placeholder",inject:["instance"],render:function(){var t=arguments[0],e=this.instance,n={"vue-treeselect__placeholder":!0,"vue-treeselect-helper-zoom-effect-off":!0,"vue-treeselect-helper-hide":e.hasValue||e.trigger.searchQuery};return t("div",{class:n},[e.placeholder])}},Yt=Xt,Jt=Rt(Yt,qt,Kt,!1,null,null,null);Jt.options.__file="src/components/Placeholder.vue";var Qt,Zt,te=Jt.exports,ee={name:"vue-treeselect--single-value",inject:["instance"],methods:{renderSingleValueLabel:function(){var t=this.instance,e=t.selectedNodes[0],n=t.$scopedSlots["value-label"];return n?n({node:e}):e.label}},render:function(){var t=arguments[0],e=this.instance,n=this.$parent.renderValueContainer,r=e.hasValue&&!e.trigger.searchQuery;return n([r&&t("div",{class:"vue-treeselect__single-value"},[this.renderSingleValueLabel()]),t(te),t(Gt,{ref:"input"})])}},ne=ee,re=Rt(ne,Qt,Zt,!1,null,null,null);re.options.__file="src/components/SingleValue.vue";var ie=re.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 348.333 348.333"}},[n("path",{attrs:{d:"M336.559 68.611L231.016 174.165l105.543 105.549c15.699 15.705 15.699 41.145 0 56.85-7.844 7.844-18.128 11.769-28.407 11.769-10.296 0-20.581-3.919-28.419-11.769L174.167 231.003 68.609 336.563c-7.843 7.844-18.128 11.769-28.416 11.769-10.285 0-20.563-3.919-28.413-11.769-15.699-15.698-15.699-41.139 0-56.85l105.54-105.549L11.774 68.611c-15.699-15.699-15.699-41.145 0-56.844 15.696-15.687 41.127-15.687 56.829 0l105.563 105.554L279.721 11.767c15.705-15.687 41.139-15.687 56.832 0 15.705 15.699 15.705 41.145.006 56.844z"}})])},se=[];oe._withStripped=!0;var ae={name:"vue-treeselect--x"},le=ae,ue=Rt(le,oe,se,!1,null,null,null);ue.options.__file="src/components/icons/Delete.vue";var ce,he,pe=ue.exports,de={name:"vue-treeselect--multi-value-item",inject:["instance"],props:{node:{type:Object,required:!0}},methods:{handleMouseDown:f((function(){var t=this.instance,e=this.node;t.select(e)}))},render:function(){var t=arguments[0],e=this.instance,n=this.node,r={"vue-treeselect__multi-value-item":!0,"vue-treeselect__multi-value-item-disabled":n.isDisabled,"vue-treeselect__multi-value-item-new":n.isNew},i=e.$scopedSlots["value-label"],o=i?i({node:n}):n.label;return t("div",{class:"vue-treeselect__multi-value-item-container"},[t("div",{class:r,on:{mousedown:this.handleMouseDown}},[t("span",{class:"vue-treeselect__multi-value-label"},[o]),t("span",{class:"vue-treeselect__icon vue-treeselect__value-remove"},[t(pe)])])])}},fe=de,me=Rt(fe,ce,he,!1,null,null,null);me.options.__file="src/components/MultiValueItem.vue";var ge,ve,_e=me.exports,ye={name:"vue-treeselect--multi-value",inject:["instance"],methods:{renderMultiValueItems:function(){var t=this.$createElement,e=this.instance;return e.internalValue.slice(0,e.limit).map(e.getNode).map((function(e){return t(_e,{key:"multi-value-item-".concat(e.id),attrs:{node:e}})}))},renderExceedLimitTip:function(){var t=this.$createElement,e=this.instance,n=e.internalValue.length-e.limit;return n<=0?null:t("div",{class:"vue-treeselect__limit-tip vue-treeselect-helper-zoom-effect-off",key:"exceed-limit-tip"},[t("span",{class:"vue-treeselect__limit-tip-text"},[e.limitText(n)])])}},render:function(){var t=arguments[0],e=this.$parent.renderValueContainer,n={props:{tag:"div",name:"vue-treeselect__multi-value-item--transition",appear:!0}};return e(t("transition-group",Ht()([{class:"vue-treeselect__multi-value"},n]),[this.renderMultiValueItems(),this.renderExceedLimitTip(),t(te,{key:"placeholder"}),t(Gt,{ref:"input",key:"input"})]))}},be=ye,we=Rt(be,ge,ve,!1,null,null,null);we.options.__file="src/components/MultiValue.vue";var xe=we.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 292.362 292.362"}},[n("path",{attrs:{d:"M286.935 69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952 0-9.233 1.807-12.85 5.424C1.807 72.998 0 77.279 0 82.228c0 4.948 1.807 9.229 5.424 12.847l127.907 127.907c3.621 3.617 7.902 5.428 12.85 5.428s9.233-1.811 12.847-5.428L286.935 95.074c3.613-3.617 5.427-7.898 5.427-12.847 0-4.948-1.814-9.229-5.427-12.85z"}})])},Ce=[];ke._withStripped=!0;var Se={name:"vue-treeselect--arrow"},Te=Se,Ee=Rt(Te,ke,Ce,!1,null,null,null);Ee.options.__file="src/components/icons/Arrow.vue";var Oe,Me,Ne=Ee.exports,Ae={name:"vue-treeselect--control",inject:["instance"],computed:{shouldShowX:function(){var t=this.instance;return t.clearable&&!t.disabled&&t.hasValue&&(this.hasUndisabledValue||t.allowClearingDisabled)},shouldShowArrow:function(){var t=this.instance;return!t.alwaysOpen||!t.menu.isOpen},hasUndisabledValue:function(){var t=this.instance;return t.hasValue&&t.internalValue.some((function(e){return!t.getNode(e).isDisabled}))}},methods:{renderX:function(){var t=this.$createElement,e=this.instance,n=e.multiple?e.clearAllText:e.clearValueText;return this.shouldShowX?t("div",{class:"vue-treeselect__x-container",attrs:{title:n},on:{mousedown:this.handleMouseDownOnX}},[t(pe,{class:"vue-treeselect__x"})]):null},renderArrow:function(){var t=this.$createElement,e=this.instance,n={"vue-treeselect__control-arrow":!0,"vue-treeselect__control-arrow--rotated":e.menu.isOpen};return this.shouldShowArrow?t("div",{class:"vue-treeselect__control-arrow-container",on:{mousedown:this.handleMouseDownOnArrow}},[t(Ne,{class:n})]):null},handleMouseDownOnX:f((function(t){t.stopPropagation(),t.preventDefault();var e=this.instance,n=e.beforeClearAll(),r=function(t){t&&e.clear()};I()(n)?n.then(r):setTimeout((function(){return r(n)}),0)})),handleMouseDownOnArrow:f((function(t){t.preventDefault(),t.stopPropagation();var e=this.instance;e.focusInput(),e.toggleMenu()})),renderValueContainer:function(t){var e=this.$createElement;return e("div",{class:"vue-treeselect__value-container"},[t])}},render:function(){var t=arguments[0],e=this.instance,n=e.single?ie:xe;return t("div",{class:"vue-treeselect__control",on:{mousedown:e.handleMouseDown}},[t(n,{ref:"value-container"}),this.renderX(),this.renderArrow()])}},De=Ae,Le=Rt(De,Oe,Me,!1,null,null,null);Le.options.__file="src/components/Control.vue";var Ie,Re,Pe=Le.exports,Be={name:"vue-treeselect--tip",functional:!0,props:{type:{type:String,required:!0},icon:{type:String,required:!0}},render:function(t,e){var n=arguments[0],r=e.props,i=e.children;return n("div",{class:"vue-treeselect__tip vue-treeselect__".concat(r.type,"-tip")},[n("div",{class:"vue-treeselect__icon-container"},[n("span",{class:"vue-treeselect__icon-".concat(r.icon)})]),n("span",{class:"vue-treeselect__tip-text vue-treeselect__".concat(r.type,"-tip-text")},[i])])}},je=Be,Fe=Rt(je,Ie,Re,!1,null,null,null);Fe.options.__file="src/components/Tip.vue";var ze,He,$e,We,Ve,Ue=Fe.exports,qe={name:"vue-treeselect--option",inject:["instance"],props:{node:{type:Object,required:!0}},computed:{shouldExpand:function(){var t=this.instance,e=this.node;return e.isBranch&&t.shouldExpand(e)},shouldShow:function(){var t=this.instance,e=this.node;return t.shouldShowOptionInMenu(e)}},methods:{renderOption:function(){var t=this.$createElement,e=this.instance,n=this.node,r={"vue-treeselect__option":!0,"vue-treeselect__option--disabled":n.isDisabled,"vue-treeselect__option--selected":e.isSelected(n),"vue-treeselect__option--highlight":n.isHighlighted,"vue-treeselect__option--matched":e.localSearch.active&&n.isMatched,"vue-treeselect__option--hide":!this.shouldShow};return t("div",{class:r,on:{mouseenter:this.handleMouseEnterOption},attrs:{"data-id":n.id}},[this.renderArrow(),this.renderLabelContainer([this.renderCheckboxContainer([this.renderCheckbox()]),this.renderLabel()])])},renderSubOptionsList:function(){var t=this.$createElement;return this.shouldExpand?t("div",{class:"vue-treeselect__list"},[this.renderSubOptions(),this.renderNoChildrenTip(),this.renderLoadingChildrenTip(),this.renderLoadingChildrenErrorTip()]):null},renderArrow:function(){var t=this.$createElement,e=this.instance,n=this.node;if(e.shouldFlattenOptions&&this.shouldShow)return null;if(n.isBranch){var r={props:{name:"vue-treeselect__option-arrow--prepare",appear:!0}},i={"vue-treeselect__option-arrow":!0,"vue-treeselect__option-arrow--rotated":this.shouldExpand};return t("div",{class:"vue-treeselect__option-arrow-container",on:{mousedown:this.handleMouseDownOnArrow}},[t("transition",r,[t(Ne,{class:i})])])}return e.hasBranchNodes?(ze||(ze=t("div",{class:"vue-treeselect__option-arrow-placeholder"},[" "])),ze):null},renderLabelContainer:function(t){var e=this.$createElement;return e("div",{class:"vue-treeselect__label-container",on:{mousedown:this.handleMouseDownOnLabelContainer}},[t])},renderCheckboxContainer:function(t){var e=this.$createElement,n=this.instance,r=this.node;return n.single||n.disableBranchNodes&&r.isBranch?null:e("div",{class:"vue-treeselect__checkbox-container"},[t])},renderCheckbox:function(){var t=this.$createElement,e=this.instance,n=this.node,r=e.forest.checkedStateMap[n.id],i={"vue-treeselect__checkbox":!0,"vue-treeselect__checkbox--checked":r===et,"vue-treeselect__checkbox--indeterminate":r===tt,"vue-treeselect__checkbox--unchecked":r===Z,"vue-treeselect__checkbox--disabled":n.isDisabled};return He||(He=t("span",{class:"vue-treeselect__check-mark"})),$e||($e=t("span",{class:"vue-treeselect__minus-mark"})),t("span",{class:i},[He,$e])},renderLabel:function(){var t=this.$createElement,e=this.instance,n=this.node,r=n.isBranch&&(e.localSearch.active?e.showCountOnSearchComputed:e.showCount),i=r?e.localSearch.active?e.localSearch.countMap[n.id][e.showCountOf]:n.count[e.showCountOf]:NaN,o="vue-treeselect__label",s="vue-treeselect__count",a=e.$scopedSlots["option-label"];return a?a({node:n,shouldShowCount:r,count:i,labelClassName:o,countClassName:s}):t("label",{class:o},[n.label,r&&t("span",{class:s},["(",i,")"])])},renderSubOptions:function(){var t=this.$createElement,e=this.node;return e.childrenStates.isLoaded?e.children.map((function(e){return t(qe,{attrs:{node:e},key:e.id})})):null},renderNoChildrenTip:function(){var t=this.$createElement,e=this.instance,n=this.node;return!n.childrenStates.isLoaded||n.children.length?null:t(Ue,{attrs:{type:"no-children",icon:"warning"}},[e.noChildrenText])},renderLoadingChildrenTip:function(){var t=this.$createElement,e=this.instance,n=this.node;return n.childrenStates.isLoading?t(Ue,{attrs:{type:"loading",icon:"loader"}},[e.loadingText]):null},renderLoadingChildrenErrorTip:function(){var t=this.$createElement,e=this.instance,n=this.node;return n.childrenStates.loadingError?t(Ue,{attrs:{type:"error",icon:"error"}},[n.childrenStates.loadingError,t("a",{class:"vue-treeselect__retry",attrs:{title:e.retryTitle},on:{mousedown:this.handleMouseDownOnRetry}},[e.retryText])]):null},handleMouseEnterOption:function(t){var e=this.instance,n=this.node;t.target===t.currentTarget&&e.setCurrentHighlightedOption(n,!1)},handleMouseDownOnArrow:f((function(){var t=this.instance,e=this.node;t.toggleExpanded(e)})),handleMouseDownOnLabelContainer:f((function(){var t=this.instance,e=this.node;e.isBranch&&t.disableBranchNodes?t.toggleExpanded(e):t.select(e)})),handleMouseDownOnRetry:f((function(){var t=this.instance,e=this.node;t.loadChildrenOptions(e)}))},render:function(){var t=arguments[0],e=this.node,n=this.instance.shouldFlattenOptions?0:e.level,r=l()({"vue-treeselect__list-item":!0},"vue-treeselect__indent-level-".concat(n),!0),i={props:{name:"vue-treeselect__list--transition"}};return t("div",{class:r},[this.renderOption(),e.isBranch&&t("transition",i,[this.renderSubOptionsList()])])}},Ke=qe,Ge=Ke,Xe=Rt(Ge,We,Ve,!1,null,null,null);Xe.options.__file="src/components/Option.vue";var Ye,Je,Qe=Xe.exports,Ze={top:"top",bottom:"bottom",above:"top",below:"bottom"},tn={name:"vue-treeselect--menu",inject:["instance"],computed:{menuStyle:function(){var t=this.instance;return{maxHeight:t.maxHeight+"px"}},menuContainerStyle:function(){var t=this.instance;return{zIndex:t.appendToBody?null:t.zIndex}}},watch:{"instance.menu.isOpen":function(t){t?this.$nextTick(this.onMenuOpen):this.onMenuClose()}},created:function(){this.menuSizeWatcher=null,this.menuResizeAndScrollEventListeners=null},mounted:function(){var t=this.instance;t.menu.isOpen&&this.$nextTick(this.onMenuOpen)},destroyed:function(){this.onMenuClose()},methods:{renderMenu:function(){var t=this.$createElement,e=this.instance;return e.menu.isOpen?t("div",{ref:"menu",class:"vue-treeselect__menu",on:{mousedown:e.handleMouseDown},style:this.menuStyle},[this.renderBeforeList(),e.async?this.renderAsyncSearchMenuInner():e.localSearch.active?this.renderLocalSearchMenuInner():this.renderNormalMenuInner(),this.renderAfterList()]):null},renderBeforeList:function(){var t=this.instance,e=t.$scopedSlots["before-list"];return e?e():null},renderAfterList:function(){var t=this.instance,e=t.$scopedSlots["after-list"];return e?e():null},renderNormalMenuInner:function(){var t=this.instance;return t.rootOptionsStates.isLoading?this.renderLoadingOptionsTip():t.rootOptionsStates.loadingError?this.renderLoadingRootOptionsErrorTip():t.rootOptionsStates.isLoaded&&0===t.forest.normalizedOptions.length?this.renderNoAvailableOptionsTip():this.renderOptionList()},renderLocalSearchMenuInner:function(){var t=this.instance;return t.rootOptionsStates.isLoading?this.renderLoadingOptionsTip():t.rootOptionsStates.loadingError?this.renderLoadingRootOptionsErrorTip():t.rootOptionsStates.isLoaded&&0===t.forest.normalizedOptions.length?this.renderNoAvailableOptionsTip():t.localSearch.noResults?this.renderNoResultsTip():this.renderOptionList()},renderAsyncSearchMenuInner:function(){var t=this.instance,e=t.getRemoteSearchEntry(),n=""===t.trigger.searchQuery&&!t.defaultOptions,r=!n&&(e.isLoaded&&0===e.options.length);return n?this.renderSearchPromptTip():e.isLoading?this.renderLoadingOptionsTip():e.loadingError?this.renderAsyncSearchLoadingErrorTip():r?this.renderNoResultsTip():this.renderOptionList()},renderOptionList:function(){var t=this.$createElement,e=this.instance;return t("div",{class:"vue-treeselect__list"},[e.forest.normalizedOptions.map((function(e){return t(Qe,{attrs:{node:e},key:e.id})}))])},renderSearchPromptTip:function(){var t=this.$createElement,e=this.instance;return t(Ue,{attrs:{type:"search-prompt",icon:"warning"}},[e.searchPromptText])},renderLoadingOptionsTip:function(){var t=this.$createElement,e=this.instance;return t(Ue,{attrs:{type:"loading",icon:"loader"}},[e.loadingText])},renderLoadingRootOptionsErrorTip:function(){var t=this.$createElement,e=this.instance;return t(Ue,{attrs:{type:"error",icon:"error"}},[e.rootOptionsStates.loadingError,t("a",{class:"vue-treeselect__retry",on:{click:e.loadRootOptions},attrs:{title:e.retryTitle}},[e.retryText])])},renderAsyncSearchLoadingErrorTip:function(){var t=this.$createElement,e=this.instance,n=e.getRemoteSearchEntry();return t(Ue,{attrs:{type:"error",icon:"error"}},[n.loadingError,t("a",{class:"vue-treeselect__retry",on:{click:e.handleRemoteSearch},attrs:{title:e.retryTitle}},[e.retryText])])},renderNoAvailableOptionsTip:function(){var t=this.$createElement,e=this.instance;return t(Ue,{attrs:{type:"no-options",icon:"warning"}},[e.noOptionsText])},renderNoResultsTip:function(){var t=this.$createElement,e=this.instance;return t(Ue,{attrs:{type:"no-results",icon:"warning"}},[e.noResultsText])},onMenuOpen:function(){this.adjustMenuOpenDirection(),this.setupMenuSizeWatcher(),this.setupMenuResizeAndScrollEventListeners()},onMenuClose:function(){this.removeMenuSizeWatcher(),this.removeMenuResizeAndScrollEventListeners()},adjustMenuOpenDirection:function(){var t=this.instance;if(t.menu.isOpen){var e=t.getMenu(),n=t.getControl(),r=e.getBoundingClientRect(),i=n.getBoundingClientRect(),o=r.height,s=window.innerHeight,a=i.top,l=window.innerHeight-i.bottom,u=i.top>=0&&i.top<=s||i.top<0&&i.bottom>0,c=l>o+yt,h=a>o+yt;u?"auto"!==t.openDirection?t.menu.placement=Ze[t.openDirection]:t.menu.placement=c||!h?"bottom":"top":t.closeMenu()}},setupMenuSizeWatcher:function(){var t=this.instance,e=t.getMenu();this.menuSizeWatcher||(this.menuSizeWatcher={remove:O(e,this.adjustMenuOpenDirection)})},setupMenuResizeAndScrollEventListeners:function(){var t=this.instance,e=t.getControl();this.menuResizeAndScrollEventListeners||(this.menuResizeAndScrollEventListeners={remove:A(e,this.adjustMenuOpenDirection)})},removeMenuSizeWatcher:function(){this.menuSizeWatcher&&(this.menuSizeWatcher.remove(),this.menuSizeWatcher=null)},removeMenuResizeAndScrollEventListeners:function(){this.menuResizeAndScrollEventListeners&&(this.menuResizeAndScrollEventListeners.remove(),this.menuResizeAndScrollEventListeners=null)}},render:function(){var t=arguments[0];return t("div",{ref:"menu-container",class:"vue-treeselect__menu-container",style:this.menuContainerStyle},[t("transition",{attrs:{name:"vue-treeselect__menu--transition"}},[this.renderMenu()])])}},en=tn,nn=Rt(en,Ye,Je,!1,null,null,null);nn.options.__file="src/components/Menu.vue";var rn=nn.exports,on=n(14),sn=n.n(on);function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(n,!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var un,cn,hn,pn={name:"vue-treeselect--portal-target",inject:["instance"],watch:{"instance.menu.isOpen":function(t){t?this.setupHandlers():this.removeHandlers()},"instance.menu.placement":function(){this.updateMenuContainerOffset()}},created:function(){this.controlResizeAndScrollEventListeners=null,this.controlSizeWatcher=null},mounted:function(){var t=this.instance;t.menu.isOpen&&this.setupHandlers()},methods:{setupHandlers:function(){this.updateWidth(),this.updateMenuContainerOffset(),this.setupControlResizeAndScrollEventListeners(),this.setupControlSizeWatcher()},removeHandlers:function(){this.removeControlResizeAndScrollEventListeners(),this.removeControlSizeWatcher()},setupControlResizeAndScrollEventListeners:function(){var t=this.instance,e=t.getControl();this.controlResizeAndScrollEventListeners||(this.controlResizeAndScrollEventListeners={remove:A(e,this.updateMenuContainerOffset)})},setupControlSizeWatcher:function(){var t=this,e=this.instance,n=e.getControl();this.controlSizeWatcher||(this.controlSizeWatcher={remove:O(n,(function(){t.updateWidth(),t.updateMenuContainerOffset()}))})},removeControlResizeAndScrollEventListeners:function(){this.controlResizeAndScrollEventListeners&&(this.controlResizeAndScrollEventListeners.remove(),this.controlResizeAndScrollEventListeners=null)},removeControlSizeWatcher:function(){this.controlSizeWatcher&&(this.controlSizeWatcher.remove(),this.controlSizeWatcher=null)},updateWidth:function(){var t=this.instance,e=this.$el,n=t.getControl(),r=n.getBoundingClientRect();e.style.width=r.width+"px"},updateMenuContainerOffset:function(){var t=this.instance,e=t.getControl(),n=this.$el,r=e.getBoundingClientRect(),i=n.getBoundingClientRect(),o="bottom"===t.menu.placement?r.height:0,s=Math.round(r.left-i.left)+"px",a=Math.round(r.top-i.top+o)+"px",l=this.$refs.menu.$refs["menu-container"].style,u=["transform","webkitTransform","MozTransform","msTransform"],c=Y(u,(function(t){return t in document.body.style}));l[c]="translate(".concat(s,", ").concat(a,")")}},render:function(){var t=arguments[0],e=this.instance,n=["vue-treeselect__portal-target",e.wrapperClass],r={zIndex:e.zIndex};return t("div",{class:n,style:r,attrs:{"data-instance-id":e.getInstanceId()}},[t(rn,{ref:"menu"})])},destroyed:function(){this.removeHandlers()}},dn={name:"vue-treeselect--menu-portal",created:function(){this.portalTarget=null},mounted:function(){this.setup()},destroyed:function(){this.teardown()},methods:{setup:function(){var t=document.createElement("div");document.body.appendChild(t),this.portalTarget=new sn.a(ln({el:t,parent:this},pn))},teardown:function(){document.body.removeChild(this.portalTarget.$el),this.portalTarget.$el.innerHTML="",this.portalTarget.$destroy(),this.portalTarget=null}},render:function(){var t=arguments[0];return un||(un=t("div",{class:"vue-treeselect__menu-placeholder"})),un}},fn=dn,mn=Rt(fn,cn,hn,!1,null,null,null);mn.options.__file="src/components/MenuPortal.vue";var gn,vn,_n=mn.exports,yn={name:"vue-treeselect",mixins:[Mt],computed:{wrapperClass:function(){return{"vue-treeselect":!0,"vue-treeselect--single":this.single,"vue-treeselect--multi":this.multiple,"vue-treeselect--searchable":this.searchable,"vue-treeselect--disabled":this.disabled,"vue-treeselect--focused":this.trigger.isFocused,"vue-treeselect--has-value":this.hasValue,"vue-treeselect--open":this.menu.isOpen,"vue-treeselect--open-above":"top"===this.menu.placement,"vue-treeselect--open-below":"bottom"===this.menu.placement,"vue-treeselect--branch-nodes-disabled":this.disableBranchNodes,"vue-treeselect--append-to-body":this.appendToBody}}},render:function(){var t=arguments[0];return t("div",{ref:"wrapper",class:this.wrapperClass},[t(Ft),t(Pe,{ref:"control"}),this.appendToBody?t(_n,{ref:"portal"}):t(rn,{ref:"menu"})])}},bn=yn,wn=Rt(bn,gn,vn,!1,null,null,null);wn.options.__file="src/components/Treeselect.vue";var xn=wn.exports;n(15);n.d(e,"VERSION",(function(){return kn})),n.d(e,"Treeselect",(function(){return xn})),n.d(e,"treeselectMixin",(function(){return Mt})),n.d(e,"LOAD_ROOT_OPTIONS",(function(){return st})),n.d(e,"LOAD_CHILDREN_OPTIONS",(function(){return at})),n.d(e,"ASYNC_SEARCH",(function(){return lt}));e["default"]=xn;var kn="0.4.0"}])},cd9d:function(t,e){function n(t){return t}t.exports=n},d2de:function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";t.registerHelper("lint","json",(function(e){var n=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),n;var r=window.jsonlint.parser||window.jsonlint;r.parseError=function(e,r){var i=r.loc;n.push({from:t.Pos(i.first_line-1,i.first_column),to:t.Pos(i.last_line-1,i.last_column),message:e})};try{r.parse(e)}catch(i){}return n}))}))},d60a:function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},df0f:function(t,e,n){"use strict";n.r(e);var r=function(t,e){var n=document.createElement("_"),r=n.appendChild(document.createElement("_")),i=n.appendChild(document.createElement("_")),o=r.appendChild(document.createElement("_")),s=void 0,a=void 0;return r.style.cssText=n.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",o.style.cssText=i.style.cssText="display:block;height:100%;transition:0s;width:100%",o.style.width=o.style.height="200%",t.appendChild(n),l(),c;function l(){u();var o=t.offsetWidth,c=t.offsetHeight;o===s&&c===a||(s=o,a=c,i.style.width=2*o+"px",i.style.height=2*c+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,e({width:o,height:c})),r.addEventListener("scroll",l),n.addEventListener("scroll",l)}function u(){r.removeEventListener("scroll",l),n.removeEventListener("scroll",l)}function c(){u(),t.removeChild(n)}};e["default"]=r},e0ef:function(t,e,n){var r=n("4b17"),i="Expected a function";function o(t,e){var n;if("function"!=typeof e)throw new TypeError(i);return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}t.exports=o},e3da:function(t,e,n){"use strict";for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=s||o&&+o[1]<57,u=0;u<10;u++)r[48+u]=r[96+u]=String(u);for(u=1;u<=24;u++)r[u+111]="F"+u;for(u=65;u<=90;u++)r[u]=String.fromCharCode(u+32),i[u]=String.fromCharCode(u);for(var c in r)i.hasOwnProperty(c)||(i[c]=r[c]);function h(t){var e=l&&(t.ctrlKey||t.altKey||t.metaKey)||a&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key,n=!e&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var p=n("6ffb");n.d(e,"a",(function(){return v}));const d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function f(t){let e,n,r,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let a=0;a<o.length-1;a++){let t=o[a];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);d?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function m(t){let e=Object.create(null);for(let n in t)e[f(n)]=t[n];return e}function g(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function v(t){return new p["d"]({props:{handleKeyDown:_(t)}})}function _(t){let e=m(t);return function(t,n){let i,o=h(n),s=1==o.length&&" "!=o,a=e[g(o,n,!s)];if(a&&a(t.state,t.dispatch,t))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=o){let r=e[g(i,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}else if(s&&n.shiftKey){let r=e[g(o,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}return!1}}},e552:function(t,e,n){"use strict";var r,i;function o(t,e,n){var r=function(e,n){return t.js_beautify(e,n)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}r=[n("e943"),n("4d7c"),n("a6c1")],i=function(t,e,n){return o(t,e,n)}.apply(e,r),void 0===i||(t.exports=i)},e943:function(t,e,n){var r,i;(function(){var n;(function(){"use strict";var t=[function(t,e,n){var r=n(1).Beautifier,i=n(5).Options;function o(t,e){var n=new r(t,e);return n.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(2).Output,i=n(3).Token,o=n(4),s=n(5).Options,a=n(7).Tokenizer,l=n(7).line_starters,u=n(7).positionable_operators,c=n(7).TOKEN;function h(t,e){return-1!==e.indexOf(t)}function p(t){return t.replace(/^\s+/g,"")}function d(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function f(t,e){return t&&t.type===c.RESERVED&&t.text===e}function m(t,e){return t&&t.type===c.RESERVED&&h(t.text,e)}var g=["case","return","do","if","throw","else","await","break","continue","async"],v=["before-newline","after-newline","preserve-newline"],_=d(v),y=[_.before_newline,_.preserve_newline],b={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function w(t,e){e.multiline_frame||e.mode===b.ForInitializer||e.mode===b.Conditional||t.remove_indent(e.start_line_index)}function x(t){t=t.replace(o.allLineBreaks,"\n");var e=[],n=t.indexOf("\n");while(-1!==n)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf("\n");return t.length&&e.push(t),e}function k(t){return t===b.ArrayLiteral}function C(t){return h(t,[b.Expression,b.ForInitializer,b.Conditional])}function S(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function T(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=t[r],n&&0!==n.indexOf(e))return!1;return!0}function E(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new s(e)}E.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new i(c.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r},E.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(b.BlockStatement);var n=new a(t,this._options);return this._tokens=n.tokenize(),t},E.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;"auto"===this._options.eol&&(n="\n",e&&o.lineBreak.test(e||"")&&(n=e.match(o.lineBreak)[0]));var r=this._tokens.next();while(r)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t},E.prototype.handle_token=function(t,e){t.type===c.START_EXPR?this.handle_start_expr(t):t.type===c.END_EXPR?this.handle_end_expr(t):t.type===c.START_BLOCK?this.handle_start_block(t):t.type===c.END_BLOCK?this.handle_end_block(t):t.type===c.WORD||t.type===c.RESERVED?this.handle_word(t):t.type===c.SEMICOLON?this.handle_semicolon(t):t.type===c.STRING?this.handle_string(t):t.type===c.EQUALS?this.handle_equals(t):t.type===c.OPERATOR?this.handle_operator(t):t.type===c.COMMA?this.handle_comma(t):t.type===c.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===c.COMMENT?this.handle_comment(t,e):t.type===c.DOT?this.handle_dot(t):t.type===c.EOF?this.handle_eof(t):(t.type,c.UNKNOWN,this.handle_unknown(t,e))},E.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&k(this._flags.mode);if(t.comments_before){var i=t.comments_before.next();while(i)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next()}if(r)for(var o=0;o<n;o+=1)this.print_newline(o>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var s=1;s<n;s+=1)this.print_newline(!0,e)}};var O=["async","break","continue","return","throw","yield"];E.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=h(this._flags.last_token.text,u)||h(t.text,u);if(r){var i=h(this._flags.last_token.text,u)&&h(this._options.operator_position,y)||h(t.text,u);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(m(this._flags.last_token,O))return;this._output.set_wrap_point()}}},E.prototype.print_newline=function(t,e){if(!e&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==c.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text)){var n=this._tokens.peek();while(this._flags.mode===b.Statement&&(!this._flags.if_block||!f(n,"else"))&&!this._flags.do_block)this.restore_mode()}this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},E.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&("["===t.text||k(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},E.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===c.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},E.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},E.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},E.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},E.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===b.Statement&&w(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},E.prototype.start_of_object_property=function(){return this._flags.parent.mode===b.ObjectLiteral&&this._flags.mode===b.Statement&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||m(this._flags.last_token,["get","set"]))},E.prototype.start_of_statement=function(t){var e=!1;return e=e||m(this._flags.last_token,["var","let","const"])&&t.type===c.WORD,e=e||f(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===b.ObjectLiteral&&this._flags.mode===b.Statement)&&m(this._flags.last_token,O)&&!t.newlines,e=e||f(this._flags.last_token,"else")&&!(f(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===c.END_EXPR&&(this._previous_flags.mode===b.ForInitializer||this._previous_flags.mode===b.Conditional),e=e||this._flags.last_token.type===c.WORD&&this._flags.mode===b.BlockStatement&&!this._flags.in_case&&!("--"===t.text||"++"===t.text)&&"function"!==this._last_last_text&&t.type!==c.WORD&&t.type!==c.RESERVED,e=e||this._flags.mode===b.ObjectLiteral&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||m(this._flags.last_token,["get","set"])),!!e&&(this.set_mode(b.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,m(t,["do","for","if","while"])),!0)},E.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=b.Expression;if("["===t.text){if(this._flags.last_token.type===c.WORD||")"===this._flags.last_token.text)return m(this._flags.last_token,l)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=b.ArrayLiteral,k(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),h(this._flags.last_token.type,[c.START_EXPR,c.END_EXPR,c.WORD,c.OPERATOR,c.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===c.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=b.ForInitializer):h(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=b.Conditional):h(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===t.whitespace_before?this._output.space_before_token=!1:(h(this._flags.last_token.text,l)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===c.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);m(n,["async","function"])||"*"===n.text&&m(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===b.ObjectLiteral?"{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===c.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===b.ObjectLiteral&&h(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===c.START_BLOCK?this.print_newline():this._flags.last_token.type!==c.END_EXPR&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==c.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},E.prototype.handle_end_expr=function(t){while(this._flags.mode===b.Statement)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,"]"===t.text&&k(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==c.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),w(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===b.Conditional&&(this._previous_flags.mode=b.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},E.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR?(this.set_mode(b.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(b.BlockStatement):n&&(h(n.text,[":",","])&&h(e.type,[c.STRING,c.WORD,c.RESERVED])||h(e.text,["get","set","..."])&&h(n.type,[c.WORD,c.RESERVED]))?h(this._last_last_text,["class","interface"])&&!h(n.text,[":",","])?this.set_mode(b.BlockStatement):this.set_mode(b.ObjectLiteral):this._flags.last_token.type===c.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(b.BlockStatement):h(this._flags.last_token.type,[c.EQUALS,c.START_EXPR,c.COMMA,c.OPERATOR])||m(this._flags.last_token,["return","throw","import","default"])?this.set_mode(b.ObjectLiteral):this.set_mode(b.BlockStatement),this._flags.last_token&&m(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var r=!e.comments_before&&"}"===e.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR;if(this._options.brace_preserve_inline){var o=0,s=null;this._flags.inline_frame=!0;do{if(o+=1,s=this._tokens.peek(o-1),s.newlines){this._flags.inline_frame=!1;break}}while(s.type!==c.EOF&&(s.type!==c.END_BLOCK||s.opened!==t))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==c.OPERATOR&&(i||this._flags.last_token.type===c.EQUALS||m(this._flags.last_token,g)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!k(this._previous_flags.mode)||this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.COMMA||((this._flags.last_token.type===c.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==c.OPERATOR&&this._flags.last_token.type!==c.START_EXPR&&(this._flags.last_token.type!==c.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(t),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},E.prototype.handle_end_block=function(t){this.handle_whitespace_and_comments(t);while(this._flags.mode===b.Statement)this.restore_mode();var e=this._flags.last_token.type===c.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:"expand"===this._options.brace_style?e||this.print_newline():e||(k(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},E.prototype.handle_word=function(t){if(t.type===c.RESERVED)if(h(t.text,["set","get"])&&this._flags.mode!==b.ObjectLiteral)t.type=c.WORD;else if("import"===t.text&&h(this._tokens.peek().text,["(","."]))t.type=c.WORD;else if(h(t.text,["as","from"])&&!this._flags.import_block)t.type=c.WORD;else if(this._flags.mode===b.ObjectLiteral){var e=this._tokens.peek();":"===e.text&&(t.type=c.WORD)}if(this.start_of_statement(t)?m(this._flags.last_token,["var","let","const"])&&t.type===c.WORD&&(this._flags.declaration_statement=!0):!t.newlines||C(this._flags.mode)||this._flags.last_token.type===c.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===c.EQUALS||!this._options.preserve_newlines&&m(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(f(t,"while"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&f(t,"else"))this._flags.else_block=!0;else{while(this._flags.mode===b.Statement)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&m(t,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.EQUALS&&this._flags.last_token.type!==c.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),f(t,"function"))return(h(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!h(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==c.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD?m(this._flags.last_token,["get","set","new","export"])||m(this._flags.last_token,O)||f(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===c.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!C(this._flags.mode)&&!k(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var n="NONE";if(this._flags.last_token.type===c.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":m(t,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&this._flags.mode===b.BlockStatement?n="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&C(this._flags.mode)?n="SPACE":this._flags.last_token.type===c.STRING?n="NEWLINE":this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===b.ObjectLiteral&&h(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===c.START_BLOCK?n=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===c.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),m(t,l)&&")"!==this._flags.last_token.text&&(n=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),m(t,["else","catch","finally"]))if((this._flags.last_token.type!==c.END_BLOCK||this._previous_flags.mode!==b.BlockStatement||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;"}"!==r.last()&&this.print_newline(),this._output.space_before_token=!0}else"NEWLINE"===n?m(this._flags.last_token,g)||"declare"===this._flags.last_token.text&&m(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==c.END_EXPR?this._flags.last_token.type===c.START_EXPR&&m(t,["var","let","const"])||":"===this._flags.last_token.text||(f(t,"if")&&f(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):m(t,l)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&k(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===n&&(this._output.space_before_token=!0);!t.previous||t.previous.type!==c.WORD&&t.previous.type!==c.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===c.RESERVED&&("do"===t.text?this._flags.do_block=!0:"if"===t.text?this._flags.if_block=!0:"import"===t.text?this._flags.import_block=!0:this._flags.import_block&&f(t,"from")&&(this._flags.import_block=!1))},E.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);var e=this._tokens.peek();while(this._flags.mode===b.Statement&&(!this._flags.if_block||!f(e,"else"))&&!this._flags.do_block)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},E.prototype.handle_string=function(t){(!t.text.startsWith("`")||0!==t.newlines||""!==t.whitespace_before||")"!==t.previous.text&&this._flags.last_token.type!==c.WORD)&&(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR||this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):!t.text.startsWith("`")||this._flags.last_token.type!==c.END_EXPR||"]"!==t.previous.text&&")"!==t.previous.text||0!==t.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(t)},E.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},E.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(C(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===b.ObjectLiteral||this._flags.mode===b.Statement&&this._flags.parent.mode===b.ObjectLiteral?(this._flags.mode===b.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},E.prototype.handle_operator=function(t){var e="*"===t.text&&(m(this._flags.last_token,["function","yield"])||h(this._flags.last_token.type,[c.START_BLOCK,c.COMMA,c.END_BLOCK,c.SEMICOLON])),n=h(t.text,["-","+"])&&(h(this._flags.last_token.type,[c.START_BLOCK,c.START_EXPR,c.EQUALS,c.OPERATOR])||h(this._flags.last_token.text,l)||","===this._flags.last_token.text);if(this.start_of_statement(t));else{var r=!e;this.handle_whitespace_and_comments(t,r)}if("*"!==t.text||this._flags.last_token.type!==c.DOT)if("::"!==t.text){if(this._flags.last_token.type===c.OPERATOR&&h(this._options.operator_position,y)&&this.allow_wrap_or_preserved_newline(t),":"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==c.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var i=!0,o=!0,s=!1;if(":"===t.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,s=!0):"?"===t.text&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&h(t.text,u)){var a=":"===t.text,p=a&&s,d=a&&!s;switch(this._options.operator_position){case _.before_newline:return this._output.space_before_token=!d,this.print_token(t),a&&!p||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case _.after_newline:return this._output.space_before_token=!0,!a||p?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case _.preserve_newline:return d||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||d),this._output.space_before_token=i,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var f=this._tokens.peek();o=f&&h(f.type,[c.WORD,c.RESERVED])}else if("..."===t.text)this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===c.START_BLOCK,o=!1;else if(h(t.text,["--","++","!","~"])||n){if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR||this.allow_wrap_or_preserved_newline(t),i=!1,o=!1,t.newlines&&("--"===t.text||"++"===t.text||"~"===t.text)){var v=m(this._flags.last_token,g)&&t.newlines;v&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(v,!0)}";"===this._flags.last_token.text&&C(this._flags.mode)&&(i=!0),this._flags.last_token.type===c.RESERVED?i=!0:this._flags.last_token.type===c.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===t.text||"++"===t.text)):this._flags.last_token.type===c.OPERATOR&&(i=h(t.text,["--","-","++","+"])&&h(this._flags.last_token.text,["--","-","++","+"]),h(t.text,["+","-"])&&h(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==b.BlockStatement||this._flags.inline_frame)&&this._flags.mode!==b.Statement||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline()}this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=o}else this.print_token(t);else this.print_token(t)},E.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&"end"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),"start"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):o.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},E.prototype.print_block_commment=function(t,e){var n,r=x(t.text),i=!1,o=!1,s=t.whitespace_before,a=s.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(r[0]),this.print_newline(!1,e),r.length>1){for(r=r.slice(1),i=S(r,"*"),o=T(r,s),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(t),this._output.add_token(p(r[n]))):o&&r[n]?(this.print_token_line_indentation(t),this._output.add_token(r[n].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,e);this._flags.alignment=0}},E.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},E.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),m(this._flags.last_token,g)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},E.prototype.handle_unknown=function(t,e){this.print_token(t),"\n"===t.text[t.text.length-1]&&this.print_newline(!1,e)},E.prototype.handle_eof=function(t){while(this._flags.mode===b.Statement)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.Beautifier=E},function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){while(" "===this.last())this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n},n.prototype.__ensure_cache=function(t){while(t>=this.__cache.length)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){var e=this.__lines.length;while(t<e)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){t=void 0!==t&&t,this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty())this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){var r=this.__lines.length-2;while(r>=0){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},function(t){function e(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}t.exports.Token=e},function(t,e){var n="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",o="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+i+"])",a="(?:\\\\u[0-9a-fA-F]{4}|["+r+i+o+"])*";e.identifier=new RegExp(s+a,"g"),e.identifierStart=new RegExp(s),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+r+i+o+"])+");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},function(t,e,n){var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function o(t){r.call(this,t,"js");var e=this.raw_options.brace_style||null;"expand-strict"===e?this.raw_options.brace_style="expand":"collapse-preserve-inline"===e?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<n.length;o++)"preserve-inline"===n[o]?this.brace_preserve_inline=!0:this.brace_style=n[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}o.prototype=new r,t.exports.Options=o},function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t),t)n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t){var r=e.replace(/-/g,"_");n[r]=t[e]}return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=void 0===n?!!e:!!n;return r},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},function(t,e,n){var r=n(8).InputScanner,i=n(9).Tokenizer,o=n(9).TOKEN,s=n(13).Directives,a=n(4),l=n(12).Pattern,u=n(14).TemplatablePattern;function c(t,e){return-1!==e.indexOf(t)}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:o.START,RAW:o.RAW,EOF:o.EOF},p=new s(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,f=/[0-9]/,m=/[^\d\.]/,g=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),v=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";v=v.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),v="\\?\\.(?!\\d) "+v,v=v.replace(/ /g,"|");var _,y=new RegExp(v),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),w=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),x=new RegExp("^(?:"+w.join("|")+")$"),k=function(t,e){i.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new l(this._input),r=new u(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(a.identifier).matching(a.identifierMatch),number:n.matching(d),punct:n.matching(y),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(a.lineBreak),shebang:n.starting_with(/#!/).until_after(a.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};function C(t){var e="",n=0,i=new r(t),o=null;while(i.hasNext())if(o=i.match(/([\s]|[^\\]|\\\\)+/g),o&&(e+=o[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())o=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){e+="\\",i.hasNext()&&(e+=i.next());continue}o=i.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return t;if(n=parseInt(o[1],16),n>126&&n<=255&&0===o[0].indexOf("x"))return t;if(n>=0&&n<32){e+="\\"+o[0];continue}e+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return e}k.prototype=new i,k.prototype._is_comment=function(t){return t.type===h.COMMENT||t.type===h.BLOCK_COMMENT||t.type===h.UNKNOWN},k.prototype._is_opening=function(t){return t.type===h.START_BLOCK||t.type===h.START_EXPR},k.prototype._is_closing=function(t,e){return(t.type===h.END_BLOCK||t.type===h.END_EXPR)&&e&&("]"===t.text&&"["===e.text||")"===t.text&&"("===e.text||"}"===t.text&&"{"===e.text)},k.prototype._reset=function(){_=!1},k.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(h.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(h.UNKNOWN,this._input.next()),n)},k.prototype._read_word=function(t){var e;return e=this.__patterns.identifier.read(),""!==e?(e=e.replace(a.allLineBreaks,"\n"),t.type!==h.DOT&&(t.type!==h.RESERVED||"set"!==t.text&&"get"!==t.text)&&x.test(e)?"in"!==e&&"of"!==e||t.type!==h.WORD&&t.type!==h.STRING?this._create_token(h.RESERVED,e):this._create_token(h.OPERATOR,e):this._create_token(h.WORD,e)):(e=this.__patterns.number.read(),""!==e?this._create_token(h.WORD,e):void 0)},k.prototype._read_singles=function(t){var e=null;return"("===t||"["===t?e=this._create_token(h.START_EXPR,t):")"===t||"]"===t?e=this._create_token(h.END_EXPR,t):"{"===t?e=this._create_token(h.START_BLOCK,t):"}"===t?e=this._create_token(h.END_BLOCK,t):";"===t?e=this._create_token(h.SEMICOLON,t):"."===t&&m.test(this._input.peek(1))?e=this._create_token(h.DOT,t):","===t&&(e=this._create_token(h.COMMA,t)),e&&this._input.next(),e},k.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(""!==t)return"="===t?this._create_token(h.EQUALS,t):"?."===t?this._create_token(h.DOT,t):this._create_token(h.OPERATOR,t)},k.prototype._read_non_javascript=function(t){var e="";if("#"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(h.UNKNOWN,e.trim()+"\n");if(e=this.__patterns.include.read(),e)return this._create_token(h.UNKNOWN,e.trim()+"\n");t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(f)){do{t=this._input.next(),n+=t}while(this._input.hasNext()&&"#"!==t&&"="!==t);return"#"===t||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(h.WORD,n)}this._input.back()}else if("<"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){while(this._input.hasNext()&&!this._input.testChar(a.newline))e+=this._input.next();return _=!0,this._create_token(h.COMMENT,e)}}else if(_&&"-"===t&&(e=this.__patterns.html_comment_end.read(),e))return _=!1,this._create_token(h.COMMENT,e);return null},k.prototype._read_comment=function(t){var e=null;if("/"===t){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=p.get_directives(n);r&&"start"===r.ignore&&(n+=p.readIgnored(this._input)),n=n.replace(a.allLineBreaks,"\n"),e=this._create_token(h.BLOCK_COMMENT,n),e.directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),e=this._create_token(h.COMMENT,n))}return e},k.prototype._read_string=function(t){if("`"===t||"'"===t||'"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+="`"===t?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=C(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,e)}return null},k.prototype._allow_regexp_or_xml=function(t){return t.type===h.RESERVED&&c(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===h.END_EXPR&&")"===t.text&&t.opened.previous.type===h.RESERVED&&c(t.opened.previous.text,["if","while","for"])||c(t.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])},k.prototype._read_regexp=function(t,e){if("/"===t&&this._allow_regexp_or_xml(e)){var n=this._input.next(),r=!1,i=!1;while(this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(a.newline))n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(a.identifier)),this._create_token(h.STRING,n)}return null},k.prototype._read_xml=function(t,e){if(this._options.e4x&&"<"===t&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===i.indexOf("{"),s=0;while(r){var l=!!r[1],u=r[2],c=!!r[r.length-1]||"![CDATA["===u.slice(0,8);if(!c&&(u===i||o&&u.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--s:++s),n+=r[0],s<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,n)}}return null},k.prototype._read_string_recursive=function(t,e,n){var r,i;"'"===t?i=this.__patterns.single_quote:'"'===t?i=this.__patterns.double_quote:"`"===t?i=this.__patterns.template_text:"}"===t&&(i=this.__patterns.template_expression);var o=i.read(),s="";while(this._input.hasNext()){if(s=this._input.next(),s===t||!e&&a.newline.test(s)){this._input.back();break}"\\"===s&&this._input.hasNext()?(r=this._input.peek(),"x"===r||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),s+=this._input.next()):n&&("${"===n&&"$"===s&&"{"===this._input.peek()&&(s+=this._input.next()),n===s&&(s+="`"===t?this._read_string_recursive("}",e,"`"):this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(s+=this._input.next()))),s+=i.read(),o+=s}return o},t.exports.Tokenizer=k,t.exports.TOKEN=h,t.exports.positionable_operators=g.slice(),t.exports.line_starters=b.slice()},function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t),r&&(i+=r[0])),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"===typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},function(t,e,n){var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,s=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new s(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();var e=new i(a.START,""),n=null,r=[],s=new o;while(e.type!==a.EOF){t=this._get_next_token(e,n);while(this._is_comment(t))s.add(t),t=this._get_next_token(e,n);s.isEmpty()||(t.comments_before=s,s=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){var n=new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=a},function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=e},function(t,e,n){var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;var n=0,r=[],i=t.exec(e);while(i)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.Pattern=e},function(t){function e(t,e){t="string"===typeof t?t:t.source,e="string"===typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;var n=this.__directive_pattern.exec(t);while(n)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},function(t,e,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);var e=this._read_template();while(e)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t},t.exports.TemplatablePattern=o}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}var i=r(0);n=i})();var o=n;r=[],i=function(){return{js_beautify:o}}.apply(e,r),void 0===i||(t.exports=i)})()},f201:function(t,e,n){"use strict";var r=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new s(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},i.from=function(t){return t instanceof i?t:t&&t.length?new o(t):i.empty};var o=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new o([]);var s=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i),a=i,l=a,u=n("b923"),c=n("6ffb");n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return M})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return N}));const h=500;class p{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){let t=this.items.get(i-1);if(t.selection){--i;break}}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=t.tr,l=[],u=[];return this.items.forEach((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void u.push(t);if(n){u.push(new f(t.map));let e,i=t.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new f(e,void 0,void 0,l.length+u.length))),r--,e&&n.appendMap(e,r)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,s=new p(this.items.slice(0,i).append(u.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let n,l=t.steps[u].invert(t.docs[u]),c=new f(t.mapping.maps[u],l,e);(n=a&&a.merge(c))&&(c=n,u?i.pop():s=s.slice(0,s.length-1)),i.push(c),e&&(o++,e=void 0),r||(a=c)}let l=o-n.depth;return l>g&&(s=d(s,l),o-=l),new p(s.append(i),o)}remapping(t,e){let n=new u["a"];return this.items.forEach((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)},t,e),n}addMaps(t){return 0==this.eventCount?this:new p(this.items.append(t.map(t=>new f(t))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach(t=>{t.selection&&s--},r);let a=e;this.items.forEach(e=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(i.slice(a+1,r));u&&s++,n.push(new f(l,o,u))}else n.push(new f(l))},r);let l=[];for(let h=e;h<o;h++)l.push(new f(i.maps[h]));let u=this.items.slice(0,r).append(l).append(n),c=new p(u,s);return c.emptyItemCount()>h&&(c=c.compress(this.items.length-n.length)),c}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach((o,s)=>{if(s>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),s=t&&t.getMap();if(n--,s&&e.appendMap(s,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&i++;let l,u=new f(s.invert(),t,a),c=r.length-1;(l=r.length&&r[c].merge(u))?r[c]=l:r.push(u)}}else o.map&&n--},this.items.length,0),new p(l.from(r.reverse()),i)}}function d(t,e){let n;return t.forEach((t,r)=>{if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}p.empty=new p(l.empty,0);class f{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new f(e.getMap().invert(),e,this.selection)}}}class m{constructor(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r}}const g=20;function v(t,e,n,r){let i,o=n.getMeta(S);if(o)return o.historyState;n.getMeta(T)&&(t=new m(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(S))return s.getMeta(S).redo?new m(t.done.addTransform(n,void 0,r,C(e)),t.undone,y(n.mapping.maps[n.steps.length-1]),t.prevTime):new m(t.done,t.undone.addTransform(n,void 0,r,C(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new m(t.done.rebased(n,i),t.undone.rebased(n,i),b(t.prevRanges,n.mapping),t.prevTime):new m(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),b(t.prevRanges,n.mapping),t.prevTime);{let i=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_(n,t.prevRanges)),o=s?b(t.prevRanges,n.mapping):y(n.mapping.maps[n.steps.length-1]);return new m(t.done.addTransform(n,i?e.selection.getBookmark():void 0,r,C(e)),p.empty,o,n.time)}}function _(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function y(t){let e=[];return t.forEach((t,n,r,i)=>e.push(r,i)),e}function b(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function w(t,e,n,r){let i=C(e),o=S.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new m(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(S,{redo:r,historyState:u}).scrollIntoView())}let x=!1,k=null;function C(t){let e=t.plugins;if(k!=e){x=!1,k=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){x=!0;break}}return x}const S=new c["e"]("history"),T=new c["e"]("closeHistory");function E(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new c["d"]({key:S,state:{init(){return new m(p.empty,p.empty,null,0)},apply(e,n,r){return v(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?O:"historyRedo"==n?M:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const O=(t,e)=>{let n=S.getState(t);return!(!n||0==n.done.eventCount)&&(e&&w(n,t,e,!1),!0)},M=(t,e)=>{let n=S.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&w(n,t,e,!0),!0)};function N(t){let e=S.getState(t);return e?e.done.eventCount:0}},f2b5:function(t,e){t.exports=function(t){function e(t){"undefined"!==typeof console&&(console.error||console.log)("[Script Loader]",t)}function n(){return"undefined"!==typeof attachEvent&&"undefined"===typeof addEventListener}try{"undefined"!==typeof execScript&&n()?execScript(t):"undefined"!==typeof eval?eval.call(null,t):e("EvalError: No eval function available")}catch(r){e(r)}}},f513:function(t,e,n){},f9d4:function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";t.defineMode("javascript",(function(e,n){var r,i,o=e.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),s={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),p=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function f(t){var e,n=!1,r=!1;while(null!=(e=t.next())){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}function m(t,e,n){return r=t,i=n,e}function g(t,e){var n=t.next();if('"'==n||"'"==n)return e.tokenize=v(n),e.tokenize(t,e);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==n&&t.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&t.eat(">"))return m("=>","operator");if("0"==n&&t.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return m("number","number");if(/\d/.test(n))return t.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),m("number","number");if("/"==n)return t.eat("*")?(e.tokenize=_,_(t,e)):t.eat("/")?(t.skipToEnd(),m("comment","comment")):Zt(t,e,1)?(f(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(t.eat("="),m("operator","operator",t.current()));if("`"==n)return e.tokenize=y,y(t,e);if("#"==n)return t.skipToEnd(),m("error","error");if(p.test(n))return">"==n&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=n&&"="!=n||t.eat("="):/[<>*+\-]/.test(n)&&(t.eat(n),">"==n&&t.eat(n))),m("operator","operator",t.current());if(c.test(n)){t.eatWhile(c);var r=t.current();if("."!=e.lastType){if(h.propertyIsEnumerable(r)){var i=h[r];return m(i.type,i.style,r)}if("async"==r&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(t){return function(e,n){var r,i=!1;if(a&&"@"==e.peek()&&e.match(d))return n.tokenize=g,m("jsonld-keyword","meta");while(null!=(r=e.next())){if(r==t&&!i)break;i=!i&&"\\"==r}return i||(n.tokenize=g),m("string","string")}}function _(t,e){var n,r=!1;while(n=t.next()){if("/"==n&&r){e.tokenize=g;break}r="*"==n}return m("comment","comment")}function y(t,e){var n,r=!1;while(null!=(n=t.next())){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",t.current())}var b="([{}])";function w(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=t.string.charAt(s),l=b.indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!i){++s;break}}}o&&!i&&(e.fatArrowAt=s)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function C(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==e)return!0}function S(t,e,n,r,i){var o=t.cc;T.state=t,T.stream=i,T.marked=null,T.cc=o,T.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);while(1){var s=o.length?o.pop():l?V:$;if(s(n,r)){while(o.length&&o[o.length-1].lex)o.pop()();return T.marked?T.marked:"variable"==n&&C(t,r)?"variable-2":e}}}var T={state:null,column:null,marked:null,cc:null};function E(){for(var t=arguments.length-1;t>=0;t--)T.cc.push(arguments[t])}function O(){return E.apply(null,arguments),!0}function M(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function N(t){var e=T.state;if(T.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var r=A(t,e.context);if(null!=r)return void(e.context=r)}else if(!M(t,e.localVars))return void(e.localVars=new I(t,e.localVars));n.globalVars&&!M(t,e.globalVars)&&(e.globalVars=new I(t,e.globalVars))}function A(t,e){if(e){if(e.block){var n=A(t,e.prev);return n?n==e.prev?e:new L(n,e.vars,!0):null}return M(t,e.vars)?e:new L(e.prev,new I(t,e.vars),!1)}return null}function D(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function L(t,e,n){this.prev=t,this.vars=e,this.block=n}function I(t,e){this.name=t,this.next=e}var R=new I("this",new I("arguments",null));function P(){T.state.context=new L(T.state.context,T.state.localVars,!1),T.state.localVars=R}function B(){T.state.context=new L(T.state.context,T.state.localVars,!0),T.state.localVars=null}function j(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}function F(t,e){var n=function(){var n=T.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new k(r,T.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function z(){var t=T.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function H(t){function e(n){return n==t?O():";"==t||"}"==n||")"==n||"]"==n?E():O(e)}return e}function $(t,e){return"var"==t?O(F("vardef",e),kt,H(";"),z):"keyword a"==t?O(F("form"),q,$,z):"keyword b"==t?O(F("form"),$,z):"keyword d"==t?T.stream.match(/^\s*$/,!1)?O():O(F("stat"),G,H(";"),z):"debugger"==t?O(H(";")):"{"==t?O(F("}"),B,ht,z,j):";"==t?O():"if"==t?("else"==T.state.lexical.info&&T.state.cc[T.state.cc.length-1]==z&&T.state.cc.pop()(),O(F("form"),q,$,z,Mt)):"function"==t?O(Lt):"for"==t?O(F("form"),Nt,$,z):"class"==t||u&&"interface"==e?(T.marked="keyword",O(F("form","class"==t?t:e),jt,z)):"variable"==t?u&&"declare"==e?(T.marked="keyword",O($)):u&&("module"==e||"enum"==e||"type"==e)&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword","enum"==e?O(Yt):"type"==e?O(Rt,H("operator"),mt,H(";")):O(F("form"),Ct,H("{"),F("}"),ht,z,z)):u&&"namespace"==e?(T.marked="keyword",O(F("form"),V,$,z)):u&&"abstract"==e?(T.marked="keyword",O($)):O(F("stat"),it):"switch"==t?O(F("form"),q,H("{"),F("}","switch"),B,ht,z,z,j):"case"==t?O(V,H(":")):"default"==t?O(H(":")):"catch"==t?O(F("form"),P,W,$,z,j):"export"==t?O(F("stat"),$t,z):"import"==t?O(F("stat"),Vt,z):"async"==t?O($):"@"==e?O(V,$):E(F("stat"),V,H(";"),z)}function W(t){if("("==t)return O(Pt,H(")"))}function V(t,e){return K(t,e,!1)}function U(t,e){return K(t,e,!0)}function q(t){return"("!=t?E():O(F(")"),V,H(")"),z)}function K(t,e,n){if(T.state.fatArrowAt==T.stream.start){var r=n?tt:Z;if("("==t)return O(P,F(")"),ut(Pt,")"),z,H("=>"),r,j);if("variable"==t)return E(P,Ct,H("=>"),r,j)}var i=n?Y:X;return x.hasOwnProperty(t)?O(i):"function"==t?O(Lt,i):"class"==t||u&&"interface"==e?(T.marked="keyword",O(F("form"),Bt,z)):"keyword c"==t||"async"==t?O(n?U:V):"("==t?O(F(")"),G,H(")"),z,i):"operator"==t||"spread"==t?O(n?U:V):"["==t?O(F("]"),Xt,z,i):"{"==t?ct(st,"}",null,i):"quasi"==t?E(J,i):"new"==t?O(et(n)):"import"==t?O(V):O()}function G(t){return t.match(/[;\}\)\],]/)?E():E(V)}function X(t,e){return","==t?O(V):Y(t,e,!1)}function Y(t,e,n){var r=0==n?X:Y,i=0==n?V:U;return"=>"==t?O(P,n?tt:Z,j):"operator"==t?/\+\+|--/.test(e)||u&&"!"==e?O(r):u&&"<"==e&&T.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?O(F(">"),ut(mt,">"),z,r):"?"==e?O(V,H(":"),i):O(i):"quasi"==t?E(J,r):";"!=t?"("==t?ct(U,")","call",r):"."==t?O(ot,r):"["==t?O(F("]"),G,H("]"),z,r):u&&"as"==e?(T.marked="keyword",O(mt,r)):"regexp"==t?(T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),O(i)):void 0:void 0}function J(t,e){return"quasi"!=t?E():"${"!=e.slice(e.length-2)?O(J):O(V,Q)}function Q(t){if("}"==t)return T.marked="string-2",T.state.tokenize=y,O(J)}function Z(t){return w(T.stream,T.state),E("{"==t?$:V)}function tt(t){return w(T.stream,T.state),E("{"==t?$:U)}function et(t){return function(e){return"."==e?O(t?rt:nt):"variable"==e&&u?O(bt,t?Y:X):E(t?U:V)}}function nt(t,e){if("target"==e)return T.marked="keyword",O(X)}function rt(t,e){if("target"==e)return T.marked="keyword",O(Y)}function it(t){return":"==t?O(z,$):E(X,H(";"),z)}function ot(t){if("variable"==t)return T.marked="property",O()}function st(t,e){return"async"==t?(T.marked="property",O(st)):"variable"==t||"keyword"==T.style?(T.marked="property","get"==e||"set"==e?O(at):(u&&T.state.fatArrowAt==T.stream.start&&(n=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+n[0].length),O(lt))):"number"==t||"string"==t?(T.marked=a?"property":T.style+" property",O(lt)):"jsonld-keyword"==t?O(lt):u&&D(e)?(T.marked="keyword",O(st)):"["==t?O(V,pt,H("]"),lt):"spread"==t?O(U,lt):"*"==e?(T.marked="keyword",O(st)):":"==t?E(lt):void 0;var n}function at(t){return"variable"!=t?E(lt):(T.marked="property",O(Lt))}function lt(t){return":"==t?O(U):"("==t?E(Lt):void 0}function ut(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=T.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),O((function(n,r){return n==e||r==e?E():E(t)}),r)}return i==e||o==e?O():n&&n.indexOf(";")>-1?E(t):O(H(e))}return function(n,i){return n==e||i==e?O():E(t,r)}}function ct(t,e,n){for(var r=3;r<arguments.length;r++)T.cc.push(arguments[r]);return O(F(e,n),ut(t,e),z)}function ht(t){return"}"==t?O():E($,ht)}function pt(t,e){if(u){if(":"==t||"in"==e)return O(mt);if("?"==e)return O(pt)}}function dt(t){if(u&&":"==t)return T.stream.match(/^\s*\w+\s+is\b/,!1)?O(V,ft,mt):O(mt)}function ft(t,e){if("is"==e)return T.marked="keyword",O()}function mt(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(T.marked="keyword",O("typeof"==e?U:mt)):"variable"==t||"void"==e?(T.marked="type",O(yt)):"|"==e||"&"==e?O(mt):"string"==t||"number"==t||"atom"==t?O(yt):"["==t?O(F("]"),ut(mt,"]",","),z,yt):"{"==t?O(F("}"),ut(vt,"}",",;"),z,yt):"("==t?O(ut(_t,")"),gt,yt):"<"==t?O(ut(mt,">"),mt):void 0}function gt(t){if("=>"==t)return O(mt)}function vt(t,e){return"variable"==t||"keyword"==T.style?(T.marked="property",O(vt)):"?"==e||"number"==t||"string"==t?O(vt):":"==t?O(mt):"["==t?O(H("variable"),pt,H("]"),vt):"("==t?E(It,vt):void 0}function _t(t,e){return"variable"==t&&T.stream.match(/^\s*[?:]/,!1)||"?"==e?O(_t):":"==t?O(mt):"spread"==t?O(_t):E(mt)}function yt(t,e){return"<"==e?O(F(">"),ut(mt,">"),z,yt):"|"==e||"."==t||"&"==e?O(mt):"["==t?O(mt,H("]"),yt):"extends"==e||"implements"==e?(T.marked="keyword",O(mt)):"?"==e?O(mt,H(":"),mt):void 0}function bt(t,e){if("<"==e)return O(F(">"),ut(mt,">"),z,yt)}function wt(){return E(mt,xt)}function xt(t,e){if("="==e)return O(mt)}function kt(t,e){return"enum"==e?(T.marked="keyword",O(Yt)):E(Ct,pt,Et,Ot)}function Ct(t,e){return u&&D(e)?(T.marked="keyword",O(Ct)):"variable"==t?(N(e),O()):"spread"==t?O(Ct):"["==t?ct(Tt,"]"):"{"==t?ct(St,"}"):void 0}function St(t,e){return"variable"!=t||T.stream.match(/^\s*:/,!1)?("variable"==t&&(T.marked="property"),"spread"==t?O(Ct):"}"==t?E():"["==t?O(V,H("]"),H(":"),St):O(H(":"),Ct,Et)):(N(e),O(Et))}function Tt(){return E(Ct,Et)}function Et(t,e){if("="==e)return O(U)}function Ot(t){if(","==t)return O(kt)}function Mt(t,e){if("keyword b"==t&&"else"==e)return O(F("form","else"),$,z)}function Nt(t,e){return"await"==e?O(Nt):"("==t?O(F(")"),At,z):void 0}function At(t){return"var"==t?O(kt,Dt):"variable"==t?O(Dt):E(Dt)}function Dt(t,e){return")"==t?O():";"==t?O(Dt):"in"==e||"of"==e?(T.marked="keyword",O(V,Dt)):E(V,Dt)}function Lt(t,e){return"*"==e?(T.marked="keyword",O(Lt)):"variable"==t?(N(e),O(Lt)):"("==t?O(P,F(")"),ut(Pt,")"),z,dt,$,j):u&&"<"==e?O(F(">"),ut(wt,">"),z,Lt):void 0}function It(t,e){return"*"==e?(T.marked="keyword",O(It)):"variable"==t?(N(e),O(It)):"("==t?O(P,F(")"),ut(Pt,")"),z,dt,j):u&&"<"==e?O(F(">"),ut(wt,">"),z,It):void 0}function Rt(t,e){return"keyword"==t||"variable"==t?(T.marked="type",O(Rt)):"<"==e?O(F(">"),ut(wt,">"),z):void 0}function Pt(t,e){return"@"==e&&O(V,Pt),"spread"==t?O(Pt):u&&D(e)?(T.marked="keyword",O(Pt)):u&&"this"==t?O(pt,Et):E(Ct,pt,Et)}function Bt(t,e){return"variable"==t?jt(t,e):Ft(t,e)}function jt(t,e){if("variable"==t)return N(e),O(Ft)}function Ft(t,e){return"<"==e?O(F(">"),ut(wt,">"),z,Ft):"extends"==e||"implements"==e||u&&","==t?("implements"==e&&(T.marked="keyword"),O(u?mt:V,Ft)):"{"==t?O(F("}"),zt,z):void 0}function zt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||u&&D(e))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(T.marked="keyword",O(zt)):"variable"==t||"keyword"==T.style?(T.marked="property",O(u?Ht:Lt,zt)):"number"==t||"string"==t?O(u?Ht:Lt,zt):"["==t?O(V,pt,H("]"),u?Ht:Lt,zt):"*"==e?(T.marked="keyword",O(zt)):u&&"("==t?E(It,zt):";"==t||","==t?O(zt):"}"==t?O():"@"==e?O(V,zt):void 0}function Ht(t,e){if("?"==e)return O(Ht);if(":"==t)return O(mt,Et);if("="==e)return O(U);var n=T.state.lexical.prev,r=n&&"interface"==n.info;return E(r?It:Lt)}function $t(t,e){return"*"==e?(T.marked="keyword",O(Gt,H(";"))):"default"==e?(T.marked="keyword",O(V,H(";"))):"{"==t?O(ut(Wt,"}"),Gt,H(";")):E($)}function Wt(t,e){return"as"==e?(T.marked="keyword",O(H("variable"))):"variable"==t?E(U,Wt):void 0}function Vt(t){return"string"==t?O():"("==t?E(V):E(Ut,qt,Gt)}function Ut(t,e){return"{"==t?ct(Ut,"}"):("variable"==t&&N(e),"*"==e&&(T.marked="keyword"),O(Kt))}function qt(t){if(","==t)return O(Ut,qt)}function Kt(t,e){if("as"==e)return T.marked="keyword",O(Ut)}function Gt(t,e){if("from"==e)return T.marked="keyword",O(V)}function Xt(t){return"]"==t?O():E(ut(U,"]"))}function Yt(){return E(F("form"),Ct,H("{"),F("}"),ut(Jt,"}"),z,z)}function Jt(){return E(Ct,Et)}function Qt(t,e){return"operator"==t.lastType||","==t.lastType||p.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}function Zt(t,e,n){return e.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return j.lex=!0,z.lex=!0,{startState:function(t){var e={tokenize:g,lastType:"sof",cc:[],lexical:new k((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new L(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),w(t,e)),e.tokenize!=_&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==r?n:(e.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",S(e,n,r,i,t))},indent:function(e,r){if(e.tokenize==_)return t.Pass;if(e.tokenize!=g)return 0;var i,a=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==z)l=l.prev;else if(c!=Mt)break}while(("stat"==l.type||"form"==l.type)&&("}"==a||(i=e.cc[e.cc.length-1])&&(i==X||i==Y)&&!/^[,\.=+\-*:?[\(]/.test(r)))l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,p=a==h;return"vardef"==h?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+o:"stat"==h?l.indented+(Qt(e,r)?s||o:0):"switch"!=l.info||p||0==n.doubleIndentSwitch?l.align?l.column+(p?0:1):l.indented+(p?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Zt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=V&&e!=U||t.cc.pop()}}})),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}))},ffd6:function(t,e,n){var r=n("3729"),i=n("1310"),o="[object Symbol]";function s(t){return"symbol"==typeof t||i(t)&&r(t)==o}t.exports=s}}]);